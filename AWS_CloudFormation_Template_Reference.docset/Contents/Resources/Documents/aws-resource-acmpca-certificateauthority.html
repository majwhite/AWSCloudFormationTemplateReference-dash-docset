<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="aws-resource-acmpca-certificateauthority">AWS::ACMPCA::CertificateAuthority</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>Use the <code class="code">AWS::ACMPCA::CertificateAuthority</code> resource to create a private CA. Once
                                    the CA exists, you can use the <code class="code">AWS::ACMPCA::Certificate</code> resource to issue a
                                    new CA certificate. Alternatively, you can issue a CA certificate using an on-premises
                                    CA, and then use the <code class="code">AWS::ACMPCA::CertificateAuthorityActivation</code> resource
                                    to import the new CA certificate and activate the CA.
                                 </p>
                                 <div class="awsdocs-note">
                                    <div class="awsdocs-note-title">
                                       <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                    <div class="awsdocs-note-text">
                                       <p>Before removing a <code class="code">AWS::ACMPCA::CertificateAuthority</code> resource from the
                                          CloudFormation stack, disable the affected CA. Otherwise, the action will fail. You
                                          can disable the CA by removing its associated
                                          <code class="code">AWS::ACMPCA::CertificateAuthorityActivation</code> resource from
                                          CloudFormation. 
                                       </p>
                                    </div>
                                 </div>
                                 <h2 id="aws-resource-acmpca-certificateauthority-syntax">Syntax</h2>
                                 <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h3 id="aws-resource-acmpca-certificateauthority-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;Type&quot; : &quot;AWS::ACMPCA::CertificateAuthority&quot;,
  &quot;Properties&quot; : <span>{</span>
      &quot;<a href="#cfn-acmpca-certificateauthority-keyalgorithm">KeyAlgorithm</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-acmpca-certificateauthority-revocationconfiguration">RevocationConfiguration</a>&quot; : <code class="replaceable"><a href="./aws-properties-acmpca-certificateauthority-revocationconfiguration.html">RevocationConfiguration</a></code>,
      &quot;<a href="#cfn-acmpca-certificateauthority-signingalgorithm">SigningAlgorithm</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-acmpca-certificateauthority-subject">Subject</a>&quot; : <code class="replaceable"><a href="./aws-properties-acmpca-certificateauthority-subject.html">Subject</a></code>,
      &quot;<a href="#cfn-acmpca-certificateauthority-tags">Tags</a>&quot; : <code class="replaceable">[ <a href="aws-properties-resource-tags.html">Tag</a>, ... ]</code>,
      &quot;<a href="#cfn-acmpca-certificateauthority-type">Type</a>&quot; : <code class="replaceable">String</code>
    }
}
</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h3 id="aws-resource-acmpca-certificateauthority-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::ACMPCA::CertificateAuthority
Properties: 
  <a href="#cfn-acmpca-certificateauthority-keyalgorithm">KeyAlgorithm</a>: <code class="replaceable">String</code>
  <a href="#cfn-acmpca-certificateauthority-revocationconfiguration">RevocationConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-acmpca-certificateauthority-revocationconfiguration.html">RevocationConfiguration</a></code>
  <a href="#cfn-acmpca-certificateauthority-signingalgorithm">SigningAlgorithm</a>: <code class="replaceable">String</code>
  <a href="#cfn-acmpca-certificateauthority-subject">Subject</a>: <code class="replaceable">
    <a href="./aws-properties-acmpca-certificateauthority-subject.html">Subject</a></code>
  <a href="#cfn-acmpca-certificateauthority-tags">Tags</a>: <code class="replaceable">
    - <a href="aws-properties-resource-tags.html">Tag</a></code>
  <a href="#cfn-acmpca-certificateauthority-type">Type</a>: <code class="replaceable">String</code>
</code></pre></div>
                                 <h2 id="aws-resource-acmpca-certificateauthority-properties">Properties</h2>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="cfn-acmpca-certificateauthority-keyalgorithm"></a><span class="term"><code class="code">KeyAlgorithm</code></span></dt>
                                       <dd>
                                          		       
                                          <p>Type of the public key algorithm and size, in bits, of the key
                                             			pair that your CA creates when it issues a certificate. When you
                                             			create a subordinate CA, you must use a key algorithm supported by
                                             			the parent CA.
                                          </p>
                                          	     
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Allowed Values</em>: <code class="code">EC_prime256v1 | EC_secp384r1 | RSA_2048 | RSA_4096</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-acmpca-certificateauthority-revocationconfiguration"></a><span class="term"><code class="code">RevocationConfiguration</code></span></dt>
                                       <dd>
                                          
                                          <p>Information about the certificate revocation list (CRL) created and maintained by
                                             your
                                             private CA. Certificate revocation information used by the CreateCertificateAuthority
                                             and 
                                             UpdateCertificateAuthority actions. Your certificate authority can create and maintain
                                             a 
                                             certificate revocation list (CRL). A CRL contains information about certificates that
                                             
                                             have been revoked.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-acmpca-certificateauthority-revocationconfiguration.html">RevocationConfiguration</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-acmpca-certificateauthority-signingalgorithm"></a><span class="term"><code class="code">SigningAlgorithm</code></span></dt>
                                       <dd>
                                          		       
                                          <p>Name of the algorithm your private CA uses to sign certificate
                                             			requests.
                                          </p>
                                          		       
                                          <p>This parameter should not be confused with the
                                             				<code class="code">SigningAlgorithm</code> parameter used to sign
                                             			certificates when they are issued.
                                          </p>
                                          	     
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Allowed Values</em>: <code class="code">SHA256WITHECDSA | SHA256WITHRSA | SHA384WITHECDSA | SHA384WITHRSA | SHA512WITHECDSA
                                                | SHA512WITHRSA</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-acmpca-certificateauthority-subject"></a><span class="term"><code class="code">Subject</code></span></dt>
                                       <dd>
                                          		       
                                          <p>Structure that contains X.500 distinguished name information for
                                             			your private CA.
                                          </p>
                                          	     
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-acmpca-certificateauthority-subject.html">Subject</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-acmpca-certificateauthority-tags"></a><span class="term"><code class="code">Tags</code></span></dt>
                                       <dd>
                                          
                                          <p>Key-value pairs that will be attached to the new private CA. You can associate up
                                             to
                                             50 tags with a private CA. For information using tags with IAM to manage permissions,
                                             see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_iam-tags.html">Controlling Access Using 
                                                IAM Tags</a>.
                                          </p>        
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of <a href="aws-properties-resource-tags.html">Tag</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-acmpca-certificateauthority-type"></a><span class="term"><code class="code">Type</code></span></dt>
                                       <dd>
                                          		       
                                          <p>Type of your private CA.</p>
                                          	     
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Allowed Values</em>: <code class="code">ROOT | SUBORDINATE</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                    </dl>
                                 </div>
                                 <h2 id="aws-resource-acmpca-certificateauthority-return-values">Return Values</h2>
                                 <h3 id="aws-resource-acmpca-certificateauthority-return-values-ref">Ref</h3>
                                 <p>The Amazon Resource Name (ARN) of the certificate authority.</p>
                                 <h3 id="aws-resource-acmpca-certificateauthority-return-values-fn--getatt">Fn::GetAtt</h3>
                                 <p>The <code class="code">Fn::GetAtt</code> intrinsic function returns a value for a specified attribute of
                                    this type. The following are the available attributes and sample return values.
                                 </p>
                                 <p>For more information about using the <code class="code">Fn::GetAtt</code> intrinsic function, see <a href="intrinsic-function-reference-getatt.html">Fn::GetAtt</a>.
                                 </p>
                                 <h4 id="aws-resource-acmpca-certificateauthority-return-values-fn--getatt-fn--getatt"></h4>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="Arn-fn::getatt"></a><span class="term"><code class="code">Arn</code></span></dt>
                                       <dd>
                                          
                                          <p>The Amazon Resource Name (ARN) for the private CA that issued the certificate.</p>
                                          
                                       </dd>
                                       <dt><a id="CertificateSigningRequest-fn::getatt"></a><span class="term"><code class="code">CertificateSigningRequest</code></span></dt>
                                       <dd>    
                                          
                                          <p>The Base64 PEM-encoded certificate signing request (CSR) for your certificate authority
                                             certificate.
                                          </p>        
                                          
                                       </dd>
                                    </dl>
                                 </div>
                                 <h2 id="aws-resource-acmpca-certificateauthority--examples">Examples</h2>
                                 <p>The following example of a CloudFormation template sets up a CA hierarchy. The example
                                    illustrates the use of <code class="code">AWS::ACMPCA::Certificate</code>,
                                    <code class="code">AWS::ACMPCA::CertificateAuthority</code>, and
                                    <code class="code">AWS::ACMPCA::CertificateAuthorityActivation</code> resources. 
                                 </p>
                                 <h3 id="aws-resource-acmpca-certificateauthority--examples--Declaring_a_Private_CA_Hierarchy">Declaring a Private CA Hierarchy</h3>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-resource-acmpca-certificateauthority--examples--Declaring_a_Private_CA_Hierarchy--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   &quot;AWSTemplateFormatVersion&quot;:&quot;2010-09-09&quot;,
   &quot;Description&quot;:&quot;Cloudformation template to setup CA.&quot;,
   &quot;Resources&quot;:<span>{</span>
      &quot;RootCA&quot;:<span>{</span>
         &quot;Type&quot;:&quot;AWS::ACMPCA::CertificateAuthority&quot;,
         &quot;Properties&quot;:<span>{</span>
            &quot;Type&quot;:&quot;ROOT&quot;,
            &quot;KeyAlgorithm&quot;:&quot;RSA_2048&quot;,
            &quot;SigningAlgorithm&quot;:&quot;SHA256WITHRSA&quot;,
            &quot;Subject&quot;:<span>{</span>
               &quot;Country&quot;:&quot;US&quot;,
               &quot;Organization&quot;:&quot;string&quot;,
               &quot;OrganizationalUnit&quot;:&quot;string&quot;,
               &quot;DistinguishedNameQualifier&quot;:&quot;string&quot;,
               &quot;State&quot;:&quot;string&quot;,
               &quot;CommonName&quot;:&quot;123&quot;,
               &quot;SerialNumber&quot;:&quot;string&quot;,
               &quot;Locality&quot;:&quot;string&quot;,
               &quot;Title&quot;:&quot;string&quot;,
               &quot;Surname&quot;:&quot;string&quot;,
               &quot;GivenName&quot;:&quot;string&quot;,
               &quot;Initials&quot;:&quot;DG&quot;,
               &quot;Pseudonym&quot;:&quot;string&quot;,
               &quot;GenerationQualifier&quot;:&quot;DBG&quot;
            },
            &quot;RevocationConfiguration&quot;:<span>{</span>
               &quot;CrlConfiguration&quot;:<span>{</span>
                  &quot;Enabled&quot;:false
               }
            }
         }
      },
      &quot;RootCACertificate&quot;:<span>{</span>
         &quot;Type&quot;:&quot;AWS::ACMPCA::Certificate&quot;,
         &quot;Properties&quot;:<span>{</span>
            &quot;CertificateAuthorityArn&quot;:<span>{</span>
               &quot;Ref&quot;:&quot;RootCA&quot;
            },
            &quot;CertificateSigningRequest&quot;:<span>{</span>
               &quot;Fn::GetAtt&quot;:[
                  &quot;RootCA&quot;,
                  &quot;CertificateSigningRequest&quot;
               ]
            },
            &quot;SigningAlgorithm&quot;:&quot;SHA256WITHRSA&quot;,
            &quot;TemplateArn&quot;:&quot;arn:aws:acm-pca:::template/RootCACertificate/V1&quot;,
            &quot;Validity&quot;:<span>{</span>
               &quot;Type&quot;:&quot;DAYS&quot;,
               &quot;Value&quot;:100
            }
         }
      },
      &quot;RootCAActivation&quot;:<span>{</span>
         &quot;Type&quot;:&quot;AWS::ACMPCA::CertificateAuthorityActivation&quot;,
         &quot;Properties&quot;:<span>{</span>
            &quot;CertificateAuthorityArn&quot;:<span>{</span>
               &quot;Ref&quot;:&quot;RootCA&quot;
            },
            &quot;Certificate&quot;:<span>{</span>
               &quot;Fn::GetAtt&quot;:[
                  &quot;RootCACertificate&quot;,
                  &quot;Certificate&quot;
               ]
            },
            &quot;Status&quot;:&quot;ACTIVE&quot;
         }
      },
      &quot;SubordinateCAOne&quot;:<span>{</span>
         &quot;Type&quot;:&quot;AWS::ACMPCA::CertificateAuthority&quot;,
         &quot;Properties&quot;:<span>{</span>
            &quot;Type&quot;:&quot;SUBORDINATE&quot;,
            &quot;KeyAlgorithm&quot;:&quot;RSA_2048&quot;,
            &quot;SigningAlgorithm&quot;:&quot;SHA256WITHRSA&quot;,
            &quot;Subject&quot;:<span>{</span>
               &quot;Country&quot;:&quot;US&quot;,
               &quot;Organization&quot;:&quot;string&quot;,
               &quot;OrganizationalUnit&quot;:&quot;string&quot;,
               &quot;DistinguishedNameQualifier&quot;:&quot;string&quot;,
               &quot;State&quot;:&quot;string&quot;,
               &quot;CommonName&quot;:&quot;Sub1&quot;,
               &quot;SerialNumber&quot;:&quot;string&quot;,
               &quot;Locality&quot;:&quot;string&quot;,
               &quot;Title&quot;:&quot;string&quot;,
               &quot;Surname&quot;:&quot;string&quot;,
               &quot;GivenName&quot;:&quot;string&quot;,
               &quot;Initials&quot;:&quot;DG&quot;,
               &quot;Pseudonym&quot;:&quot;string&quot;,
               &quot;GenerationQualifier&quot;:&quot;DBG&quot;
            },
            &quot;RevocationConfiguration&quot;:<span>{</span>

            },
            &quot;Tags&quot;:[

            ]
         }
      },
      &quot;SubordinateCAOneCACertificate&quot;:<span>{</span>
         &quot;DependsOn&quot;:&quot;RootCAActivation&quot;,
         &quot;Type&quot;:&quot;AWS::ACMPCA::Certificate&quot;,
         &quot;Properties&quot;:<span>{</span>
            &quot;CertificateAuthorityArn&quot;:<span>{</span>
               &quot;Ref&quot;:&quot;RootCA&quot;
            },
            &quot;CertificateSigningRequest&quot;:<span>{</span>
               &quot;Fn::GetAtt&quot;:[
                  &quot;SubordinateCAOne&quot;,
                  &quot;CertificateSigningRequest&quot;
               ]
            },
            &quot;SigningAlgorithm&quot;:&quot;SHA256WITHRSA&quot;,
            &quot;TemplateArn&quot;:&quot;arn:aws:acm-pca:::template/SubordinateCACertificate_PathLen3/V1&quot;,
            &quot;Validity&quot;:<span>{</span>
               &quot;Type&quot;:&quot;DAYS&quot;,
               &quot;Value&quot;:90
            }
         }
      },
      &quot;SubordinateCAOneActivation&quot;:<span>{</span>
         &quot;Type&quot;:&quot;AWS::ACMPCA::CertificateAuthorityActivation&quot;,
         &quot;Properties&quot;:<span>{</span>
            &quot;CertificateAuthorityArn&quot;:<span>{</span>
               &quot;Ref&quot;:&quot;SubordinateCAOne&quot;
            },
            &quot;Certificate&quot;:<span>{</span>
               &quot;Fn::GetAtt&quot;:[
                  &quot;SubordinateCAOneCACertificate&quot;,
                  &quot;Certificate&quot;
               ]
            },
            &quot;CertificateChain&quot;:<span>{</span>
               &quot;Fn::GetAtt&quot;:[
                  &quot;RootCAActivation&quot;,
                  &quot;CompleteCertificateChain&quot;
               ]
            },
            &quot;Status&quot;:&quot;ACTIVE&quot;
         }
      },
      &quot;SubordinateCATwo&quot;:<span>{</span>
         &quot;Type&quot;:&quot;AWS::ACMPCA::CertificateAuthority&quot;,
         &quot;Properties&quot;:<span>{</span>
            &quot;Type&quot;:&quot;SUBORDINATE&quot;,
            &quot;KeyAlgorithm&quot;:&quot;RSA_2048&quot;,
            &quot;SigningAlgorithm&quot;:&quot;SHA256WITHRSA&quot;,
            &quot;Subject&quot;:<span>{</span>
               &quot;Country&quot;:&quot;US&quot;,
               &quot;Organization&quot;:&quot;string&quot;,
               &quot;OrganizationalUnit&quot;:&quot;string&quot;,
               &quot;DistinguishedNameQualifier&quot;:&quot;string&quot;,
               &quot;State&quot;:&quot;string&quot;,
               &quot;SerialNumber&quot;:&quot;string&quot;,
               &quot;Locality&quot;:&quot;string&quot;,
               &quot;Title&quot;:&quot;string&quot;,
               &quot;Surname&quot;:&quot;string&quot;,
               &quot;GivenName&quot;:&quot;string&quot;,
               &quot;Initials&quot;:&quot;DG&quot;,
               &quot;Pseudonym&quot;:&quot;string&quot;,
               &quot;GenerationQualifier&quot;:&quot;DBG&quot;
            },
            &quot;Tags&quot;:[
               <span>{</span>
                  &quot;Key&quot;:&quot;Key1&quot;,
                  &quot;Value&quot;:&quot;Value1&quot;
               },
               <span>{</span>
                  &quot;Key&quot;:&quot;Key2&quot;,
                  &quot;Value&quot;:&quot;Value2&quot;
               }
            ]
         }
      },
      &quot;SubordinateCATwoCACertificate&quot;:<span>{</span>
         &quot;DependsOn&quot;:&quot;SubordinateCAOneActivation&quot;,
         &quot;Type&quot;:&quot;AWS::ACMPCA::Certificate&quot;,
         &quot;Properties&quot;:<span>{</span>
            &quot;CertificateAuthorityArn&quot;:<span>{</span>
               &quot;Ref&quot;:&quot;SubordinateCAOne&quot;
            },
            &quot;CertificateSigningRequest&quot;:<span>{</span>
               &quot;Fn::GetAtt&quot;:[
                  &quot;SubordinateCATwo&quot;,
                  &quot;CertificateSigningRequest&quot;
               ]
            },
            &quot;SigningAlgorithm&quot;:&quot;SHA256WITHRSA&quot;,
            &quot;TemplateArn&quot;:&quot;arn:aws:acm-pca:::template/SubordinateCACertificate_PathLen2/V1&quot;,
            &quot;Validity&quot;:<span>{</span>
               &quot;Type&quot;:&quot;DAYS&quot;,
               &quot;Value&quot;:80
            }
         }
      },
      &quot;SubordinateCATwoActivation&quot;:<span>{</span>
         &quot;Type&quot;:&quot;AWS::ACMPCA::CertificateAuthorityActivation&quot;,
         &quot;Properties&quot;:<span>{</span>
            &quot;CertificateAuthorityArn&quot;:<span>{</span>
               &quot;Ref&quot;:&quot;SubordinateCATwo&quot;
            },
            &quot;Certificate&quot;:<span>{</span>
               &quot;Fn::GetAtt&quot;:[
                  &quot;SubordinateCATwoCACertificate&quot;,
                  &quot;Certificate&quot;
               ]
            },
            &quot;CertificateChain&quot;:<span>{</span>
               &quot;Fn::GetAtt&quot;:[
                  &quot;SubordinateCAOneActivation&quot;,
                  &quot;CompleteCertificateChain&quot;
               ]
            }
         }
      },
      &quot;EndEntityCertificate&quot;:<span>{</span>
         &quot;DependsOn&quot;:&quot;SubordinateCATwoActivation&quot;,
         &quot;Type&quot;:&quot;AWS::ACMPCA::Certificate&quot;,
         &quot;Properties&quot;:<span>{</span>
            &quot;CertificateAuthorityArn&quot;:<span>{</span>
               &quot;Ref&quot;:&quot;SubordinateCATwo&quot;
            },
            &quot;CertificateSigningRequest&quot;:<span>{</span>
               &quot;Fn::Join&quot;:[
                  &quot;\n&quot;,
                  [
                     &quot;-----BEGIN CERTIFICATE REQUEST-----&quot;,
                     &quot;MIICvDCCAaQCAQAwdzELMAkGA1UEBhMCVVMxDTALBgNVBAgMBFV0YWgxDzANBgNV&quot;,
                     &quot;BAcMBkxpbmRvbjEWMBQGA1UECgwNRGlnaUNlcnQgSW5jLjERMA8GA1UECwwIRGln&quot;,
                     &quot;aUNlcnQxHTAbBgNVBAMMFGV4YW1wbGUuZGlnaWNlcnQuY29tMIIBIjANBgkqhkiG&quot;,
                     &quot;9w0BAQEFAAOCAQ8AMIIBCgKCAQEA8+To7d+2kPWeBv/orU3LVbJwDrSQbeKamCmo&quot;,
                     &quot;wp5bqDxIwV20zqRb7APUOKYoVEFFOEQs6T6gImnIolhbiH6m4zgZ/CPvWBOkZc+c&quot;,
                     &quot;1Po2EmvBz+AD5sBdT5kzGQA6NbWyZGldxRthNLOs1efOhdnWFuhI162qmcflgpiI&quot;,
                     &quot;WDuwq4C9f+YkeJhNn9dF5+owm8cOQmDrV8NNdiTqin8q3qYAHHJRW28glJUCZkTZ&quot;,
                     &quot;wIaSR6crBQ8TbYNE0dc+Caa3DOIkz1EOsHWzTx+n0zKfqcbgXi4DJx+C1bjptYPR&quot;,
                     &quot;BPZL8DAeWuA8ebudVT44yEp82G96/Ggcf7F33xMxe0yc+Xa6owIDAQABoAAwDQYJ&quot;,
                     &quot;KoZIhvcNAQEFBQADggEBAB0kcrFccSmFDmxox0Ne01UIqSsDqHgL+XmHTXJwre6D&quot;,
                     &quot;hJSZwbvEtOK0G3+dr4Fs11WuUNt5qcLsx5a8uk4G6AKHMzuhLsJ7XZjgmQXGECpY&quot;,
                     &quot;Q4mC3yT3ZoCGpIXbw+iP3lmEEXgaQL0Tx5LFl/okKbKYwIqNiyKWOMj7ZR/wxWg/&quot;,
                     &quot;ZDGRs55xuoeLDJ/ZRFf9bI+IaCUd1YrfYcHIl3G87Av+r49YVwqRDT0VDV7uLgqn&quot;,
                     &quot;29XI1PpVUNCPQGn9p/eX6Qo7vpDaPybRtA2R7XLKjQaF9oXWeCUqy1hvJac9QFO2&quot;,
                     &quot;97Ob1alpHPoZ7mWiEuJwjBPii6a9M9G30nUo39lBi1w=&quot;,
                     &quot;-----END CERTIFICATE REQUEST-----&quot;
                  ]
               ]
            },
            &quot;SigningAlgorithm&quot;:&quot;SHA256WITHRSA&quot;,
            &quot;Validity&quot;:<span>{</span>
               &quot;Type&quot;:&quot;DAYS&quot;,
               &quot;Value&quot;:70
            }
         }
      }
   },
   &quot;Outputs&quot;:<span>{</span>
      &quot;CompleteCertificateChain&quot;:<span>{</span>
         &quot;Value&quot;:<span>{</span>
            &quot;Fn::GetAtt&quot;:[
               &quot;SubordinateCATwoActivation&quot;,
               &quot;CompleteCertificateChain&quot;
            ]
         }
      },
      &quot;CertificateArn&quot;:<span>{</span>
         &quot;Value&quot;:<span>{</span>
            &quot;Fn::GetAtt&quot;:[
               &quot;EndEntityCertificate&quot;,
               &quot;Arn&quot;
            ]
         }
      }
   }
}</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-resource-acmpca-certificateauthority--examples--Declaring_a_Private_CA_Hierarchy--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: 2010-09-09
Description: Cloudformation template to setup CA.
Resources:
  RootCA:
    Type: &apos;AWS::ACMPCA::CertificateAuthority&apos;
    Properties:
      Type: ROOT
      KeyAlgorithm: RSA_2048
      SigningAlgorithm: SHA256WITHRSA
      Subject:
        Country: US
        Organization: string
        OrganizationalUnit: string
        DistinguishedNameQualifier: string
        State: string
        CommonName: &apos;123&apos;
        SerialNumber: string
        Locality: string
        Title: string
        Surname: string
        GivenName: string
        Initials: DG
        Pseudonym: string
        GenerationQualifier: DBG
      RevocationConfiguration:
        CrlConfiguration:
          Enabled: false
  RootCACertificate:
    Type: &apos;AWS::ACMPCA::Certificate&apos;
    Properties:
      CertificateAuthorityArn: !Ref RootCA
      CertificateSigningRequest: !GetAtt 
        - RootCA
        - CertificateSigningRequest
      SigningAlgorithm: SHA256WITHRSA
      TemplateArn: &apos;arn:aws:acm-pca:::template/RootCACertificate/V1&apos;
      Validity:
        Type: DAYS
        Value: 100
  RootCAActivation:
    Type: &apos;AWS::ACMPCA::CertificateAuthorityActivation&apos;
    Properties:
      CertificateAuthorityArn: !Ref RootCA
      Certificate: !GetAtt 
        - RootCACertificate
        - Certificate
      Status: ACTIVE
  SubordinateCAOne:
    Type: &apos;AWS::ACMPCA::CertificateAuthority&apos;
    Properties:
      Type: SUBORDINATE
      KeyAlgorithm: RSA_2048
      SigningAlgorithm: SHA256WITHRSA
      Subject:
        Country: US
        Organization: string
        OrganizationalUnit: string
        DistinguishedNameQualifier: string
        State: string
        CommonName: Sub1
        SerialNumber: string
        Locality: string
        Title: string
        Surname: string
        GivenName: string
        Initials: DG
        Pseudonym: string
        GenerationQualifier: DBG
      RevocationConfiguration: <span>{</span>}
      Tags: []
  SubordinateCAOneCACertificate:
    DependsOn: RootCAActivation
    Type: &apos;AWS::ACMPCA::Certificate&apos;
    Properties:
      CertificateAuthorityArn: !Ref RootCA
      CertificateSigningRequest: !GetAtt 
        - SubordinateCAOne
        - CertificateSigningRequest
      SigningAlgorithm: SHA256WITHRSA
      TemplateArn: &apos;arn:aws:acm-pca:::template/SubordinateCACertificate_PathLen3/V1&apos;
      Validity:
        Type: DAYS
        Value: 90
  SubordinateCAOneActivation:
    Type: &apos;AWS::ACMPCA::CertificateAuthorityActivation&apos;
    Properties:
      CertificateAuthorityArn: !Ref SubordinateCAOne
      Certificate: !GetAtt 
        - SubordinateCAOneCACertificate
        - Certificate
      CertificateChain: !GetAtt 
        - RootCAActivation
        - CompleteCertificateChain
      Status: ACTIVE
  SubordinateCATwo:
    Type: &apos;AWS::ACMPCA::CertificateAuthority&apos;
    Properties:
      Type: SUBORDINATE
      KeyAlgorithm: RSA_2048
      SigningAlgorithm: SHA256WITHRSA
      Subject:
        Country: US
        Organization: string
        OrganizationalUnit: string
        DistinguishedNameQualifier: string
        State: string
        SerialNumber: string
        Locality: string
        Title: string
        Surname: string
        GivenName: string
        Initials: DG
        Pseudonym: string
        GenerationQualifier: DBG
      Tags:
        - Key: Key1
          Value: Value1
        - Key: Key2
          Value: Value2
  SubordinateCATwoCACertificate:
    DependsOn: SubordinateCAOneActivation
    Type: &apos;AWS::ACMPCA::Certificate&apos;
    Properties:
      CertificateAuthorityArn: !Ref SubordinateCAOne
      CertificateSigningRequest: !GetAtt 
        - SubordinateCATwo
        - CertificateSigningRequest
      SigningAlgorithm: SHA256WITHRSA
      TemplateArn: &apos;arn:aws:acm-pca:::template/SubordinateCACertificate_PathLen2/V1&apos;
      Validity:
        Type: DAYS
        Value: 80
  SubordinateCATwoActivation:
    Type: &apos;AWS::ACMPCA::CertificateAuthorityActivation&apos;
    Properties:
      CertificateAuthorityArn: !Ref SubordinateCATwo
      Certificate: !GetAtt 
        - SubordinateCATwoCACertificate
        - Certificate
      CertificateChain: !GetAtt 
        - SubordinateCAOneActivation
        - CompleteCertificateChain
  EndEntityCertificate:
    DependsOn: SubordinateCATwoActivation
    Type: &apos;AWS::ACMPCA::Certificate&apos;
    Properties:
      CertificateAuthorityArn: !Ref SubordinateCATwo
      CertificateSigningRequest: !Join 
        - |+
 
        - - &apos;-----BEGIN CERTIFICATE REQUEST-----&apos;
          - MIICvDCCAaQCAQAwdzELMAkGA1UEBhMCVVMxDTALBgNVBAgMBFV0YWgxDzANBgNV
          - BAcMBkxpbmRvbjEWMBQGA1UECgwNRGlnaUNlcnQgSW5jLjERMA8GA1UECwwIRGln
          - aUNlcnQxHTAbBgNVBAMMFGV4YW1wbGUuZGlnaWNlcnQuY29tMIIBIjANBgkqhkiG
          - 9w0BAQEFAAOCAQ8AMIIBCgKCAQEA8+To7d+2kPWeBv/orU3LVbJwDrSQbeKamCmo
          - wp5bqDxIwV20zqRb7APUOKYoVEFFOEQs6T6gImnIolhbiH6m4zgZ/CPvWBOkZc+c
          - 1Po2EmvBz+AD5sBdT5kzGQA6NbWyZGldxRthNLOs1efOhdnWFuhI162qmcflgpiI
          - WDuwq4C9f+YkeJhNn9dF5+owm8cOQmDrV8NNdiTqin8q3qYAHHJRW28glJUCZkTZ
          - wIaSR6crBQ8TbYNE0dc+Caa3DOIkz1EOsHWzTx+n0zKfqcbgXi4DJx+C1bjptYPR
          - BPZL8DAeWuA8ebudVT44yEp82G96/Ggcf7F33xMxe0yc+Xa6owIDAQABoAAwDQYJ
          - KoZIhvcNAQEFBQADggEBAB0kcrFccSmFDmxox0Ne01UIqSsDqHgL+XmHTXJwre6D
          - hJSZwbvEtOK0G3+dr4Fs11WuUNt5qcLsx5a8uk4G6AKHMzuhLsJ7XZjgmQXGECpY
          - Q4mC3yT3ZoCGpIXbw+iP3lmEEXgaQL0Tx5LFl/okKbKYwIqNiyKWOMj7ZR/wxWg/
          - ZDGRs55xuoeLDJ/ZRFf9bI+IaCUd1YrfYcHIl3G87Av+r49YVwqRDT0VDV7uLgqn
          - 29XI1PpVUNCPQGn9p/eX6Qo7vpDaPybRtA2R7XLKjQaF9oXWeCUqy1hvJac9QFO2
          - 97Ob1alpHPoZ7mWiEuJwjBPii6a9M9G30nUo39lBi1w=
          - &apos;-----END CERTIFICATE REQUEST-----&apos;
      SigningAlgorithm: SHA256WITHRSA
      Validity:
        Type: DAYS
        Value: 70
Outputs:
  CompleteCertificateChain:
    Value: !GetAtt 
      - SubordinateCATwoActivation
      - CompleteCertificateChain
  CertificateArn:
    Value: !GetAtt 
      - EndEntityCertificate
      - Arn</code></pre></div>
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning"> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the AWS Documentation, Javascript must be
                                                enabled. Please refer to your browser&apos;s Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div></div>
</body>
</html>