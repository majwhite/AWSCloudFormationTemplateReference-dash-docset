<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="aws-resource-sagemaker-dataqualityjobdefinition">AWS::SageMaker::DataQualityJobDefinition</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>Creates a definition for a job that monitors data quality and drift. For information
                                    about model monitor, see <a href="https://docs.aws.amazon.com/sagemaker/latest/dg/model-monitor.html">Amazon SageMaker Model Monitor</a>.
                                 </p>
                                 <h2 id="aws-resource-sagemaker-dataqualityjobdefinition-syntax">Syntax</h2>
                                 <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h3 id="aws-resource-sagemaker-dataqualityjobdefinition-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;Type&quot; : &quot;AWS::SageMaker::DataQualityJobDefinition&quot;,
  &quot;Properties&quot; : <span>{</span>
      &quot;<a href="#cfn-sagemaker-dataqualityjobdefinition-dataqualityappspecification">DataQualityAppSpecification</a>&quot; : <code class="replaceable"><a href="./aws-properties-sagemaker-dataqualityjobdefinition-dataqualityappspecification.html">DataQualityAppSpecification</a></code>,
      &quot;<a href="#cfn-sagemaker-dataqualityjobdefinition-dataqualitybaselineconfig">DataQualityBaselineConfig</a>&quot; : <code class="replaceable"><a href="./aws-properties-sagemaker-dataqualityjobdefinition-dataqualitybaselineconfig.html">DataQualityBaselineConfig</a></code>,
      &quot;<a href="#cfn-sagemaker-dataqualityjobdefinition-dataqualityjobinput">DataQualityJobInput</a>&quot; : <code class="replaceable"><a href="./aws-properties-sagemaker-dataqualityjobdefinition-dataqualityjobinput.html">DataQualityJobInput</a></code>,
      &quot;<a href="#cfn-sagemaker-dataqualityjobdefinition-dataqualityjoboutputconfig">DataQualityJobOutputConfig</a>&quot; : <code class="replaceable"><a href="./aws-properties-sagemaker-dataqualityjobdefinition-monitoringoutputconfig.html">MonitoringOutputConfig</a></code>,
      &quot;<a href="#cfn-sagemaker-dataqualityjobdefinition-jobdefinitionname">JobDefinitionName</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-sagemaker-dataqualityjobdefinition-jobresources">JobResources</a>&quot; : <code class="replaceable"><a href="./aws-properties-sagemaker-dataqualityjobdefinition-monitoringresources.html">MonitoringResources</a></code>,
      &quot;<a href="#cfn-sagemaker-dataqualityjobdefinition-networkconfig">NetworkConfig</a>&quot; : <code class="replaceable"><a href="./aws-properties-sagemaker-dataqualityjobdefinition-networkconfig.html">NetworkConfig</a></code>,
      &quot;<a href="#cfn-sagemaker-dataqualityjobdefinition-rolearn">RoleArn</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-sagemaker-dataqualityjobdefinition-stoppingcondition">StoppingCondition</a>&quot; : <code class="replaceable"><a href="./aws-properties-sagemaker-dataqualityjobdefinition-stoppingcondition.html">StoppingCondition</a></code>,
      &quot;<a href="#cfn-sagemaker-dataqualityjobdefinition-tags">Tags</a>&quot; : <code class="replaceable">[ <a href="aws-properties-resource-tags.html">Tag</a>, ... ]</code>
    }
}
</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h3 id="aws-resource-sagemaker-dataqualityjobdefinition-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::SageMaker::DataQualityJobDefinition
Properties: 
  <a href="#cfn-sagemaker-dataqualityjobdefinition-dataqualityappspecification">DataQualityAppSpecification</a>: <code class="replaceable">
    <a href="./aws-properties-sagemaker-dataqualityjobdefinition-dataqualityappspecification.html">DataQualityAppSpecification</a></code>
  <a href="#cfn-sagemaker-dataqualityjobdefinition-dataqualitybaselineconfig">DataQualityBaselineConfig</a>: <code class="replaceable">
    <a href="./aws-properties-sagemaker-dataqualityjobdefinition-dataqualitybaselineconfig.html">DataQualityBaselineConfig</a></code>
  <a href="#cfn-sagemaker-dataqualityjobdefinition-dataqualityjobinput">DataQualityJobInput</a>: <code class="replaceable">
    <a href="./aws-properties-sagemaker-dataqualityjobdefinition-dataqualityjobinput.html">DataQualityJobInput</a></code>
  <a href="#cfn-sagemaker-dataqualityjobdefinition-dataqualityjoboutputconfig">DataQualityJobOutputConfig</a>: <code class="replaceable">
    <a href="./aws-properties-sagemaker-dataqualityjobdefinition-monitoringoutputconfig.html">MonitoringOutputConfig</a></code>
  <a href="#cfn-sagemaker-dataqualityjobdefinition-jobdefinitionname">JobDefinitionName</a>: <code class="replaceable">String</code>
  <a href="#cfn-sagemaker-dataqualityjobdefinition-jobresources">JobResources</a>: <code class="replaceable">
    <a href="./aws-properties-sagemaker-dataqualityjobdefinition-monitoringresources.html">MonitoringResources</a></code>
  <a href="#cfn-sagemaker-dataqualityjobdefinition-networkconfig">NetworkConfig</a>: <code class="replaceable">
    <a href="./aws-properties-sagemaker-dataqualityjobdefinition-networkconfig.html">NetworkConfig</a></code>
  <a href="#cfn-sagemaker-dataqualityjobdefinition-rolearn">RoleArn</a>: <code class="replaceable">String</code>
  <a href="#cfn-sagemaker-dataqualityjobdefinition-stoppingcondition">StoppingCondition</a>: <code class="replaceable">
    <a href="./aws-properties-sagemaker-dataqualityjobdefinition-stoppingcondition.html">StoppingCondition</a></code>
  <a href="#cfn-sagemaker-dataqualityjobdefinition-tags">Tags</a>: <code class="replaceable">
    - <a href="aws-properties-resource-tags.html">Tag</a></code>
</code></pre></div>
                                 <h2 id="aws-resource-sagemaker-dataqualityjobdefinition-properties">Properties</h2>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="cfn-sagemaker-dataqualityjobdefinition-dataqualityappspecification"></a><span class="term"><code class="code">DataQualityAppSpecification</code></span></dt>
                                       <dd>
                                          
                                          <p>Specifies the container that runs the monitoring job.</p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-sagemaker-dataqualityjobdefinition-dataqualityappspecification.html">DataQualityAppSpecification</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-sagemaker-dataqualityjobdefinition-dataqualitybaselineconfig"></a><span class="term"><code class="code">DataQualityBaselineConfig</code></span></dt>
                                       <dd>
                                          
                                          <p>Configures the constraints and baselines for the monitoring job.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-sagemaker-dataqualityjobdefinition-dataqualitybaselineconfig.html">DataQualityBaselineConfig</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-sagemaker-dataqualityjobdefinition-dataqualityjobinput"></a><span class="term"><code class="code">DataQualityJobInput</code></span></dt>
                                       <dd>
                                          
                                          <p>A list of inputs for the monitoring job. Currently endpoints are supported as
                                             monitoring inputs.
                                          </p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-sagemaker-dataqualityjobdefinition-dataqualityjobinput.html">DataQualityJobInput</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-sagemaker-dataqualityjobdefinition-dataqualityjoboutputconfig"></a><span class="term"><code class="code">DataQualityJobOutputConfig</code></span></dt>
                                       <dd>
                                          
                                          <p>The output configuration for monitoring jobs.</p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-sagemaker-dataqualityjobdefinition-monitoringoutputconfig.html">MonitoringOutputConfig</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-sagemaker-dataqualityjobdefinition-jobdefinitionname"></a><span class="term"><code class="code">JobDefinitionName</code></span></dt>
                                       <dd>
                                          
                                          <p>The name for the monitoring job definition.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-sagemaker-dataqualityjobdefinition-jobresources"></a><span class="term"><code class="code">JobResources</code></span></dt>
                                       <dd>
                                          
                                          <p>Identifies the resources to deploy for a monitoring job.</p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-sagemaker-dataqualityjobdefinition-monitoringresources.html">MonitoringResources</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-sagemaker-dataqualityjobdefinition-networkconfig"></a><span class="term"><code class="code">NetworkConfig</code></span></dt>
                                       <dd>
                                          
                                          <p>Specifies networking configuration for the monitoring job.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-sagemaker-dataqualityjobdefinition-networkconfig.html">NetworkConfig</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-sagemaker-dataqualityjobdefinition-rolearn"></a><span class="term"><code class="code">RoleArn</code></span></dt>
                                       <dd>
                                          
                                          <p>The Amazon Resource Name (ARN) of an IAM role that Amazon SageMaker can assume to
                                             perform tasks on your behalf.
                                          </p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-sagemaker-dataqualityjobdefinition-stoppingcondition"></a><span class="term"><code class="code">StoppingCondition</code></span></dt>
                                       <dd>
                                          
                                          <p>A time limit for how long the monitoring job is allowed to run before stopping.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-sagemaker-dataqualityjobdefinition-stoppingcondition.html">StoppingCondition</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-sagemaker-dataqualityjobdefinition-tags"></a><span class="term"><code class="code">Tags</code></span></dt>
                                       <dd>
                                          
                                          <p>An array of key-value pairs to apply to this resource.</p>
                                          
                                          <p>For more information, see <a href="aws-properties-resource-tags.html">Tag</a>.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of <a href="aws-properties-resource-tags.html">Tag</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                    </dl>
                                 </div>
                                 <h2 id="aws-resource-sagemaker-dataqualityjobdefinition-return-values">Return values</h2>
                                 <h3 id="aws-resource-sagemaker-dataqualityjobdefinition-return-values-ref">Ref</h3>
                                 <h3 id="aws-resource-sagemaker-dataqualityjobdefinition-return-values-fn--getatt">Fn::GetAtt</h3>
                                 <h4 id="aws-resource-sagemaker-dataqualityjobdefinition-return-values-fn--getatt-fn--getatt"></h4>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="CreationTime-fn::getatt"></a><span class="term"><code class="code">CreationTime</code></span></dt>
                                       <dd>
                                          
                                          <p>The time when the job definition was created.</p>
                                          
                                       </dd>
                                       <dt><a id="JobDefinitionArn-fn::getatt"></a><span class="term"><code class="code">JobDefinitionArn</code></span></dt>
                                       <dd>
                                          
                                          <p>The Amazon Resource Name (ARN) of the job definition.</p>
                                          
                                       </dd>
                                    </dl>
                                 </div>
                                 <h2 id="aws-resource-sagemaker-dataqualityjobdefinition--examples">Examples</h2>
                                 <h3 id="aws-resource-sagemaker-dataqualityjobdefinition--examples--SageMaker_DataQualityJobDefinition_Example">SageMaker DataQualityJobDefinition Example</h3>
                                 <p>The following example creates a Data Quality monitoring job defintion.</p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-resource-sagemaker-dataqualityjobdefinition--examples--SageMaker_DataQualityJobDefinition_Example--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   &quot;AWSTemplateFormatVersion&quot;: &quot;2010-09-09&quot;,
   &quot;Description&quot;: &quot;Basic SageMaker Hosting entities to create a data quality job definition&quot;,
   &quot;Mappings&quot;: <span>{</span>
      &quot;RegionMap&quot;: <span>{</span>
         &quot;us-west-2&quot;: <span>{</span>
            &quot;MyModelImage&quot;: &quot;123456789012.dkr.ecr.us-west-2.amazonaws.com/mymodel:latest&quot;
         },
         &quot;us-east-2&quot;: <span>{</span>
            &quot;MyModelImage&quot;: &quot;123456789012.dkr.ecr.us-east-2.amazonaws.com/mymodel:latest&quot;
         },
         &quot;us-east-1&quot;: <span>{</span>
            &quot;MyModelImage&quot;: &quot;123456789012.dkr.ecr.us-east-1.amazonaws.com/mymodel:latest&quot;
         },
         &quot;eu-west-1&quot;: <span>{</span>
            &quot;MyModelImage&quot;: &quot;123456789012.dkr.ecr.eu-west-1.amazonaws.com/mymodel:latest&quot;
         },
         &quot;ap-northeast-1&quot;: <span>{</span>
            &quot;MyModelImage&quot;: &quot;123456789012.dkr.ecr.ap-northeast-1.amazonaws.com/mymodel:latest&quot;
         },
         &quot;ap-northeast-2&quot;: <span>{</span>
            &quot;MyModelImage&quot;: &quot;123456789012.dkr.ecr.ap-northeast-2.amazonaws.com/mymodel:latest&quot;
         },
         &quot;ap-southeast-2&quot;: <span>{</span>
            &quot;MyModelImage&quot;: &quot;123456789012.dkr.ecr.ap-southeast-2.amazonaws.com/mymodel:latest&quot;
         },
         &quot;eu-central-1&quot;: <span>{</span>
            &quot;MyModelImage&quot;: &quot;123456789012.dkr.ecr.eu-central-1.amazonaws.com/mymodel:latest&quot;
         }
      }
   },
   &quot;Resources&quot;: <span>{</span>
      &quot;Endpoint&quot;: <span>{</span>
         &quot;Type&quot;: &quot;AWS::SageMaker::Endpoint&quot;,
         &quot;Properties&quot;: <span>{</span>
            &quot;EndpointConfigName&quot;: <span>{</span>
            &quot;Fn::GetAtt&quot;: [
              &quot;EndpointConfigWithDataCapture&quot;,
              &quot;EndpointConfigName&quot;
             ]
                
            }
         }
      },
      &quot;EndpointConfigWithDataCapture&quot;: <span>{</span>
         &quot;Type&quot;: &quot;AWS::SageMaker::EndpointConfig&quot;,
         &quot;Properties&quot;: <span>{</span>
            &quot;ProductionVariants&quot;: [
               <span>{</span>
                  &quot;InitialInstanceCount&quot;: 1,
                  &quot;InitialVariantWeight&quot;: 1,
                  &quot;InstanceType&quot;: &quot;ml.t2.large&quot;,
                  &quot;ModelName&quot;: <span>{</span>
                     &quot;Fn::GetAtt&quot;: [
                       &quot;Model&quot;,
                       &quot;ModelName&quot;
                      ]
                
                },
                  &quot;VariantName&quot;: <span>{</span>
                     &quot;Fn::GetAtt&quot;: [
                       &quot;Model&quot;,
                       &quot;ModelName&quot;
                      ]
                
                }
               }
            ],
            &quot;DataCaptureConfig&quot;: <span>{</span>
               &quot;EnableCapture&quot;: true,
               &quot;InitialSamplingPercentage&quot;: 100,
               &quot;DestinationS3Uri&quot;: &quot;s3://bucket/prefix&quot;,
               &quot;KmsKeyId&quot;: &quot;kmskeyid&quot;,
               &quot;CaptureOptions&quot;: [
                  <span>{</span>
                     &quot;CaptureMode&quot;: &quot;Input&quot;
                  },
                  <span>{</span>
                     &quot;CaptureMode&quot;: &quot;Output&quot;
                  }
               ],
               &quot;CaptureContentTypeHeader&quot;: <span>{</span>
                  &quot;CsvContentTypes&quot;: [
                     &quot;text/csv&quot;
                  ],
                  &quot;JsonContentTypes&quot;: [
                     &quot;appplication/json&quot;
                  ]
               }
            }
         }
      },
      &quot;Model&quot;: <span>{</span>
         &quot;Type&quot;: &quot;AWS::SageMaker::Model&quot;,
         &quot;Properties&quot;: <span>{</span>
            &quot;PrimaryContainer&quot;: <span>{</span>
               &quot;Image&quot;: <span>{</span> &quot;Fn::FindInMap&quot;: [
                  &quot;RegionMap&quot;,
                  <span>{</span>&quot;Ref&quot;: &quot;AWS::Region&quot;},
                  &quot;MyModelImage&quot;
                 ]
               }
            },
            &quot;ExecutionRoleArn&quot;: <span>{</span>
                     &quot;Fn::GetAtt&quot;: [
                       &quot;ExecutionRole&quot;,
                       &quot;Arn&quot;
                      ]
                
                }
         }
      },
      &quot;ExecutionRole&quot;: <span>{</span>
         &quot;Type&quot;: &quot;AWS::IAM::Role&quot;,
         &quot;Properties&quot;: <span>{</span>
            &quot;AssumeRolePolicyDocument&quot;: <span>{</span>
               &quot;Version&quot;: &quot;2012-10-17&quot;,
               &quot;Statement&quot;: [
                  <span>{</span>
                     &quot;Effect&quot;: &quot;Allow&quot;,
                     &quot;Principal&quot;: <span>{</span>
                        &quot;Service&quot;: [
                           &quot;sagemaker.amazonaws.com&quot;
                        ]
                     },
                     &quot;Action&quot;: [
                        &quot;sts:AssumeRole&quot;
                     ]
                  }
               ]
            },
            &quot;Path&quot;: &quot;/&quot;,
            &quot;Policies&quot;: [
               <span>{</span>
                  &quot;PolicyName&quot;: &quot;root&quot;,
                  &quot;PolicyDocument&quot;: <span>{</span>
                     &quot;Version&quot;: &quot;2012-10-17&quot;,
                     &quot;Statement&quot;: [
                        <span>{</span>
                           &quot;Effect&quot;: &quot;Allow&quot;,
                           &quot;Action&quot;: &quot;*&quot;,
                           &quot;Resource&quot;: &quot;*&quot;
                        }
                     ]
                  }
               }
            ]
         }
      },
      &quot;JobDefinitionExecutionRole&quot;: <span>{</span>
         &quot;Type&quot;: &quot;AWS::IAM::Role&quot;,
         &quot;Properties&quot;: <span>{</span>
            &quot;AssumeRolePolicyDocument&quot;: <span>{</span>
               &quot;Version&quot;: &quot;2012-10-17&quot;,
               &quot;Statement&quot;: [
                  <span>{</span>
                     &quot;Effect&quot;: &quot;Allow&quot;,
                     &quot;Principal&quot;: <span>{</span>
                        &quot;Service&quot;: [
                           &quot;sagemaker.amazonaws.com&quot;
                        ]
                     },
                     &quot;Action&quot;: [
                        &quot;sts:AssumeRole&quot;
                     ]
                  }
               ]
            },
            &quot;ManagedPolicyArns&quot;: [
               <span>{</span>
                  &quot;Fn::Sub&quot;: &quot;arn:$<span>{</span>AWS::Partition}:iam::aws:policy/AmazonSageMakerFullAccess&quot;
               },
               <span>{</span>
                  &quot;Fn::Sub&quot;: &quot;arn:$<span>{</span>AWS::Partition}:iam::aws:policy/AmazonS3FullAccess&quot;
               },
               <span>{</span>
                  &quot;Fn::Sub&quot;: &quot;arn:$<span>{</span>AWS::Partition}:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly&quot;
               }
            ]
         }
      },
      &quot;DataQualityJobDefinition&quot;: <span>{</span>
         &quot;Type&quot;: &quot;AWS::SageMaker::DataQualityJobDefinition&quot;,
         &quot;Properties&quot;: <span>{</span>
            &quot;DataQualityAppSpecification&quot;: <span>{</span>
               &quot;ImageUri&quot;: <span>{</span>
                  &quot;Fn::Sub&quot;: &quot;123456789012.dkr.ecr.$<span>{</span>AWS::Partition}.amazonaws.com/sagemaker-model-monitor-analyzer:latest&quot;
               }
            },
            &quot;DataQualityJobInput&quot;: <span>{</span>
               &quot;EndpointInput&quot;: <span>{</span>
                  &quot;EndpointName&quot;: <span>{</span>
                     &quot;Fn::GetAtt&quot;: [
                       &quot;Endpoint&quot;,
                       &quot;EndpointName&quot;
                      ]
                
                },
                  &quot;LocalPath&quot;: &quot;/opt/ml/processing/endpointdata&quot;
               }
            },
            &quot;DataQualityJobOutputConfig&quot;: <span>{</span>
               &quot;MonitoringOutputs&quot;: [
                  <span>{</span>
                     &quot;S3Output&quot;: <span>{</span>
                        &quot;LocalPath&quot;: &quot;/opt/ml/processing/localpath&quot;,
                        &quot;S3Uri&quot;: <span>{</span>
                           &quot;Fn::Sub&quot;: &quot;s3://data-quality-job-definition-$<span>{</span>AWS::AccountId}/output&quot;
                        }
                     }
                  }
               ]
            },
            &quot;JobResources&quot;: <span>{</span>
               &quot;ClusterConfig&quot;: <span>{</span>
                  &quot;InstanceCount&quot;: 1,
                  &quot;InstanceType&quot;: &quot;ml.m5.large&quot;,
                  &quot;VolumeSizeInGB&quot;: 50
               }
            },
            &quot;RoleArn&quot;: null,
            &quot;StoppingCondition&quot;: <span>{</span>
               &quot;MaxRuntimeInSeconds&quot;: 2000
            }
         }
      }
   }
}</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-resource-sagemaker-dataqualityjobdefinition--examples--SageMaker_DataQualityJobDefinition_Example--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
 
AWSTemplateFormatVersion: &apos;2010-09-09&apos;
Description: Basic SageMaker Hosting entities to create a data quality job definition
 
Mappings: 
  RegionMap: 
    &quot;us-west-2&quot;:
      &quot;MyModelImage&quot;: &quot;123456789012.dkr.ecr.us-west-2.amazonaws.com/mymodel:latest&quot;
    &quot;us-east-2&quot;:
      &quot;MyModelImage&quot;: &quot;123456789012.dkr.ecr.us-east-2.amazonaws.com/mymodel:latest&quot;
    &quot;us-east-1&quot;:
      &quot;MyModelImage&quot;: &quot;123456789012.dkr.ecr.us-east-1.amazonaws.com/mymodel:latest&quot;
    &quot;eu-west-1&quot;:
      &quot;MyModelImage&quot;: &quot;123456789012.dkr.ecr.eu-west-1.amazonaws.com/mymodel:latest&quot;
    &quot;ap-northeast-1&quot;:
      &quot;MyModelImage&quot;: &quot;123456789012.dkr.ecr.ap-northeast-1.amazonaws.com/mymodel:latest&quot;
    &quot;ap-northeast-2&quot;:
      &quot;MyModelImage&quot;: &quot;123456789012.dkr.ecr.ap-northeast-2.amazonaws.com/mymodel:latest&quot;
    &quot;ap-southeast-2&quot;:
      &quot;MyModelImage&quot;: &quot;123456789012.dkr.ecr.ap-southeast-2.amazonaws.com/mymodel:latest&quot;
    &quot;eu-central-1&quot;:
      &quot;MyModelImage&quot;: &quot;123456789012.dkr.ecr.eu-central-1.amazonaws.com/mymodel:latest&quot;
 
Resources:
  Endpoint:
    Type: &quot;AWS::SageMaker::Endpoint&quot;
    Properties:
      EndpointConfigName:
        !GetAtt EndpointConfigWithDataCapture.EndpointConfigName
 
  EndpointConfigWithDataCapture:
    Type: &quot;AWS::SageMaker::EndpointConfig&quot;
    Properties:
      ProductionVariants:
        - InitialInstanceCount: 1
          InitialVariantWeight: 1.0
          InstanceType: ml.t2.large
          ModelName: !GetAtt Model.ModelName
          VariantName: !GetAtt Model.ModelName
      DataCaptureConfig:
        EnableCapture: true
        InitialSamplingPercentage: 100
        DestinationS3Uri: s3://bucket/prefix
        KmsKeyId: kmskeyid
        CaptureOptions:
          - CaptureMode: Input
          - CaptureMode: Output
        CaptureContentTypeHeader:
          CsvContentTypes:
            - &quot;text/csv&quot;
          JsonContentTypes:
            - &quot;appplication/json&quot;
            
  Model:
    Type: &quot;AWS::SageMaker::Model&quot;
    Properties:
      PrimaryContainer:
        Image: !FindInMap [RegionMap, !Ref &quot;AWS::Region&quot;, &quot;MyModelImage&quot;]
      ExecutionRoleArn: !GetAtt ExecutionRole.Arn
 
  ExecutionRole: 
    Type: &quot;AWS::IAM::Role&quot;
    Properties: 
      AssumeRolePolicyDocument: 
        Version: &quot;2012-10-17&quot;
        Statement: 
          - 
            Effect: &quot;Allow&quot;
            Principal: 
              Service: 
                - &quot;sagemaker.amazonaws.com&quot;
            Action: 
              - &quot;sts:AssumeRole&quot;
      Path: &quot;/&quot;
      Policies: 
        - 
          PolicyName: &quot;root&quot;
          PolicyDocument: 
            Version: &quot;2012-10-17&quot;
            Statement: 
              - 
                Effect: &quot;Allow&quot;
                Action: &quot;*&quot;
                Resource: &quot;*&quot;
 
  JobDefinitionExecutionRole:
    Type: &quot;AWS::IAM::Role&quot;
    Properties:
      AssumeRolePolicyDocument:
        Version: &quot;2012-10-17&quot;
        Statement:
          - Effect: &quot;Allow&quot;
            Principal:
              Service:
                - &quot;sagemaker.amazonaws.com&quot;
            Action:
              - &quot;sts:AssumeRole&quot;
      ManagedPolicyArns:
        - Fn::Sub: &quot;arn:$<span>{</span>AWS::Partition}:iam::aws:policy/AmazonSageMakerFullAccess&quot;
        - Fn::Sub: &quot;arn:$<span>{</span>AWS::Partition}:iam::aws:policy/AmazonS3FullAccess&quot;
        - Fn::Sub: &quot;arn:$<span>{</span>AWS::Partition}:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly&quot;
 
  DataQualityJobDefinition:
    Type: AWS::SageMaker::DataQualityJobDefinition
    Properties:
      DataQualityAppSpecification:
        ImageUri:
          Fn::Sub: &quot;123456789012.dkr.ecr.$<span>{</span>AWS::Partition}.amazonaws.com/sagemaker-model-monitor-analyzer:latest&quot;
      DataQualityJobInput:
        EndpointInput:
          EndpointName: !GetAtt Endpoint.EndpointName
          LocalPath: &quot;/opt/ml/processing/endpointdata&quot;
      DataQualityJobOutputConfig:
        MonitoringOutputs:
          - S3Output:
              LocalPath: &quot;/opt/ml/processing/localpath&quot;
              S3Uri:
                Fn::Sub: &quot;s3://data-quality-job-definition-$<span>{</span>AWS::AccountId}/output&quot;
      JobResources:
        ClusterConfig:
          InstanceCount: 1
          InstanceType: ml.m5.large
          VolumeSizeInGB: 50
      RoleArn: !GetAtt JobDefinitionExecutionRole.Arn
      StoppingCondition:
        MaxRuntimeInSeconds: 2000</code></pre></div>
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                                 <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning"> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the Amazon Web Services Documentation, Javascript must be
                                                enabled. Please refer to your browser&apos;s Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div></div>
</body>
</html>