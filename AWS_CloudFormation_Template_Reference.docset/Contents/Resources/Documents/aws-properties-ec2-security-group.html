<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="aws-properties-ec2-security-group">AWS::EC2::SecurityGroup</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>Specifies a security group. To create a security group, use the <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-ec2-security-group.html#cfn-ec2-securitygroup-vpcid">VpcId</a> property to specify the VPC for which to create the security group.
                                 </p>
                                 <p>This type supports updates. For more information about updating stacks, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks.html">AWS CloudFormation Stacks Updates</a>.
                                 </p>
                                 <div class="awsdocs-note awsdocs-important">
                                    <div class="awsdocs-note-title">
                                       <awsui-icon name="status-warning" variant="error"></awsui-icon><span>Important</span></div>
                                    <div class="awsdocs-note-text">
                                       <p>To cross-reference two security groups in the ingress and egress rules of those security
                                          groups,
                                          use the <a href="aws-resource-ec2-security-group-egress.html">AWS::EC2::SecurityGroupEgress</a> and <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-security-group-ingress.html">AWS::EC2::SecurityGroupIngress</a> resources to define your
                                          rules. Do not use the embedded ingress and egress rules in the
                                          <code class="code">AWS::EC2::SecurityGroup</code>. Doing so creates a circular dependency, which
                                          AWS CloudFormation doesn&apos;t allow.
                                       </p>
                                    </div>
                                 </div>
                                 <h2 id="aws-properties-ec2-security-group-syntax">Syntax</h2>
                                 <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h3 id="aws-properties-ec2-security-group-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;Type&quot; : &quot;AWS::EC2::SecurityGroup&quot;,
  &quot;Properties&quot; : <span>{</span>
      &quot;<a href="#cfn-ec2-securitygroup-groupdescription">GroupDescription</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-ec2-securitygroup-groupname">GroupName</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-ec2-securitygroup-securitygroupegress">SecurityGroupEgress</a>&quot; : <code class="replaceable">[ <a href="./aws-properties-ec2-security-group-rule.html">Egress</a>, ... ]</code>,
      &quot;<a href="#cfn-ec2-securitygroup-securitygroupingress">SecurityGroupIngress</a>&quot; : <code class="replaceable">[ <a href="./aws-properties-ec2-security-group-rule-1.html">Ingress</a>, ... ]</code>,
      &quot;<a href="#cfn-ec2-securitygroup-tags">Tags</a>&quot; : <code class="replaceable">[ <a href="aws-properties-resource-tags.html">Tag</a>, ... ]</code>,
      &quot;<a href="#cfn-ec2-securitygroup-vpcid">VpcId</a>&quot; : <code class="replaceable">String</code>
    }
}
</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h3 id="aws-properties-ec2-security-group-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::EC2::SecurityGroup
Properties: 
  <a href="#cfn-ec2-securitygroup-groupdescription">GroupDescription</a>: <code class="replaceable">String</code>
  <a href="#cfn-ec2-securitygroup-groupname">GroupName</a>: <code class="replaceable">String</code>
  <a href="#cfn-ec2-securitygroup-securitygroupegress">SecurityGroupEgress</a>: <code class="replaceable">
    - <a href="./aws-properties-ec2-security-group-rule.html">Egress</a></code>
  <a href="#cfn-ec2-securitygroup-securitygroupingress">SecurityGroupIngress</a>: <code class="replaceable">
    - <a href="./aws-properties-ec2-security-group-rule-1.html">Ingress</a></code>
  <a href="#cfn-ec2-securitygroup-tags">Tags</a>: <code class="replaceable">
    - <a href="aws-properties-resource-tags.html">Tag</a></code>
  <a href="#cfn-ec2-securitygroup-vpcid">VpcId</a>: <code class="replaceable">String</code>
</code></pre></div>
                                 <h2 id="aws-properties-ec2-security-group-properties">Properties</h2>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="cfn-ec2-securitygroup-groupdescription"></a><span class="term"><code class="code">GroupDescription</code></span></dt>
                                       <dd>
                                          
                                          <p>A description for the security group. This is informational only.</p>
                                          		       
                                          <p>Constraints: Up to 255 characters in length</p>
                                          		       
                                          <p>Constraints for EC2-Classic: ASCII characters</p>
                                          		       
                                          <p>Constraints for EC2-VPC: a-z, A-Z, 0-9, spaces, and ._-:/()#,@[]+=&amp;;<span>{</span>}!$*
                                          </p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-ec2-securitygroup-groupname"></a><span class="term"><code class="code">GroupName</code></span></dt>
                                       <dd>
                                          
                                          <p>The name of the security group.</p>
                                          
                                          <p>Constraints: Up to 255 characters in length. Cannot start with
                                             <code class="code">sg-</code>.
                                          </p>
                                          
                                          <p>Constraints for EC2-Classic: ASCII characters</p>
                                          
                                          <p>Constraints for EC2-VPC: a-z, A-Z, 0-9, spaces, and ._-:/()#,@[]+=&amp;;<span>{</span>}!$*
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-ec2-securitygroup-securitygroupegress"></a><span class="term"><code class="code">SecurityGroupEgress</code></span></dt>
                                       <dd>
                                          
                                          <p>[VPC only] The outbound rules associated with the security group. There is a short
                                             interruption during which you cannot connect to the security group.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of <a href="./aws-properties-ec2-security-group-rule.html">Egress</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-ec2-securitygroup-securitygroupingress"></a><span class="term"><code class="code">SecurityGroupIngress</code></span></dt>
                                       <dd>
                                          
                                          <p>The inbound rules associated with the security group. There is a short interruption
                                             during which you cannot connect to the security group.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of <a href="./aws-properties-ec2-security-group-rule-1.html">Ingress</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-ec2-securitygroup-tags"></a><span class="term"><code class="code">Tags</code></span></dt>
                                       <dd>
                                          
                                          <p>Any tags assigned to the security group.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of <a href="aws-properties-resource-tags.html">Tag</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-ec2-securitygroup-vpcid"></a><span class="term"><code class="code">VpcId</code></span></dt>
                                       <dd>
                                          
                                          <p>[VPC only] The ID of the VPC for the security group.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                    </dl>
                                 </div>
                                 <h2 id="aws-properties-ec2-security-group-return-values">Return values</h2>
                                 <h3 id="aws-properties-ec2-security-group-return-values-ref">Ref</h3>
                                 <p>When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the resource ID. For security groups that were created without specifying
                                    a VPC (EC2-Classic or a default VPC), <code class="code">Ref</code> returns the resource name.
                                 </p>
                                 <p>For more information about using the <code class="code">Ref</code> function, see <a href="intrinsic-function-reference-ref.html">Ref</a>.
                                 </p>
                                 <h3 id="aws-properties-ec2-security-group-return-values-fn--getatt">Fn::GetAtt</h3>
                                 <p>The <code class="code">Fn::GetAtt</code> intrinsic function returns a value for a specified attribute of this type. The following
                                    are the available attributes and sample return values.
                                 </p> 
                                 
                                 <p>For more information about using the <code class="code">Fn::GetAtt</code> intrinsic function, see <a href="intrinsic-function-reference-getatt.html">Fn::GetAtt</a>.
                                 </p>
                                 <h4 id="aws-properties-ec2-security-group-return-values-fn--getatt-fn--getatt"></h4>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="GroupId-fn::getatt"></a><span class="term"><code class="code">GroupId</code></span></dt>
                                       <dd>
                                          
                                          <p>The group ID of the specified security group, such as
                                             <code class="code">sg-94b3a1f6</code>.
                                          </p>
                                          
                                       </dd>
                                       <dt><a id="VpcId-fn::getatt"></a><span class="term"><code class="code">VpcId</code></span></dt>
                                       <dd>
                                          
                                          <p>The physical ID of the VPC. You can obtain the physical ID by using a reference
                                             to an <a href="aws-resource-ec2-vpc.html">AWS::EC2::VPC</a>, such as: <code class="code"><span>{</span>
                                                &quot;Ref&quot; : &quot;myVPC&quot; }</code>.
                                          </p>
                                          
                                       </dd>
                                    </dl>
                                 </div>
                                 <h2 id="aws-properties-ec2-security-group--examples">Examples</h2>
                                 <p></p>
                                 <h3 id="aws-properties-ec2-security-group--examples--Define_basic_ingress_and_egress_rules">Define basic ingress and egress rules</h3>
                                 <p>The following example specifies a security group with an ingress and egress rule.
                                    
                                 </p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-properties-ec2-security-group--examples--Define_basic_ingress_and_egress_rules--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">&quot;InstanceSecurityGroup&quot; : <span>{</span>
   &quot;Type&quot; : &quot;AWS::EC2::SecurityGroup&quot;,
   &quot;Properties&quot; : <span>{</span>
      &quot;GroupDescription&quot; : &quot;Allow http to client host&quot;,
      &quot;VpcId&quot; : <span>{</span>&quot;Ref&quot; : &quot;myVPC&quot;},
      &quot;SecurityGroupIngress&quot; : [<span>{</span>
         &quot;IpProtocol&quot; : &quot;tcp&quot;,
         &quot;FromPort&quot; : 80,
         &quot;ToPort&quot; : 80,
         &quot;CidrIp&quot; : &quot;0.0.0.0/0&quot;
      }],
      &quot;SecurityGroupEgress&quot; : [<span>{</span>
         &quot;IpProtocol&quot; : &quot;tcp&quot;,
         &quot;FromPort&quot; : 80,
         &quot;ToPort&quot; : 80,
         &quot;CidrIp&quot; : &quot;0.0.0.0/0&quot;
      }]
   }
}</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-properties-ec2-security-group--examples--Define_basic_ingress_and_egress_rules--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">InstanceSecurityGroup:
  Type: AWS::EC2::SecurityGroup
  Properties:
      GroupDescription: Allow http to client host
      VpcId:
         Ref: myVPC
      SecurityGroupIngress:
      - IpProtocol: tcp
        FromPort: 80
        ToPort: 80
        CidrIp: 0.0.0.0/0
      SecurityGroupEgress:
      - IpProtocol: tcp
        FromPort: 80
        ToPort: 80
        CidrIp: 0.0.0.0/0</code></pre></div>
                                 <h3 id="aws-properties-ec2-security-group--examples--Remove_the_default_rule">Remove the default rule</h3>
                                 <p>When you specify a VPC security group, Amazon EC2 creates a default egress rule that
                                    allows egress traffic on all ports and IP protocols to any location. The default rule
                                    is removed only when you specify one or more egress rules. If you want to remove the
                                    default rule and limit egress traffic to just the localhost (127.0.0.1/32), use the
                                    following example. 
                                 </p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-properties-ec2-security-group--examples--Remove_the_default_rule--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">&quot;sgwithoutegress&quot;: <span>{</span>
  &quot;Type&quot;: &quot;AWS::EC2::SecurityGroup&quot;,
  &quot;Properties&quot;: <span>{</span>
    &quot;GroupDescription&quot;: &quot;Limits security group egress traffic&quot;,
    &quot;SecurityGroupEgress&quot;: [
      <span>{</span>
        &quot;CidrIp&quot;: &quot;127.0.0.1/32&quot;,
        &quot;IpProtocol&quot;: &quot;-1&quot;
      }
    ],
    &quot;VpcId&quot;: <span>{</span> &quot;Ref&quot;: &quot;myVPC&quot;}
   }
}</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-properties-ec2-security-group--examples--Remove_the_default_rule--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">sgwithoutegress:
  Type: AWS::EC2::SecurityGroup
  Properties:
    GroupDescription: Limits security group egress traffic
    SecurityGroupEgress:
    - CidrIp: 127.0.0.1/32
      IpProtocol: &quot;-1&quot;
    VpcId:
      Ref: myVPC</code></pre></div>
                                 <h2 id="aws-properties-ec2-security-group--seealso">See also</h2>
                                 <div class="itemizedlist">
                                     
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p>
                                             <a href="https://docs.aws.amazon.com/vpc/latest/userguide/VPC_SecurityGroups.html">Security Groups for Your VPC</a> in the <em>Amazon VPC User Guide</em></p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>
                                             <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-classic-platform.html">EC2-Classic</a> in the <em>Amazon EC2 User Guide for Linux Instances</em> for information about accounts that support EC2-Classic security groups
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>
                                             <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-network-security.html">Amazon EC2 Security Groups for Linux Instances </a> in the <em>Amazon EC2 User Guide for Linux Instances</em></p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                 <p></p>
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                                 <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning"> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the Amazon Web Services Documentation, Javascript must be
                                                enabled. Please refer to your browser&apos;s Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div></div>
</body>
</html>