<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="aws-properties-ecs-service-deploymentconfiguration">AWS::ECS::Service DeploymentConfiguration</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>The <code class="code">DeploymentConfiguration</code> property specifies optional deployment
                                    parameters that control how many tasks run during the deployment and the ordering
                                    of
                                    stopping and starting tasks.
                                 </p>
                                 <h2 id="aws-properties-ecs-service-deploymentconfiguration-syntax">Syntax</h2>
                                 <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h3 id="aws-properties-ecs-service-deploymentconfiguration-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;<a href="#cfn-ecs-service-deploymentconfiguration-deploymentcircuitbreaker">DeploymentCircuitBreaker</a>&quot; : <code class="replaceable"><a href="./aws-properties-ecs-service-deploymentcircuitbreaker.html">DeploymentCircuitBreaker</a></code>,
  &quot;<a href="#cfn-ecs-service-deploymentconfiguration-maximumpercent">MaximumPercent</a>&quot; : <code class="replaceable">Integer</code>,
  &quot;<a href="#cfn-ecs-service-deploymentconfiguration-minimumhealthypercent">MinimumHealthyPercent</a>&quot; : <code class="replaceable">Integer</code>
}
</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h3 id="aws-properties-ecs-service-deploymentconfiguration-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">  <a href="#cfn-ecs-service-deploymentconfiguration-deploymentcircuitbreaker">DeploymentCircuitBreaker</a>: <code class="replaceable">
    <a href="./aws-properties-ecs-service-deploymentcircuitbreaker.html">DeploymentCircuitBreaker</a></code>
  <a href="#cfn-ecs-service-deploymentconfiguration-maximumpercent">MaximumPercent</a>: <code class="replaceable">Integer</code>
  <a href="#cfn-ecs-service-deploymentconfiguration-minimumhealthypercent">MinimumHealthyPercent</a>: <code class="replaceable">Integer</code>
</code></pre></div>
                                 <h2 id="aws-properties-ecs-service-deploymentconfiguration-properties">Properties</h2>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="cfn-ecs-service-deploymentconfiguration-deploymentcircuitbreaker"></a><span class="term"><code class="code">DeploymentCircuitBreaker</code></span></dt>
                                       <dd>
                                          
                                          <div class="awsdocs-note">
                                             <div class="awsdocs-note-title">
                                                <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                             <div class="awsdocs-note-text">
                                                <p>The deployment circuit breaker can only be used for services using the rolling
                                                   update (<code class="code">ECS</code>) deployment type that are not behind a Classic Load
                                                   Balancer.
                                                </p>
                                             </div>
                                          </div>
                                          
                                          <p>The <b>deployment circuit breaker</b> determines whether a
                                             service deployment will fail if the service can&apos;t reach a steady state. If enabled,
                                             a
                                             service deployment will transition to a failed state and stop launching new tasks.
                                             You
                                             can also enable Amazon ECS to roll back your service to the last completed deployment
                                             after a failure. For more information, see <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/deployment-type-ecs.html">Rolling
                                                update</a> in the <em>Amazon Elastic Container Service Developer
                                                Guide</em>.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-ecs-service-deploymentcircuitbreaker.html">DeploymentCircuitBreaker</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-ecs-service-deploymentconfiguration-maximumpercent"></a><span class="term"><code class="code">MaximumPercent</code></span></dt>
                                       <dd>
                                          		       
                                          <p>If a service is using the rolling update (<code class="code">ECS</code>) deployment type, the
                                             				<b>maximum percent</b> parameter represents an upper limit
                                             			on the number of tasks in a service that are allowed in the <code class="code">RUNNING</code> or
                                             				<code class="code">PENDING</code> state during a deployment, as a percentage of the desired
                                             			number of tasks (rounded down to the nearest integer), and while any container
                                             instances
                                             			are in the <code class="code">DRAINING</code> state if the service contains tasks using the
                                             			EC2 launch type. This parameter enables you to define the deployment batch
                                             			size. For example, if your service has a desired number of four tasks and a maximum
                                             			percent value of 200%, the scheduler may start four new tasks before stopping the
                                             four
                                             			older tasks (provided that the cluster resources required to do this are available).
                                             The
                                             			default value for maximum percent is 200%.
                                          </p>
                                          		       
                                          <p>If a service is using the blue/green (<code class="code">CODE_DEPLOY</code>) or
                                             				<code class="code">EXTERNAL</code> deployment types and tasks that use the EC2
                                             			launch type, the <b>maximum percent</b> value is set to the
                                             			default value and is used to define the upper limit on the number of the tasks
                                             in the
                                             			service that remain in the <code class="code">RUNNING</code> state while the container instances are
                                             			in the <code class="code">DRAINING</code> state. If the tasks in the service use the
                                             			Fargate launch type, the maximum percent value is not used, although it is
                                             			returned when describing your service.
                                          </p>
                                          	     
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: Integer
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-ecs-service-deploymentconfiguration-minimumhealthypercent"></a><span class="term"><code class="code">MinimumHealthyPercent</code></span></dt>
                                       <dd>
                                          		       
                                          <p>If a service is using the rolling update (<code class="code">ECS</code>) deployment type, the
                                             				<b>minimum healthy percent</b> represents a lower limit on
                                             			the number of tasks in a service that must remain in the <code class="code">RUNNING</code> state
                                             			during a deployment, as a percentage of the desired number of tasks (rounded up
                                             to the
                                             			nearest integer), and while any container instances are in the <code class="code">DRAINING</code>
                                             			state if the service contains tasks using the EC2 launch type. This
                                             			parameter enables you to deploy without using additional cluster capacity. For
                                             example,
                                             			if your service has a desired number of four tasks and a minimum healthy percent
                                             of 50%,
                                             			the scheduler may stop two existing tasks to free up cluster capacity before starting
                                             			two new tasks. Tasks for services that <em>do not</em> use a load balancer
                                             			are considered healthy if they are in the <code class="code">RUNNING</code> state; tasks for services
                                             			that <em>do</em> use a load balancer are considered healthy if they are in
                                             			the <code class="code">RUNNING</code> state and they are reported as healthy by the load balancer.
                                             			The default value for minimum healthy percent is 100%.
                                          </p>
                                          		       
                                          <p>If a service is using the blue/green (<code class="code">CODE_DEPLOY</code>) or
                                             				<code class="code">EXTERNAL</code> deployment types and tasks that use the EC2
                                             			launch type, the <b>minimum healthy percent</b> value is set
                                             			to the default value and is used to define the lower limit on the number of the
                                             tasks in
                                             			the service that remain in the <code class="code">RUNNING</code> state while the container instances
                                             			are in the <code class="code">DRAINING</code> state. If the tasks in the service use the
                                             			Fargate launch type, the minimum healthy percent value is not used,
                                             			although it is returned when describing your service.
                                          </p>
                                          	     
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: Integer
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                    </dl>
                                 </div>
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                                 <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning"> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the Amazon Web Services Documentation, Javascript must be
                                                enabled. Please refer to your browser&apos;s Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div></div>
</body>
</html>