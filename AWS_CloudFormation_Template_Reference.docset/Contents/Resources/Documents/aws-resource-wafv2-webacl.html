<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="aws-resource-wafv2-webacl">AWS::WAFv2::WebACL</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <div class="awsdocs-note">
                                    <div class="awsdocs-note-title">
                                       <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                    <div class="awsdocs-note-text">
                                       <p>This is the latest version of <b>AWS WAF</b>, named AWS WAFV2, released in November, 2019. For information, including how to migrate
                                          your AWS WAF resources from the prior release, see the <a href="https://docs.aws.amazon.com/waf/latest/developerguide/waf-chapter.html">AWS WAF Developer Guide</a>.  
                                       </p>
                                    </div>
                                 </div>
                                 <p>Use an AWS::WAFv2::WebACL to define a collection of rules to use to inspect and control web requests. Each
                                    rule has an action defined (allow, block, or count) for requests that match the statement
                                    of the rule. In the web ACL, you assign a default action to take (allow, block) for
                                    any request that does not match any of the rules. The rules in a web ACL can contain
                                    rule statements that you define explicitly and rule statements that reference rule
                                    groups and managed rule groups. You can associate a web ACL with one or more AWS resources
                                    to protect. The resources can be an Amazon CloudFront distribution, an Amazon API
                                    Gateway REST API, an Application Load Balancer, or an AWS AppSync GraphQL API.  
                                 </p>
                                 <h2 id="aws-resource-wafv2-webacl-syntax">Syntax</h2>
                                 <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h3 id="aws-resource-wafv2-webacl-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;Type&quot; : &quot;AWS::WAFv2::WebACL&quot;,
  &quot;Properties&quot; : <span>{</span>
      &quot;<a href="#cfn-wafv2-webacl-customresponsebodies">CustomResponseBodies</a>&quot; : <code class="replaceable"><span>{</span><code class="replaceable">Key</code> : <code class="replaceable">Value</code>, ...}</code>,
      &quot;<a href="#cfn-wafv2-webacl-defaultaction">DefaultAction</a>&quot; : <code class="replaceable"><a href="./aws-properties-wafv2-webacl-defaultaction.html">DefaultAction</a></code>,
      &quot;<a href="#cfn-wafv2-webacl-description">Description</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-wafv2-webacl-name">Name</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-wafv2-webacl-rules">Rules</a>&quot; : <code class="replaceable">[ <a href="./aws-properties-wafv2-webacl-rule.html">Rule</a>, ... ]</code>,
      &quot;<a href="#cfn-wafv2-webacl-scope">Scope</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-wafv2-webacl-tags">Tags</a>&quot; : <code class="replaceable">[ <a href="aws-properties-resource-tags.html">Tag</a>, ... ]</code>,
      &quot;<a href="#cfn-wafv2-webacl-visibilityconfig">VisibilityConfig</a>&quot; : <code class="replaceable"><a href="./aws-properties-wafv2-webacl-visibilityconfig.html">VisibilityConfig</a></code>
    }
}
</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h3 id="aws-resource-wafv2-webacl-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::WAFv2::WebACL
Properties: 
  <a href="#cfn-wafv2-webacl-customresponsebodies">CustomResponseBodies</a>: <code class="replaceable">
    <code class="replaceable">Key</code> : <code class="replaceable">Value</code></code>
  <a href="#cfn-wafv2-webacl-defaultaction">DefaultAction</a>: <code class="replaceable">
    <a href="./aws-properties-wafv2-webacl-defaultaction.html">DefaultAction</a></code>
  <a href="#cfn-wafv2-webacl-description">Description</a>: <code class="replaceable">String</code>
  <a href="#cfn-wafv2-webacl-name">Name</a>: <code class="replaceable">String</code>
  <a href="#cfn-wafv2-webacl-rules">Rules</a>: <code class="replaceable">
    - <a href="./aws-properties-wafv2-webacl-rule.html">Rule</a></code>
  <a href="#cfn-wafv2-webacl-scope">Scope</a>: <code class="replaceable">String</code>
  <a href="#cfn-wafv2-webacl-tags">Tags</a>: <code class="replaceable">
    - <a href="aws-properties-resource-tags.html">Tag</a></code>
  <a href="#cfn-wafv2-webacl-visibilityconfig">VisibilityConfig</a>: <code class="replaceable">
    <a href="./aws-properties-wafv2-webacl-visibilityconfig.html">VisibilityConfig</a></code>
</code></pre></div>
                                 <h2 id="aws-resource-wafv2-webacl-properties">Properties</h2>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="cfn-wafv2-webacl-customresponsebodies"></a><span class="term"><code class="code">CustomResponseBodies</code></span></dt>
                                       <dd>
                                          
                                          <p>A map of custom response keys and content bodies. When you create a rule with a block
                                             action, you can send a custom response to the web request. You define these for the
                                             web ACL, and then use them in the rules and default actions that you define in the
                                             web ACL. 
                                          </p> 
                                          
                                          <p>For information about customizing web requests and responses, see <a href="https://docs.aws.amazon.com/waf/latest/developerguide/waf-custom-request-response.html">Customizing web requests and responses in AWS WAF</a> in the 
                                             <a href="https://docs.aws.amazon.com/waf/latest/developerguide/waf-chapter.html">AWS WAF Developer Guide</a>. 
                                          </p>
                                          
                                          <p>For information about the limits on count and size for custom request and response
                                             settings, see <a href="https://docs.aws.amazon.com/waf/latest/developerguide/limits.html">AWS WAF quotas</a> in the 
                                             <a href="https://docs.aws.amazon.com/waf/latest/developerguide/waf-chapter.html">AWS WAF Developer Guide</a>. 
                                          </p> 
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: Map of <a href="./aws-properties-wafv2-webacl-customresponsebody.html">CustomResponseBody</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-wafv2-webacl-defaultaction"></a><span class="term"><code class="code">DefaultAction</code></span></dt>
                                       <dd>
                                          
                                          <p>The action to perform if none of the <code class="code">Rules</code> contained in the <code class="code">WebACL</code> match. 
                                          </p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-wafv2-webacl-defaultaction.html">DefaultAction</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-wafv2-webacl-description"></a><span class="term"><code class="code">Description</code></span></dt>
                                       <dd>
                                          
                                          <p>A description of the web ACL that helps with identification. </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Minimum</em>: <code class="code">1</code></p>
                                          <p><em>Maximum</em>: <code class="code">256</code></p>
                                          <p><em>Pattern</em>: <code class="code">^[\w+=:#@/\-,\.][\w+=:#@/\-,\.\s]+[\w+=:#@/\-,\.]$</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-wafv2-webacl-name"></a><span class="term"><code class="code">Name</code></span></dt>
                                       <dd>
                                          
                                          <p>The descriptive name of the web ACL. You cannot change the name of a web ACL after
                                             you create it.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Minimum</em>: <code class="code">1</code></p>
                                          <p><em>Maximum</em>: <code class="code">128</code></p>
                                          <p><em>Pattern</em>: <code class="code">^[\w\-]+$</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-wafv2-webacl-rules"></a><span class="term"><code class="code">Rules</code></span></dt>
                                       <dd>
                                          
                                          <p>The rule statements used to identify the web requests that you 
                                             want to allow, block, or count. Each rule includes one top-level statement that AWS
                                             WAF uses to identify matching  
                                             web requests, and parameters that govern how AWS WAF handles them. 
                                             
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of <a href="./aws-properties-wafv2-webacl-rule.html">Rule</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-wafv2-webacl-scope"></a><span class="term"><code class="code">Scope</code></span></dt>
                                       <dd>
                                          
                                          <p>Specifies whether this is for an Amazon CloudFront distribution or for a regional
                                             application. A regional
                                             application can be an Application Load Balancer (ALB), an Amazon API Gateway REST
                                             API, or an AWS AppSync GraphQL API. Valid Values are <code class="code">CLOUDFRONT</code> and <code class="code">REGIONAL</code>.
                                          </p>
                                          
                                          <div class="awsdocs-note">
                                             <div class="awsdocs-note-title">
                                                <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                             <div class="awsdocs-note-text">
                                                <p>For <code class="code">CLOUDFRONT</code>, you must create your WAFv2 resources in the US East (N. Virginia) Region, <code class="code">us-east-1</code>.
                                                </p>
                                             </div>
                                          </div>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-wafv2-webacl-tags"></a><span class="term"><code class="code">Tags</code></span></dt>
                                       <dd>
                                          
                                          <p>Key:value pairs associated with an AWS resource. The key:value pair can be anything
                                             you define. Typically, the tag key represents a category (such as &quot;environment&quot;) and
                                             the tag value represents a specific value within that category (such as &quot;test,&quot; &quot;development,&quot;
                                             or &quot;production&quot;). You can add up to 50 tags to each AWS resource.
                                          </p>
                                          
                                          <div class="awsdocs-note">
                                             <div class="awsdocs-note-title">
                                                <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                             <div class="awsdocs-note-text">
                                                <p>To modify tags on existing resources, use the AWS WAF APIs or command line interface.
                                                   With AWS CloudFormation, you can only add tags to AWS WAF resources during resource
                                                   creation. 
                                                </p>
                                             </div>
                                          </div>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of <a href="aws-properties-resource-tags.html">Tag</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-wafv2-webacl-visibilityconfig"></a><span class="term"><code class="code">VisibilityConfig</code></span></dt>
                                       <dd>
                                          
                                          <p>Defines and enables Amazon CloudWatch metrics and web request sample collection. 
                                             
                                          </p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-wafv2-webacl-visibilityconfig.html">VisibilityConfig</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                    </dl>
                                 </div>
                                 <h2 id="aws-resource-wafv2-webacl-return-values">Return values</h2>
                                 <h3 id="aws-resource-wafv2-webacl-return-values-ref">Ref</h3>
                                 <p>The <code class="code">Ref</code> for the resource, containing the resource name, physical ID, and scope, formatted
                                    as follows: <code class="code">name|id|scope</code>.
                                 </p>
                                 <p>For example: <code class="code">my-webacl-name|1234a1a-a1b1-12a1-abcd-a123b123456|REGIONAL</code></p>
                                 <h3 id="aws-resource-wafv2-webacl-return-values-fn--getatt">Fn::GetAtt</h3>
                                 <h4 id="aws-resource-wafv2-webacl-return-values-fn--getatt-fn--getatt"></h4>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="Arn-fn::getatt"></a><span class="term"><code class="code">Arn</code></span></dt>
                                       <dd>
                                          
                                          <p>The Amazon Resource Name (ARN) of the web ACL.</p>
                                       </dd>
                                       <dt><a id="Capacity-fn::getatt"></a><span class="term"><code class="code">Capacity</code></span></dt>
                                       <dd>
                                          
                                          <p>The current web ACL capacity (WCU) usage by the web ACL. </p>
                                       </dd>
                                       <dt><a id="Id-fn::getatt"></a><span class="term"><code class="code">Id</code></span></dt>
                                       <dd>
                                          
                                          <p>The ID of the web ACL.</p>
                                       </dd>
                                       <dt><a id="LabelNamespace-fn::getatt"></a><span class="term"><code class="code">LabelNamespace</code></span></dt>
                                       <dd>
                                          
                                          <p>The label namespace prefix for this web ACL. All labels added by rules in this web
                                             ACL have this prefix.
                                          </p>
                                          
                                          <p>The syntax for the label namespace prefix for a web ACL is the following: <code class="code">awswaf:&lt;account ID&gt;:webacl:&lt;web ACL name&gt;:</code></p>
                                          
                                          <p>When a rule with a label matches a web request, AWS WAF adds the fully qualified label
                                             to the request. A fully qualified label is made up of the label namespace from the
                                             rule group or web ACL where the rule is defined and the label from the rule, separated
                                             by a colon.
                                          </p>
                                          
                                       </dd>
                                    </dl>
                                 </div>
                                 <h2 id="aws-resource-wafv2-webacl--examples">Examples</h2>
                                 <p></p>
                                 <h3 id="aws-resource-wafv2-webacl--examples--Create_a_web_ACL_with_custom_request_and_response_handling">Create a web ACL with custom request and response handling</h3>
                                 <p>The following shows an example web ACL specification. This example includes custom
                                    request and response configurations.
                                 </p>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-resource-wafv2-webacl--examples--Create_a_web_ACL_with_custom_request_and_response_handling--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Description: Create WebACL example
            Resources:
  ExampleWebACL:
    Type: &apos;AWS::WAFv2::WebACL&apos;
    Properties:
      Name: ExampleWebACL1
      Scope: REGIONAL
      Description: This is an example WebACL
      DefaultAction:
        Allow:
          CustomRequestHandling:
            InsertHeaders:
              - Name: AllowActionHeader1Name
                Value: AllowActionHeader1Value
              - Name: AllowActionHeader2Name
                Value: AllowActionHeader2Value
      VisibilityConfig:
        SampledRequestsEnabled: true
        CloudWatchMetricsEnabled: true
        MetricName: ExampleWebACLMetric
      CustomResponseBodies:
        CustomResponseBodyKey1:
          ContentType: TEXT_PLAIN
          Content: this is a plain text
        CustomResponseBodyKey2:
          ContentType: APPLICATION_JSON
          Content: &apos;<span>{</span>&quot;jsonfieldname&quot;: &quot;jsonfieldvalue&quot;}&apos;
        CustomResponseBodyKey3:
          ContentType: TEXT_HTML
                Content: &lt;html&gt;HTML text content&lt;/html&gt;
      Rules:
        - Name: RuleWithAWSManagedRules
          Priority: 0
          OverrideAction:
            Count: <span>{</span>}
          VisibilityConfig:
            SampledRequestsEnabled: true
            CloudWatchMetricsEnabled: true
            MetricName: RuleWithAWSManagedRulesMetric
          Statement:
            ManagedRuleGroupStatement:
              VendorName: AWS
              Name: AWSManagedRulesCommonRuleSet
              ExcludedRules: []
        - Name: BlockXssAttack
          Priority: 1
          Action:
            Block:
              CustomResponse:
                ResponseCode: 503
                CustomResponseBodyKey: CustomResponseBodyKey1
                ResponseHeaders:
                  - Name: BlockActionHeader1Name
                    Value: BlockActionHeader1Value
                  - Name: BlockActionHeader2Name
                    Value: BlockActionHeader2Value
          VisibilityConfig:
            SampledRequestsEnabled: true
            CloudWatchMetricsEnabled: true
            MetricName: BlockXssAttackMetric
          Statement:
            XssMatchStatement:
              FieldToMatch:
                AllQueryArguments: <span>{</span>}
              TextTransformations:
                - Priority: 1
                  Type: NONE</code></pre></div>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-resource-wafv2-webacl--examples--Create_a_web_ACL_with_custom_request_and_response_handling--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">&quot;Description&quot;: &quot;Create WebACL example&quot;,
            &quot;Resources&quot;: <span>{</span>
    &quot;ExampleWebACL&quot;: <span>{</span>
      &quot;Type&quot;: &quot;AWS::WAFv2::WebACL&quot;,
      &quot;Properties&quot;: <span>{</span>
        &quot;Name&quot;: &quot;ExampleWebACL1&quot;,
        &quot;Scope&quot;: &quot;REGIONAL&quot;,
        &quot;Description&quot;: &quot;This is an example WebACL&quot;,
        &quot;DefaultAction&quot;: <span>{</span>
          &quot;Allow&quot;: <span>{</span>
            &quot;CustomRequestHandling&quot;: <span>{</span>
              &quot;InsertHeaders&quot;: [
                <span>{</span>
                  &quot;Name&quot;: &quot;AllowActionHeader1Name&quot;,
                  &quot;Value&quot;: &quot;AllowActionHeader1Value&quot;
                },
                <span>{</span>
                  &quot;Name&quot;: &quot;AllowActionHeader2Name&quot;,
                  &quot;Value&quot;: &quot;AllowActionHeader2Value&quot;
                }
              ]
            }
          }
        },
        &quot;VisibilityConfig&quot;: <span>{</span>
          &quot;SampledRequestsEnabled&quot;: true,
          &quot;CloudWatchMetricsEnabled&quot;: true,
          &quot;MetricName&quot;: &quot;ExampleWebACLMetric&quot;
        },
        &quot;CustomResponseBodies&quot;: <span>{</span>
          &quot;CustomResponseBodyKey1&quot;: <span>{</span>
            &quot;ContentType&quot;: &quot;TEXT_PLAIN&quot;,
            &quot;Content&quot;: &quot;this is a plain text&quot;
          },
          &quot;CustomResponseBodyKey2&quot;: <span>{</span>
            &quot;ContentType&quot;: &quot;APPLICATION_JSON&quot;,
            &quot;Content&quot;: &quot;<span>{</span>\&quot;jsonfieldname\&quot;: \&quot;jsonfieldvalue\&quot;}&quot;
          },
          &quot;CustomResponseBodyKey3&quot;: <span>{</span>
            &quot;ContentType&quot;: &quot;TEXT_HTML&quot;,
                &quot;Content&quot;: &quot;&lt;html&gt;HTML text content&lt;/html&gt;&quot;
          }
        },
        &quot;Rules&quot;: [
          <span>{</span>
            &quot;Name&quot;: &quot;RuleWithAWSManagedRules&quot;,
            &quot;Priority&quot;: 0,
            &quot;OverrideAction&quot;: <span>{</span>
              &quot;Count&quot;: <span>{</span>}
            },
            &quot;VisibilityConfig&quot;: <span>{</span>
              &quot;SampledRequestsEnabled&quot;: true,
              &quot;CloudWatchMetricsEnabled&quot;: true,
              &quot;MetricName&quot;: &quot;RuleWithAWSManagedRulesMetric&quot;
            },
            &quot;Statement&quot;: <span>{</span>
              &quot;ManagedRuleGroupStatement&quot;: <span>{</span>
            &quot;VendorName&quot;: &quot;AWS&quot;,
                &quot;Name&quot;: &quot;AWSManagedRulesCommonRuleSet&quot;,
                &quot;ExcludedRules&quot;: []
              }
            }
          },
          <span>{</span>
            &quot;Name&quot;: &quot;BlockXssAttack&quot;,
            &quot;Priority&quot;: 1,
            &quot;Action&quot;: <span>{</span>
              &quot;Block&quot;: <span>{</span>
                &quot;CustomResponse&quot;: <span>{</span>
                  &quot;ResponseCode&quot;: 503,
                  &quot;CustomResponseBodyKey&quot;: &quot;CustomResponseBodyKey1&quot;,
                  &quot;ResponseHeaders&quot;: [
                    <span>{</span>
                      &quot;Name&quot;: &quot;BlockActionHeader1Name&quot;,
                      &quot;Value&quot;: &quot;BlockActionHeader1Value&quot;
                    },
                    <span>{</span>
                      &quot;Name&quot;: &quot;BlockActionHeader2Name&quot;,
                      &quot;Value&quot;: &quot;BlockActionHeader2Value&quot;
                    }
                  ]
                }
              }
            },
            &quot;VisibilityConfig&quot;: <span>{</span>
              &quot;SampledRequestsEnabled&quot;: true,
              &quot;CloudWatchMetricsEnabled&quot;: true,
              &quot;MetricName&quot;: &quot;BlockXssAttackMetric&quot;
            },
            &quot;Statement&quot;: <span>{</span>
              &quot;XssMatchStatement&quot;: <span>{</span>
                &quot;FieldToMatch&quot;: <span>{</span>
                  &quot;AllQueryArguments&quot;: <span>{</span>}
                },
                &quot;TextTransformations&quot;: [
                  <span>{</span>
                    &quot;Priority&quot;: 1,
                    &quot;Type&quot;: &quot;NONE&quot;
                  }
                ]
              }
            }
          }
        ]
      }
    }
  } </code></pre></div>
                                 <h3 id="aws-resource-wafv2-webacl--examples--Create_a_web_ACL_with_JSON_body_parsing">Create a web ACL with JSON body parsing</h3>
                                 <p>The following shows an example web ACL specification. This example includes inspection
                                    of the web request body as JSON.
                                 </p>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-resource-wafv2-webacl--examples--Create_a_web_ACL_with_JSON_body_parsing--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:
  ExampleWebACL:
    Type: &apos;AWS::WAFv2::WebACL&apos;
    Properties:
      Name: TestingJsonBody
      Scope: REGIONAL
      Description: WebACL for JsonBody Testing
      DefaultAction:
        Allow:
      VisibilityConfig:
        SampledRequestsEnabled: true
        CloudWatchMetricsEnabled: true
        MetricName: ExampleWebACLMetric
      Rules:
        - Name: TestJsonBodyRule
          Priority: 0
          Action:
            Block: <span>{</span>}
          VisibilityConfig:
            SampledRequestsEnabled: true
            CloudWatchMetricsEnabled: true
            MetricName: JsonBodyMatchMetric
          Statement:
            ByteMatchStatement:
              FieldToMatch:
                JsonBody:
                  MatchPattern:
                    IncludedPaths:
                      - /foo
                      - /bar
                    MatchScope: VALUE
                    InvalidFallbackBehavior: MATCH
              PositionalConstraint: EXACTLY
              SearchString: BadBot
              TextTransformations:
                - Type: NONE
                  Priority: 0 </code></pre></div>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-resource-wafv2-webacl--examples--Create_a_web_ACL_with_JSON_body_parsing--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span> &quot;Name&quot;: &quot;TestingJsonBody&quot;,
 &quot;Scope&quot;: &quot;REGIONAL&quot;,
 &quot;DefaultAction&quot;: 
  <span>{</span>
   &quot;Allow&quot;: 
    <span>{</span>}
  },
 &quot;Description&quot;: &quot;WebACL for JsonBody Testing&quot;,
 &quot;Rules&quot;: 
  [
    <span>{</span>&quot;Name&quot;: &quot;TestJsonBodyRule&quot;,
     &quot;Priority&quot;: 1,
     &quot;Statement&quot;: 
      <span>{</span>&quot;ByteMatchStatement&quot;: 
        <span>{</span>&quot;SearchString&quot;: &quot;BadBot&quot;,
         &quot;FieldToMatch&quot;: 
          <span>{</span>
           &quot;JsonBody&quot;: 
            <span>{</span>&quot;MatchPattern&quot;: 
              <span>{</span>
               &quot;IncludedPaths&quot;: 
                [&quot;/foo&quot;, &quot;/bar&quot;]
              },
             &quot;MatchScope&quot;: &quot;VALUE&quot;,  
             &quot;InvalidFallbackBehavior&quot;: &quot;MATCH&quot;
             }
          },
         &quot;TextTransformations&quot;: 
          [
            <span>{</span>&quot;Priority&quot;: 1,
             &quot;Type&quot;: &quot;NONE&quot;}
          ],
         &quot;PositionalConstraint&quot;: &quot;EXACTLY&quot;}
      },
     &quot;Action&quot;: 
      <span>{</span>&quot;Block&quot;: 
        <span>{</span>}
      },
     &quot;VisibilityConfig&quot;: 
      <span>{</span>&quot;SampledRequestsEnabled&quot;: true,
       &quot;CloudWatchMetricsEnabled&quot;: true,
       &quot;MetricName&quot;: &quot;JsonBodyMatchMetric&quot;}
    }
  ],
 &quot;VisibilityConfig&quot;: 
  <span>{</span>&quot;SampledRequestsEnabled&quot;: true,
   &quot;CloudWatchMetricsEnabled&quot;: true,
   &quot;MetricName&quot;: &quot;TestingJsonBodyMetric&quot;}
} </code></pre></div>
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                                 <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning"> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the Amazon Web Services Documentation, Javascript must be
                                                enabled. Please refer to your browser&apos;s Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div></div>
</body>
</html>