<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="aws-resource-batch-jobdefinition">AWS::Batch::JobDefinition</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>The <code class="code">AWS::Batch::JobDefinition</code> resource specifies the parameters for an AWS Batch job
                                    definition. For more information, see <a href="https://docs.aws.amazon.com/batch/latest/userguide/job_definitions.html">Job Definitions</a> in the <em>AWS Batch User Guide</em>.
                                 </p>
                                 <h2 id="aws-resource-batch-jobdefinition-syntax">Syntax</h2>
                                 <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h3 id="aws-resource-batch-jobdefinition-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;Type&quot; : &quot;AWS::Batch::JobDefinition&quot;,
  &quot;Properties&quot; : <span>{</span>
      &quot;<a href="#cfn-batch-jobdefinition-containerproperties">ContainerProperties</a>&quot; : <code class="replaceable"><a href="./aws-properties-batch-jobdefinition-containerproperties.html">ContainerProperties</a></code>,
      &quot;<a href="#cfn-batch-jobdefinition-jobdefinitionname">JobDefinitionName</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-batch-jobdefinition-nodeproperties">NodeProperties</a>&quot; : <code class="replaceable"><a href="./aws-properties-batch-jobdefinition-nodeproperties.html">NodeProperties</a></code>,
      &quot;<a href="#cfn-batch-jobdefinition-parameters">Parameters</a>&quot; : <code class="replaceable">Json</code>,
      &quot;<a href="#cfn-batch-jobdefinition-platformcapabilities">PlatformCapabilities</a>&quot; : <code class="replaceable">[ String, ... ]</code>,
      &quot;<a href="#cfn-batch-jobdefinition-propagatetags">PropagateTags</a>&quot; : <code class="replaceable">Boolean</code>,
      &quot;<a href="#cfn-batch-jobdefinition-retrystrategy">RetryStrategy</a>&quot; : <code class="replaceable"><a href="./aws-properties-batch-jobdefinition-retrystrategy.html">RetryStrategy</a></code>,
      &quot;<a href="#cfn-batch-jobdefinition-tags">Tags</a>&quot; : <code class="replaceable">Json</code>,
      &quot;<a href="#cfn-batch-jobdefinition-timeout">Timeout</a>&quot; : <code class="replaceable"><a href="./aws-properties-batch-jobdefinition-timeout.html">Timeout</a></code>,
      &quot;<a href="#cfn-batch-jobdefinition-type">Type</a>&quot; : <code class="replaceable">String</code>
    }
}
</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h3 id="aws-resource-batch-jobdefinition-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::Batch::JobDefinition
Properties: 
  <a href="#cfn-batch-jobdefinition-containerproperties">ContainerProperties</a>: <code class="replaceable">
    <a href="./aws-properties-batch-jobdefinition-containerproperties.html">ContainerProperties</a></code>
  <a href="#cfn-batch-jobdefinition-jobdefinitionname">JobDefinitionName</a>: <code class="replaceable">String</code>
  <a href="#cfn-batch-jobdefinition-nodeproperties">NodeProperties</a>: <code class="replaceable">
    <a href="./aws-properties-batch-jobdefinition-nodeproperties.html">NodeProperties</a></code>
  <a href="#cfn-batch-jobdefinition-parameters">Parameters</a>: <code class="replaceable">Json</code>
  <a href="#cfn-batch-jobdefinition-platformcapabilities">PlatformCapabilities</a>: <code class="replaceable">
    - String</code>
  <a href="#cfn-batch-jobdefinition-propagatetags">PropagateTags</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-batch-jobdefinition-retrystrategy">RetryStrategy</a>: <code class="replaceable">
    <a href="./aws-properties-batch-jobdefinition-retrystrategy.html">RetryStrategy</a></code>
  <a href="#cfn-batch-jobdefinition-tags">Tags</a>: <code class="replaceable">Json</code>
  <a href="#cfn-batch-jobdefinition-timeout">Timeout</a>: <code class="replaceable">
    <a href="./aws-properties-batch-jobdefinition-timeout.html">Timeout</a></code>
  <a href="#cfn-batch-jobdefinition-type">Type</a>: <code class="replaceable">String</code>
</code></pre></div>
                                 <h2 id="aws-resource-batch-jobdefinition-properties">Properties</h2>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="cfn-batch-jobdefinition-containerproperties"></a><span class="term"><code class="code">ContainerProperties</code></span></dt>
                                       <dd>
                                          
                                          <p>An object with various properties specific to container-based jobs.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-batch-jobdefinition-containerproperties.html">ContainerProperties</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-batch-jobdefinition-jobdefinitionname"></a><span class="term"><code class="code">JobDefinitionName</code></span></dt>
                                       <dd>
                                          
                                          <p>The name of the job definition.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-batch-jobdefinition-nodeproperties"></a><span class="term"><code class="code">NodeProperties</code></span></dt>
                                       <dd>
                                          
                                          <p>An object with various properties specific to multi-node parallel jobs.</p>
                                          
                                          <div class="awsdocs-note">
                                             <div class="awsdocs-note-title">
                                                <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                             <div class="awsdocs-note-text">
                                                <p>If the job runs on Fargate resources, then you must not specify <code class="code">nodeProperties</code>; use
                                                   <code class="code">containerProperties</code> instead.
                                                </p>
                                             </div>
                                          </div>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-batch-jobdefinition-nodeproperties.html">NodeProperties</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-batch-jobdefinition-parameters"></a><span class="term"><code class="code">Parameters</code></span></dt>
                                       <dd>
                                          
                                          <p>Default parameters or parameter substitution placeholders that are set in the job
                                             definition. Parameters are
                                             specified as a key-value pair mapping. Parameters in a <code class="code">SubmitJob</code> request override any corresponding
                                             parameter defaults from the job definition. For more information about specifying
                                             parameters, see <a href="https://docs.aws.amazon.com/batch/latest/userguide/job_definition_parameters.html">Job Definition Parameters</a> in the
                                             <em>
                                                AWS Batch User Guide</em>.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: Json
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-batch-jobdefinition-platformcapabilities"></a><span class="term"><code class="code">PlatformCapabilities</code></span></dt>
                                       <dd>
                                          
                                          <p>The platform capabilities required by the job definition. If no value is specified,
                                             it defaults to
                                             <code class="code">EC2</code>. Jobs run on Fargate resources specify <code class="code">FARGATE</code>.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-batch-jobdefinition-propagatetags"></a><span class="term"><code class="code">PropagateTags</code></span></dt>
                                       <dd>
                                          
                                          <p>Specifies whether to propagate the tags from the job or job definition to the corresponding
                                             Amazon ECS task. If no
                                             value is specified, the tags aren&apos;t propagated. Tags can only be propagated to the
                                             tasks during task creation. For
                                             tags with the same name, job tags are given priority over job definitions tags. If
                                             the total number of combined tags
                                             from the job and job definition is over 50, the job is moved to the <code class="code">FAILED</code> state.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: Boolean
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-batch-jobdefinition-retrystrategy"></a><span class="term"><code class="code">RetryStrategy</code></span></dt>
                                       <dd>
                                          
                                          <p>The retry strategy to use for failed jobs that are submitted with this job definition.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-batch-jobdefinition-retrystrategy.html">RetryStrategy</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-batch-jobdefinition-tags"></a><span class="term"><code class="code">Tags</code></span></dt>
                                       <dd>
                                          
                                          <p>The tags applied to the job definition.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: Json
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-batch-jobdefinition-timeout"></a><span class="term"><code class="code">Timeout</code></span></dt>
                                       <dd>
                                          
                                          <p>The timeout configuration for jobs that are submitted with this job definition. You
                                             can specify a timeout
                                             duration after which AWS Batch terminates your jobs if they haven&apos;t finished.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-batch-jobdefinition-timeout.html">Timeout</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-batch-jobdefinition-type"></a><span class="term"><code class="code">Type</code></span></dt>
                                       <dd>
                                          
                                          <p>The type of job definition. For more information about multi-node parallel jobs, see
                                             <a href="https://docs.aws.amazon.com/batch/latest/userguide/multi-node-job-def.html">Creating a multi-node parallel job definition</a> in the
                                             <em>
                                                AWS Batch User Guide</em>.
                                          </p>
                                          
                                          <div class="awsdocs-note">
                                             <div class="awsdocs-note-title">
                                                <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                             <div class="awsdocs-note-text">
                                                <p>If the job is run on Fargate resources, then <code class="code">multinode</code> isn&apos;t supported.
                                                </p>
                                             </div>
                                          </div>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Allowed values</em>: <code class="code">container | multinode</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                    </dl>
                                 </div>
                                 <h2 id="aws-resource-batch-jobdefinition-return-values">Return values</h2>
                                 <h3 id="aws-resource-batch-jobdefinition-return-values-ref">Ref</h3>
                                 <p>When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the job definition ARN, such as
                                    <code class="code">arn:aws:batch:<em>us-east-1</em>:<em>111122223333</em>:job-definition/<em>test-gpu</em>:<em>2</em></code>.
                                 </p>
                                 <p>For more information about using the <code class="code">Ref</code> function, see <a href="intrinsic-function-reference-ref.html">Ref</a>.
                                 </p>
                                 <h2 id="aws-resource-batch-jobdefinition--examples">Examples</h2>
                                 <p></p>
                                 <h3 id="aws-resource-batch-jobdefinition--examples--Test_nvidia-smi">Test nvidia-smi</h3>
                                 <p>The following example tests the <code class="code">nvidia-smi</code> command on a GPU instance to verify that the GPU is
                                    working inside the container. For more information, see <a href="https://docs.aws.amazon.com/batch/latest/userguide/example-job-definitions.html#example-test-gpu">Test GPU Functionality</a> in the
                                    <em>AWS Batch User Guide</em>.
                                 </p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-resource-batch-jobdefinition--examples--Test_nvidia-smi--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
 &quot;JobDefinition&quot;: <span>{</span>
  &quot;Type&quot;: &quot;AWS::Batch::JobDefinition&quot;,
  &quot;Properties&quot;: <span>{</span>
   &quot;Type&quot;: &quot;container&quot;,
   &quot;JobDefinitionName&quot;: &quot;nvidia-smi&quot;,
   &quot;ContainerProperties&quot;: <span>{</span>
    &quot;MountPoints&quot;: [
     <span>{</span>
      &quot;ReadOnly&quot;: false,
      &quot;SourceVolume&quot;: &quot;nvidia&quot;,
      &quot;ContainerPath&quot;: &quot;/usr/local/nvidia&quot;
     }
    ],
    &quot;Volumes&quot;: [
     <span>{</span>
      &quot;Host&quot;: <span>{</span>
        &quot;SourcePath&quot;: &quot;/var/lib/nvidia-docker/volumes/nvidia_driver/latest&quot;
      },
      &quot;Name&quot;: &quot;nvidia&quot;
     }
    ],
    &quot;Command&quot;: [
      &quot;nvidia-smi&quot;
    ],
    &quot;Memory&quot;: 2000,
    &quot;Privileged&quot;: true,
    &quot;JobRoleArn&quot;: &quot;String&quot;,
    &quot;ReadonlyRootFilesystem&quot;: true,
    &quot;Vcpus&quot;: 2,
    &quot;Image&quot;: &quot;nvidia/cuda&quot;
   }
  }
 }
}</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-resource-batch-jobdefinition--examples--Test_nvidia-smi--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">JobDefinition:
  Type: AWS::Batch::JobDefinition
  Properties:
    Type: container
    JobDefinitionName: nvidia-smi
    ContainerProperties:
      MountPoints:
        - ReadOnly: false
          SourceVolume: nvidia
          ContainerPath: /usr/local/nvidia
      Volumes:
        - Host:
            SourcePath: /var/lib/nvidia-docker/volumes/nvidia_driver/latest
          Name: nvidia
      Command:
        - nvidia-smi
      Memory: 2000
      Privileged: true
      JobRoleArn: String
      ReadonlyRootFilesystem: true
      Vcpus: 2
      Image: nvidia/cuda</code></pre></div>
                                 <h2 id="aws-resource-batch-jobdefinition--seealso">See also</h2>
                                 <div class="itemizedlist">
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p>
                                             <a href="https://docs.aws.amazon.com/batch/latest/userguide/job_definition_parameters.html">Job Definition
                                                Parameters</a> in the <em>AWS Batch User Guide</em>.
                                          </p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                                 <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning"> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the Amazon Web Services Documentation, Javascript must be
                                                enabled. Please refer to your browser&apos;s Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div></div>
</body>
</html>