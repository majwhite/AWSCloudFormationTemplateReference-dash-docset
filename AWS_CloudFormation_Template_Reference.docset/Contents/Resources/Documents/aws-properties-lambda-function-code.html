<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="aws-properties-lambda-function-code">AWS::Lambda::Function Code</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>The deployment package for a Lambda function. For all runtimes, you can specify the
                                    location of an object in
                                    Amazon S3. For Node.js and Python functions, you can specify the function code inline
                                    in the template.
                                 </p>
                                 <p>Changes to a deployment package in Amazon S3 are not detected automatically during
                                    stack updates. To update
                                    the function code, change the object key or version in the template.
                                 </p>
                                 <h2 id="aws-properties-lambda-function-code-syntax">Syntax</h2>
                                 <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h3 id="aws-properties-lambda-function-code-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;<a href="#cfn-lambda-function-code-s3bucket">S3Bucket</a>&quot; : <code class="replaceable">String</code>,
  &quot;<a href="#cfn-lambda-function-code-s3key">S3Key</a>&quot; : <code class="replaceable">String</code>,
  &quot;<a href="#cfn-lambda-function-code-s3objectversion">S3ObjectVersion</a>&quot; : <code class="replaceable">String</code>,
  &quot;<a href="#cfn-lambda-function-code-zipfile">ZipFile</a>&quot; : <code class="replaceable">String</code>
}
</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h3 id="aws-properties-lambda-function-code-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">  <a href="#cfn-lambda-function-code-s3bucket">S3Bucket</a>: <code class="replaceable">String</code>
  <a href="#cfn-lambda-function-code-s3key">S3Key</a>: <code class="replaceable">String</code>
  <a href="#cfn-lambda-function-code-s3objectversion">S3ObjectVersion</a>: <code class="replaceable">String</code>
  <a href="#cfn-lambda-function-code-zipfile">ZipFile</a>: <code class="replaceable">String</code>
</code></pre></div>
                                 <h2 id="aws-properties-lambda-function-code-properties">Properties</h2>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="cfn-lambda-function-code-s3bucket"></a><span class="term"><code class="code">S3Bucket</code></span></dt>
                                       <dd>
                                          
                                          <p>An Amazon S3 bucket in the same AWS Region as your function. The bucket can be in
                                             a different AWS account.
                                          </p>
                                          
                                          <p><em>Required</em>: Conditional
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Minimum</em>: <code class="code">3</code></p>
                                          <p><em>Maximum</em>: <code class="code">63</code></p>
                                          <p><em>Pattern</em>: <code class="code">^[0-9A-Za-z\.\-_]*(?&lt;!\.)$</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-lambda-function-code-s3key"></a><span class="term"><code class="code">S3Key</code></span></dt>
                                       <dd>
                                          
                                          <p>The Amazon S3 key of the deployment package.</p>
                                          
                                          <p><em>Required</em>: Conditional
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Minimum</em>: <code class="code">1</code></p>
                                          <p><em>Maximum</em>: <code class="code">1024</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-lambda-function-code-s3objectversion"></a><span class="term"><code class="code">S3ObjectVersion</code></span></dt>
                                       <dd>
                                          
                                          <p>For versioned objects, the version of the deployment package object to use.</p>
                                          
                                          <p><em>Required</em>: Conditional
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Minimum</em>: <code class="code">1</code></p>
                                          <p><em>Maximum</em>: <code class="code">1024</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-lambda-function-code-zipfile"></a><span class="term"><code class="code">ZipFile</code></span></dt>
                                       <dd>
                                          
                                          <p>(Node.js and Python) The source code of your Lambda function. If you include your
                                             function source inline with
                                             this parameter, AWS CloudFormation places it in a file named <code class="code">index</code> and zips it to create a <a href="https://docs.aws.amazon.com/lambda/latest/dg/deployment-package-v2.html">deployment package</a>. For the
                                             <code class="code">Handler</code> property, the first part of the handler identifier must be <code class="code">index</code>. For example,
                                             <code class="code">index.handler</code>.
                                          </p>
                                          
                                          <p>Your source code can contain up to 4096 characters. For JSON, you must escape quotes
                                             and special characters
                                             such as newline (<code class="code">\n</code>) with a backslash.
                                          </p>
                                          
                                          <p>If you specify a function that interacts with an AWS CloudFormation custom resource,
                                             you don&apos;t have to write
                                             your own functions to send responses to the custom resource that invoked the function.
                                             AWS CloudFormation provides
                                             a response module (<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-lambda-function-code-cfnresponsemodule.html">cfn-response</a>)
                                             that simplifies sending responses. See <a href="https://docs.aws.amazon.com/lambda/latest/dg/services-cloudformation.html">Using AWS Lambda with AWS CloudFormation</a> for
                                             details. 
                                          </p>
                                          
                                          <p><em>Required</em>: Conditional
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                    </dl>
                                 </div>
                                 <h2 id="aws-properties-lambda-function-code--examples">Examples</h2>
                                 <h3 id="aws-properties-lambda-function-code--examples--Inline_Function">Inline Function</h3>
                                 <p>Inline Node.js function that uses the cfn-response library.</p>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-properties-lambda-function-code--examples--Inline_Function--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">      Code:
        ZipFile: |
          var aws = require(&apos;aws-sdk&apos;)
          var response = require(&apos;cfn-response&apos;)
          exports.handler = function(event, context) <span>{</span>
              console.log(&quot;REQUEST RECEIVED:\n&quot; + JSON.stringify(event))
              // For Delete requests, immediately send a SUCCESS response.
              if (event.RequestType == &quot;Delete&quot;) <span>{</span>
                  response.send(event, context, &quot;SUCCESS&quot;)
                  return
              }
              var responseStatus = &quot;FAILED&quot;
              var responseData = <span>{</span>}
              var functionName = event.ResourceProperties.FunctionName
              var lambda = new aws.Lambda()
              lambda.invoke(<span>{</span> FunctionName: functionName }, function(err, invokeResult) <span>{</span>
                  if (err) <span>{</span>
                      responseData = <span>{</span>Error: &quot;Invoke call failed&quot;}
                      console.log(responseData.Error + &quot;:\n&quot;, err)
                  }
                  else responseStatus = &quot;SUCCESS&quot;
                  response.send(event, context, responseStatus, responseData)
              })
          }</code></pre></div>
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning"> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the AWS Documentation, Javascript must be
                                                enabled. Please refer to your browser&apos;s Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div></div>
</body>
</html>