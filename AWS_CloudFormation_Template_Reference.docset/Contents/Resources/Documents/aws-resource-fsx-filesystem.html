<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <h1 class="topictitle" id="aws-resource-fsx-filesystem">AWS::FSx::FileSystem</h1><p>The <code class="code">AWS::FSx::FileSystem</code> resource is an Amazon FSx resource type that
                        creates either an Amazon FSx for Windows File Server file system or an Amazon FSx
                        for
                        Lustre file system.
                     </p><h2 id="aws-resource-fsx-filesystem-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="aws-resource-fsx-filesystem-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
  &quot;Type&quot; : &quot;AWS::FSx::FileSystem&quot;,
  &quot;Properties&quot; : {
      &quot;<a href="#cfn-fsx-filesystem-backupid">BackupId</a>&quot; : <em class="replaceable"><code>String</code></em>,
      &quot;<a href="#cfn-fsx-filesystem-filesystemtype">FileSystemType</a>&quot; : <em class="replaceable"><code>String</code></em>,
      &quot;<a href="#cfn-fsx-filesystem-kmskeyid">KmsKeyId</a>&quot; : <em class="replaceable"><code>String</code></em>,
      &quot;<a href="#cfn-fsx-filesystem-lustreconfiguration">LustreConfiguration</a>&quot; : <em class="replaceable"><code><a href="aws-properties-fsx-filesystem-lustreconfiguration.html">LustreConfiguration</a></code></em>,
      &quot;<a href="#cfn-fsx-filesystem-securitygroupids">SecurityGroupIds</a>&quot; : <em class="replaceable"><code>[ String, ... ]</code></em>,
      &quot;<a href="#cfn-fsx-filesystem-storagecapacity">StorageCapacity</a>&quot; : <em class="replaceable"><code>Integer</code></em>,
      &quot;<a href="#cfn-fsx-filesystem-subnetids">SubnetIds</a>&quot; : <em class="replaceable"><code>[ String, ... ]</code></em>,
      &quot;<a href="#cfn-fsx-filesystem-tags">Tags</a>&quot; : <em class="replaceable"><code>[ <a href="aws-properties-resource-tags.html">Tag</a>, ... ]</code></em>,
      &quot;<a href="#cfn-fsx-filesystem-windowsconfiguration">WindowsConfiguration</a>&quot; : <em class="replaceable"><code><a href="aws-properties-fsx-filesystem-windowsconfiguration.html">WindowsConfiguration</a></code></em>
    }
}
</code></pre></div><div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="aws-resource-fsx-filesystem-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="yaml ">Type: AWS::FSx::FileSystem
Properties: 
  <a href="#cfn-fsx-filesystem-backupid">BackupId</a>: <em class="replaceable"><code>String</code></em>
  <a href="#cfn-fsx-filesystem-filesystemtype">FileSystemType</a>: <em class="replaceable"><code>String</code></em>
  <a href="#cfn-fsx-filesystem-kmskeyid">KmsKeyId</a>: <em class="replaceable"><code>String</code></em>
  <a href="#cfn-fsx-filesystem-lustreconfiguration">LustreConfiguration</a>: <em class="replaceable"><code>
    <a href="aws-properties-fsx-filesystem-lustreconfiguration.html">LustreConfiguration</a></code></em>
  <a href="#cfn-fsx-filesystem-securitygroupids">SecurityGroupIds</a>: <em class="replaceable"><code>
    - String</code></em>
  <a href="#cfn-fsx-filesystem-storagecapacity">StorageCapacity</a>: <em class="replaceable"><code>Integer</code></em>
  <a href="#cfn-fsx-filesystem-subnetids">SubnetIds</a>: <em class="replaceable"><code>
    - String</code></em>
  <a href="#cfn-fsx-filesystem-tags">Tags</a>: <em class="replaceable"><code>
    - <a href="aws-properties-resource-tags.html">Tag</a></code></em>
  <a href="#cfn-fsx-filesystem-windowsconfiguration">WindowsConfiguration</a>: <em class="replaceable"><code>
    <a href="aws-properties-fsx-filesystem-windowsconfiguration.html">WindowsConfiguration</a></code></em>
</code></pre></div><h2 id="aws-resource-fsx-filesystem-properties">Properties</h2><div class="variablelist">
                        <dl>
                           <dt><a id="cfn-fsx-filesystem-backupid"></a><span class="term"><code class="code">BackupId</code></span></dt>
                           <dd>
                              
                              <p>The ID of the backup. Specifies the backup to use if you&apos;re creating a file system
                                 from an existing backup.
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                           </dd>
                           <dt><a id="cfn-fsx-filesystem-filesystemtype"></a><span class="term"><code class="code">FileSystemType</code></span></dt>
                           <dd>
                              
                              <p>The type of Amazon FSx file system, either <code class="code">LUSTRE</code> or <code class="code">WINDOWS</code>.
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Allowed Values</em>: <code class="code">LUSTRE | WINDOWS</code></p>
                              <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                           </dd>
                           <dt><a id="cfn-fsx-filesystem-kmskeyid"></a><span class="term"><code class="code">KmsKeyId</code></span></dt>
                           <dd>
                              
                              <p>The ID of the AWS Key Management Service (AWS KMS) key used to encrypt the file
                                 system&apos;s data for an Amazon FSx for Windows File Server file system.
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                           </dd>
                           <dt><a id="cfn-fsx-filesystem-lustreconfiguration"></a><span class="term"><code class="code">LustreConfiguration</code></span></dt>
                           <dd>
                              
                              <p>The Lustre configuration for the file system being created. 
                                 This value is required if <code class="code">FileSystemType</code> is set to <code class="code">LUSTRE</code>.
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: <a href="aws-properties-fsx-filesystem-lustreconfiguration.html">LustreConfiguration</a></p>
                              <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                           <dt><a id="cfn-fsx-filesystem-securitygroupids"></a><span class="term"><code class="code">SecurityGroupIds</code></span></dt>
                           <dd>
                              
                              <p>A list of IDs specifying the security groups to apply to all network interfaces
                                 created for file system access. This list isn&apos;t returned in later requests to
                                 describe the file system.
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: List of String
                              </p>
                              <p><em>Maximum</em>: <code class="code">50</code></p>
                              <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                           </dd>
                           <dt><a id="cfn-fsx-filesystem-storagecapacity"></a><span class="term"><code class="code">StorageCapacity</code></span></dt>
                           <dd>
                              
                              <p>The storage capacity of the file system being created.</p>
                              
                              <p>For Windows file systems, the storage capacity has a minimum of 300 GiB, and a
                                 maximum of 65,536 GiB.
                              </p>
                              
                              <p>For Lustre file systems, the storage capacity has a minimum of 3,600 GiB. Storage
                                 capacity is provisioned in increments of 3,600 GiB.
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: Integer
                              </p>
                              <p><em>Minimum</em>: <code class="code">1</code></p>
                              <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                           </dd>
                           <dt><a id="cfn-fsx-filesystem-subnetids"></a><span class="term"><code class="code">SubnetIds</code></span></dt>
                           <dd>
                              
                              <p>The ID of the subnet to contain the endpoint for the file system. One and only one
                                 is
                                 supported. The file system is launched in the Availability Zone associated with this
                                 subnet.
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: List of String
                              </p>
                              <p><em>Maximum</em>: <code class="code">50</code></p>
                              <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                           </dd>
                           <dt><a id="cfn-fsx-filesystem-tags"></a><span class="term"><code class="code">Tags</code></span></dt>
                           <dd>
                              
                              
                              <p>An array of key-value pairs to apply to this resource.</p>
                              
                              <p>For more information, see <a href="aws-properties-resource-tags.html">Tag</a>.
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: List of <a href="aws-properties-resource-tags.html">Tag</a></p>
                              <p><em>Maximum</em>: <code class="code">50</code></p>
                              <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                           <dt><a id="cfn-fsx-filesystem-windowsconfiguration"></a><span class="term"><code class="code">WindowsConfiguration</code></span></dt>
                           <dd>
                              
                              <p>The configuration object for the Microsoft Windows file system you are creating.
                                 
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: <a href="aws-properties-fsx-filesystem-windowsconfiguration.html">WindowsConfiguration</a></p>
                              <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                        </dl>
                     </div><h2 id="aws-resource-fsx-filesystem-return-values">Return Values</h2><h3 id="aws-resource-fsx-filesystem-return-values-ref">Ref</h3><p>When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the function returns the file system resource ID. For example:
                     </p><p><code class="code">{&quot;Ref&quot;:&quot;fs-01234567890123456&quot;}</code></p><p>For the Amazon FSx file system <code class="code">fs-01234567890123456</code>, Ref returns the file system ID.
                     </p><p>For more information about using the <code class="code">Ref</code> function, see <a href="intrinsic-function-reference-ref.html">Ref</a>.
                     </p><h2 id="aws-resource-fsx-filesystem--examples">Examples</h2><h3 id="aws-resource-fsx-filesystem--examples--Create_an_Amazon_FSx_for_Lustre_File_System">Create an Amazon FSx for Lustre File System</h3><p>The following examples create an Amazon FSx for Lustre file system.</p><div id="JSON" name="JSON" class="section langfilter">
                        <h4 id="aws-resource-fsx-filesystem--examples--Create_an_Amazon_FSx_for_Lustre_File_System--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
    &quot;Resources&quot;: {
        &quot;BasicS3LinkedLustreFileSystem&quot;: {
            &quot;Type&quot;: &quot;AWS::FSx::FileSystem&quot;,
            &quot;Properties&quot;: {
                &quot;FileSystemType&quot;: &quot;LUSTRE&quot;,
                &quot;StorageCapacity&quot;: 3600,
                &quot;SubnetIds&quot;: [
                    null
                ],
                &quot;SecurityGroupIds&quot;: [
                    null
                ],
                &quot;Tags&quot;: [
                    {
                        &quot;Key&quot;: &quot;Name&quot;,
                        &quot;Value&quot;: &quot;s3linkedLustre&quot;
                    },
                    {
                        &quot;Key&quot;: &quot;StorageCapacity&quot;,
                        &quot;Value&quot;: &quot;3600GB&quot;
                    }
                ],
                &quot;LustreConfiguration&quot;: {
                    &quot;ImportPath&quot;: null,
                    &quot;ExportPath&quot;: null,
                    &quot;WeeklyMaintenanceStartTime&quot;: &quot;2:20:30&quot;
                }
            }
        }
    },
    &quot;Outputs&quot;: {
        &quot;FileSystemId&quot;: {
            &quot;Value&quot;: {
                &quot;Ref&quot;: &quot;BasicS3LinkedLustreFileSystem&quot;
            }
        }
    }
}
            </code></pre></div><div id="YAML" name="YAML" class="section langfilter">
                        <h4 id="aws-resource-fsx-filesystem--examples--Create_an_Amazon_FSx_for_Lustre_File_System--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="yaml ">Resources:
  BasicS3LinkedLustreFileSystem:
    Type: AWS::FSx::FileSystem
    Properties:
      FileSystemType: &quot;LUSTRE&quot;
      StorageCapacity: 3600
      SubnetIds: [!ImportValue CustomerPublicSubnet01]
      SecurityGroupIds: [!ImportValue LustreIngressSecurityGroupId]
      Tags:
        - Key: &quot;Name&quot;
          Value: &quot;s3linkedLustre&quot;
        - Key: &quot;StorageCapacity&quot;
          Value: &quot;3600GB&quot;
      LustreConfiguration:
        ImportPath: !Join [&quot;&quot;, [&quot;s3://&quot;, !ImportValue LustreCFNTestS3ImportBucketName]]
        ExportPath: !Join [&quot;&quot;, [&quot;s3://&quot;, !ImportValue LustreCFNTestS3ImportBucketName]]
        WeeklyMaintenanceStartTime: &quot;2:20:30&quot;
Outputs:
  FileSystemId:
    Value: !Ref BasicS3LinkedLustreFileSystem</code></pre></div><h3 id="aws-resource-fsx-filesystem--examples--Create_an_Amazon_FSx_for_Windows_File_Server_File_System">Create an Amazon FSx for Windows File Server File System</h3><p>The following examples create an Amazon FSx for Windows File Server file system.</p><div id="JSON" name="JSON" class="section langfilter">
                        <h4 id="aws-resource-fsx-filesystem--examples--Create_an_Amazon_FSx_for_Windows_File_Server_File_System--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
    &quot;Resources&quot;: {
        &quot;WindowsFileSystemWithAllConfigs&quot;: {
            &quot;Type&quot;: &quot;AWS::FSx::FileSystem&quot;,
            &quot;Properties&quot;: {
                &quot;FileSystemType&quot;: &quot;WINDOWS&quot;,
                &quot;StorageCapacity&quot;: 300,
                &quot;SubnetIds&quot;: [
                    null
                ],
                &quot;SecurityGroupIds&quot;: [
                    null
                ],
                &quot;Tags&quot;: [
                    {
                        &quot;Key&quot;: &quot;Name&quot;,
                        &quot;Value&quot;: &quot;windows&quot;
                    },
                    {
                        &quot;Key&quot;: &quot;ThroughputCapacity&quot;,
                        &quot;Value&quot;: &quot;16&quot;
                    }
                ],
                &quot;WindowsConfiguration&quot;: {
                    &quot;ActiveDirectoryId&quot;: null,
                    &quot;ThroughputCapacity&quot;: 8,
                    &quot;WeeklyMaintenanceStartTime&quot;: &quot;4:16:30&quot;,
                    &quot;DailyAutomaticBackupStartTime&quot;: &quot;01:00&quot;,
                    &quot;AutomaticBackupRetentionDays&quot;: 2,
                    &quot;CopyTagsToBackups&quot;: false
                }
            }
        }
    },
    &quot;Outputs&quot;: {
        &quot;FileSystemId&quot;: {
            &quot;Value&quot;: {
                &quot;Ref&quot;: &quot;WindowsFileSystemWithAllConfigs&quot;
            }
        }
    }
}</code></pre></div><div id="YAML" name="YAML" class="section langfilter">
                        <h4 id="aws-resource-fsx-filesystem--examples--Create_an_Amazon_FSx_for_Windows_File_Server_File_System--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="yaml ">Resources:
  WindowsFileSystemWithAllConfigs:
    Type: &quot;AWS::FSx::FileSystem&quot;
    Properties:
      FileSystemType: &quot;WINDOWS&quot;
      StorageCapacity: 300
      SubnetIds: [!ImportValue CustomerPublicSubnet01]
      SecurityGroupIds: [!ImportValue LustreIngressSecurityGroupId]
      Tags:
        - Key: &quot;Name&quot;
          Value: &quot;windows&quot;
        - Key: &quot;ThroughputCapacity&quot;
          Value: &quot;16&quot;
      WindowsConfiguration:
        ActiveDirectoryId: !ImportValue CustomerDirectoryServiceId
        ThroughputCapacity: 8
        WeeklyMaintenanceStartTime: &quot;4:16:30&quot;
        DailyAutomaticBackupStartTime: &quot;01:00&quot;
        AutomaticBackupRetentionDays: 2
        CopyTagsToBackups: false
Outputs:
  FileSystemId:
    Value: !Ref WindowsFileSystemWithAllConfigs
            </code></pre></div><div id="marketing-target"><span class="close-button"></span><div class="marketing-title" id="marketing-title"></div>
                        <div class="marketing-description"><span id="marketing-description"></span><span id="marketing-cta"></span></div>
                     </div></div>
</body>
</html>