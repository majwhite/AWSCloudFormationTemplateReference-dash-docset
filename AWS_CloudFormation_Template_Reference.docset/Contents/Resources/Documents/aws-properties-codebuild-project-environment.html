<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="aws-properties-codebuild-project-environment">AWS::CodeBuild::Project Environment</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>
                                    <code class="code">Environment</code> is a property of the <a href="aws-resource-codebuild-project.html">AWS::CodeBuild::Project</a> resource that specifies 
                                    the environment for an AWS CodeBuild project.   
                                    
                                 </p>
                                 <h2 id="aws-properties-codebuild-project-environment-syntax">Syntax</h2>
                                 <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h3 id="aws-properties-codebuild-project-environment-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;<a href="#cfn-codebuild-project-environment-certificate">Certificate</a>&quot; : <code class="replaceable">String</code>,
  &quot;<a href="#cfn-codebuild-project-environment-computetype">ComputeType</a>&quot; : <code class="replaceable">String</code>,
  &quot;<a href="#cfn-codebuild-project-environment-environmentvariables">EnvironmentVariables</a>&quot; : <code class="replaceable">[ <a href="./aws-properties-codebuild-project-environmentvariable.html">EnvironmentVariable</a>, ... ]</code>,
  &quot;<a href="#cfn-codebuild-project-environment-image">Image</a>&quot; : <code class="replaceable">String</code>,
  &quot;<a href="#cfn-codebuild-project-environment-imagepullcredentialstype">ImagePullCredentialsType</a>&quot; : <code class="replaceable">String</code>,
  &quot;<a href="#cfn-codebuild-project-environment-privilegedmode">PrivilegedMode</a>&quot; : <code class="replaceable">Boolean</code>,
  &quot;<a href="#cfn-codebuild-project-environment-registrycredential">RegistryCredential</a>&quot; : <code class="replaceable"><a href="./aws-properties-codebuild-project-registrycredential.html">RegistryCredential</a></code>,
  &quot;<a href="#cfn-codebuild-project-environment-type">Type</a>&quot; : <code class="replaceable">String</code>
}
</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h3 id="aws-properties-codebuild-project-environment-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">  <a href="#cfn-codebuild-project-environment-certificate">Certificate</a>: <code class="replaceable">String</code>
  <a href="#cfn-codebuild-project-environment-computetype">ComputeType</a>: <code class="replaceable">String</code>
  <a href="#cfn-codebuild-project-environment-environmentvariables">EnvironmentVariables</a>: <code class="replaceable">
    - <a href="./aws-properties-codebuild-project-environmentvariable.html">EnvironmentVariable</a></code>
  <a href="#cfn-codebuild-project-environment-image">Image</a>: <code class="replaceable">String</code>
  <a href="#cfn-codebuild-project-environment-imagepullcredentialstype">ImagePullCredentialsType</a>: <code class="replaceable">String</code>
  <a href="#cfn-codebuild-project-environment-privilegedmode">PrivilegedMode</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-codebuild-project-environment-registrycredential">RegistryCredential</a>: <code class="replaceable">
    <a href="./aws-properties-codebuild-project-registrycredential.html">RegistryCredential</a></code>
  <a href="#cfn-codebuild-project-environment-type">Type</a>: <code class="replaceable">String</code>
</code></pre></div>
                                 <h2 id="aws-properties-codebuild-project-environment-properties">Properties</h2>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="cfn-codebuild-project-environment-certificate"></a><span class="term"><code class="code">Certificate</code></span></dt>
                                       <dd>
                                          
                                          <p>The certificate to use with this build project.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-codebuild-project-environment-computetype"></a><span class="term"><code class="code">ComputeType</code></span></dt>
                                       <dd>
                                          
                                          <p>The type of compute environment. This determines the number of CPU cores and memory
                                             the build environment uses.  Available values
                                             include:
                                          </p>
                                          
                                          <div class="itemizedlist">
                                              
                                              
                                              
                                             
                                             <ul class="itemizedlist" type="disc">
                                                <li class="listitem">
                                                   
                                                   <p>
                                                      <code class="code">BUILD_GENERAL1_SMALL</code>: Use up to 3 GB memory and 2 vCPUs for
                                                      builds.
                                                   </p>
                                                   
                                                </li>
                                                <li class="listitem">
                                                   
                                                   <p>
                                                      <code class="code">BUILD_GENERAL1_MEDIUM</code>: Use up to 7 GB memory and 4 vCPUs for
                                                      builds.
                                                   </p>
                                                   
                                                </li>
                                                <li class="listitem">
                                                   
                                                   <p>
                                                      <code class="code">BUILD_GENERAL1_LARGE</code>: Use up to 15 GB memory and 8 vCPUs for
                                                      builds.
                                                   </p>
                                                   
                                                </li>
                                             </ul>
                                          </div>
                                          
                                          <p>
                                             For more information, see <a href="https://docs.aws.amazon.com/codebuild/latest/userguide/build-env-ref-compute-types.html">Build Environment Compute Types</a> in the 
                                             <em>AWS CodeBuild User Guide.</em>
                                             
                                          </p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-codebuild-project-environment-environmentvariables"></a><span class="term"><code class="code">EnvironmentVariables</code></span></dt>
                                       <dd>
                                          
                                          <p>A set of environment variables to make available to builds for this build
                                             project.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of <a href="./aws-properties-codebuild-project-environmentvariable.html">EnvironmentVariable</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-codebuild-project-environment-image"></a><span class="term"><code class="code">Image</code></span></dt>
                                       <dd>
                                          
                                          <p>The image tag or image digest that identifies the Docker image to use for this build
                                             project. Use the following formats:
                                          </p>
                                          
                                          <div class="itemizedlist">
                                              
                                              
                                             
                                             <ul class="itemizedlist" type="disc">
                                                <li class="listitem">
                                                   
                                                   <p>For an image tag: <code class="code">registry/repository:tag</code>. For example, to specify an image with the tag &quot;latest,&quot; use 
                                                      <code class="code">registry/repository:latest</code>.
                                                   </p>
                                                   
                                                </li>
                                                <li class="listitem">
                                                   
                                                   <p>For an image digest: <code class="code">registry/repository@digest</code>. For example, to specify an image with the digest 
                                                      &quot;sha256:cbbf2f9a99b47fc460d422812b6a5adff7dfee951d8fa2e4a98caa0382cfbdbf,&quot; use 
                                                      <code class="code">registry/repository@sha256:cbbf2f9a99b47fc460d422812b6a5adff7dfee951d8fa2e4a98caa0382cfbdbf</code>.
                                                   </p>
                                                   
                                                </li>
                                             </ul>
                                          </div>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Minimum</em>: <code class="code">1</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-codebuild-project-environment-imagepullcredentialstype"></a><span class="term"><code class="code">ImagePullCredentialsType</code></span></dt>
                                       <dd>
                                          
                                          <p> The type of credentials AWS CodeBuild uses to pull images in your build. There are
                                             two valid
                                             values: 
                                          </p>
                                          
                                          <div class="itemizedlist">
                                              
                                              
                                             
                                             <ul class="itemizedlist" type="disc">
                                                <li class="listitem">
                                                   
                                                   <p>
                                                      <code class="code">CODEBUILD</code> specifies that AWS CodeBuild uses its own credentials.
                                                      This requires that you modify your ECR repository policy to trust AWS CodeBuild&apos;s
                                                      service principal.
                                                      
                                                   </p>
                                                   
                                                </li>
                                                <li class="listitem">
                                                   
                                                   <p>
                                                      <code class="code">SERVICE_ROLE</code> specifies that AWS CodeBuild uses your build project&apos;s service role.
                                                      
                                                   </p>
                                                   
                                                </li>
                                             </ul>
                                          </div>
                                          
                                          
                                          <p>
                                             When you use a cross-account or private registry image, you must use SERVICE_ROLE
                                             credentials. 
                                             When you use an AWS CodeBuild curated image, you must use CODEBUILD credentials. 
                                             
                                          </p>   
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Allowed Values</em>: <code class="code">CODEBUILD | SERVICE_ROLE</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-codebuild-project-environment-privilegedmode"></a><span class="term"><code class="code">PrivilegedMode</code></span></dt>
                                       <dd>
                                          
                                          <p>Enables running the Docker daemon inside a Docker container. Set to true only if the
                                             build project is used to build Docker images. Otherwise, a build that attempts 
                                             to interact with the Docker daemon fails. The default setting is <code class="code">false</code>.
                                          </p>
                                          
                                          <p>You can initialize the Docker daemon during the install phase of your build by adding
                                             one of the following sets of commands 
                                             to the install phase of your buildspec file:
                                          </p>
                                          
                                          <p>If the operating system&apos;s base image is Ubuntu Linux:</p>
                                          
                                          <p><code class="code">- nohup /usr/local/bin/dockerd --host=unix:///var/run/docker.sock --host=tcp://0.0.0.0:2375
                                                --storage-driver=overlay&amp;</code>
                                             
                                          </p>
                                          
                                          <p><code class="code">- timeout 15 sh -c &quot;until docker info; do echo .; sleep 1; done&quot;</code>
                                             
                                          </p>
                                          
                                          <p>If the operating system&apos;s base image is Alpine Linux and the previous command does
                                             not work, add the <code class="code">-t</code> argument
                                             to <code class="code">timeout</code>:
                                          </p>
                                          
                                          <p><code class="code">- nohup /usr/local/bin/dockerd --host=unix:///var/run/docker.sock --host=tcp://0.0.0.0:2375
                                                --storage-driver=overlay&amp;</code></p>
                                          
                                          <p><code class="code">- timeout -t 15 sh -c &quot;until docker info; do echo .; sleep 1; done&quot;</code>
                                             
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: Boolean
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-codebuild-project-environment-registrycredential"></a><span class="term"><code class="code">RegistryCredential</code></span></dt>
                                       <dd>
                                          
                                          <p>
                                             <code class="code">RegistryCredential</code> is a property of the <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-codebuild-project.html#cfn-codebuild-project-environment">AWS::CodeBuild::Project Environment
                                                </a> property that specifies information about credentials that provide access to a private
                                             Docker registry. When this is set:
                                          </p>
                                          
                                          <div class="itemizedlist">
                                              
                                              
                                             
                                             <ul class="itemizedlist" type="disc">
                                                <li class="listitem">
                                                   
                                                   <p>
                                                      <code class="code">imagePullCredentialsType</code> must be set to <code class="code">SERVICE_ROLE</code>.
                                                      
                                                   </p>
                                                   
                                                </li>
                                                <li class="listitem">
                                                   
                                                   <p>
                                                      images cannot be curated or an Amazon ECR image.
                                                      
                                                   </p>
                                                   
                                                </li>
                                             </ul>
                                          </div>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-codebuild-project-registrycredential.html">RegistryCredential</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-codebuild-project-environment-type"></a><span class="term"><code class="code">Type</code></span></dt>
                                       <dd>
                                          
                                          <p>The type of build environment to use for related builds.</p>
                                          
                                          <div class="itemizedlist">
                                              
                                              
                                              
                                             
                                             <ul class="itemizedlist" type="disc">
                                                <li class="listitem">
                                                   
                                                   <p>The environment type <code class="code">ARM_CONTAINER</code> is available only in
                                                      regions US East (N. Virginia), US East (Ohio), US West (Oregon),
                                                      EU (Ireland), Asia Pacific (Mumbai), Asia Pacific (Tokyo),
                                                      Asia Pacific (Sydney), and EU (Frankfurt).
                                                   </p>
                                                   
                                                </li>
                                                <li class="listitem">
                                                   
                                                   <p>The environment type <code class="code">LINUX_CONTAINER</code> with compute type 
                                                      <code class="code">build.general1.2xlarge</code> is available only in
                                                      regions US East (N. Virginia), US East (Ohio), US West (Oregon), Canada (Central),
                                                      EU (Ireland), EU (London), EU (Frankfurt),
                                                      Asia Pacific (Tokyo), Asia Pacific (Seoul), Asia Pacific (Singapore),
                                                      Asia Pacific (Sydney), China (Beijing), and
                                                      China (Ningxia).
                                                   </p>
                                                   
                                                </li>
                                                <li class="listitem">
                                                   
                                                   <p>The environment type <code class="code">LINUX_GPU_CONTAINER</code> is available only in
                                                      regions US East (N. Virginia), US East (Ohio), US West (Oregon), Canada (Central),
                                                      EU (Ireland), EU (London), EU (Frankfurt),
                                                      Asia Pacific (Tokyo), Asia Pacific (Seoul), Asia Pacific (Singapore),
                                                      Asia Pacific (Sydney) , China (Beijing), and
                                                      China (Ningxia).
                                                   </p>
                                                   
                                                </li>
                                             </ul>
                                          </div>
                                          
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Allowed Values</em>: <code class="code">ARM_CONTAINER | LINUX_CONTAINER | LINUX_GPU_CONTAINER | WINDOWS_CONTAINER</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                    </dl>
                                 </div>
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning"> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the AWS Documentation, Javascript must be
                                                enabled. Please refer to your browser&apos;s Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div></div>
</body>
</html>