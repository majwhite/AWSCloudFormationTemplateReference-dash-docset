<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="aws-resource-amazonmq-broker">AWS::AmazonMQ::Broker</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>A <em>broker</em> is a message broker environment running on Amazon MQ. It is
                                    the basic building block of Amazon MQ.
                                 </p>
                                 <p>The <code class="code">AWS::AmazonMQ::Broker</code> resource lets you create Amazon MQ for ActiveMQ and Amazon MQ for RabbitMQ brokers,
                                    add
                                    configuration changes or modify users for a speified ActiveMQ broker, return information
                                    about the
                                    specified broker, and delete the broker. For more information, see <a href="https://docs.aws.amazon.com/amazon-mq/latest/developer-guide/amazon-mq-how-it-works.html">How Amazon MQ works</a> in the <em>Amazon MQ Developer
                                       Guide</em>.
                                 </p>
                                 <div class="itemizedlist">
                                     
                                     
                                     
                                     
                                     
                                     
                                     
                                     
                                     
                                     
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p><code class="code">ec2:CreateNetworkInterface</code></p>
                                          
                                          <p>This permission is required to allow Amazon MQ to create an elastic network interface
                                             (ENI) on behalf of your account.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><code class="code">ec2:CreateNetworkInterfacePermission</code></p>
                                          
                                          <p>This permission is required to attach the ENI to the broker instance.</p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><code class="code">ec2:DeleteNetworkInterface</code></p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><code class="code">ec2:DeleteNetworkInterfacePermission</code></p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><code class="code">ec2:DetachNetworkInterface</code></p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><code class="code">ec2:DescribeInternetGateways</code></p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><code class="code">ec2:DescribeNetworkInterfaces</code></p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><code class="code">ec2:DescribeNetworkInterfacePermissions</code></p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><code class="code">ec2:DescribeRouteTables</code></p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><code class="code">ec2:DescribeSecurityGroups</code></p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><code class="code">ec2:DescribeSubnets</code></p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><code class="code">ec2:DescribeVpcs</code></p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                 <h2 id="aws-resource-amazonmq-broker-syntax">Syntax</h2>
                                 <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h3 id="aws-resource-amazonmq-broker-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;Type&quot; : &quot;AWS::AmazonMQ::Broker&quot;,
  &quot;Properties&quot; : <span>{</span>
      &quot;<a href="#cfn-amazonmq-broker-authenticationstrategy">AuthenticationStrategy</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-amazonmq-broker-autominorversionupgrade">AutoMinorVersionUpgrade</a>&quot; : <code class="replaceable">Boolean</code>,
      &quot;<a href="#cfn-amazonmq-broker-brokername">BrokerName</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-amazonmq-broker-configuration">Configuration</a>&quot; : <code class="replaceable"><a href="./aws-properties-amazonmq-broker-configurationid.html">ConfigurationId</a></code>,
      &quot;<a href="#cfn-amazonmq-broker-deploymentmode">DeploymentMode</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-amazonmq-broker-encryptionoptions">EncryptionOptions</a>&quot; : <code class="replaceable"><a href="./aws-properties-amazonmq-broker-encryptionoptions.html">EncryptionOptions</a></code>,
      &quot;<a href="#cfn-amazonmq-broker-enginetype">EngineType</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-amazonmq-broker-engineversion">EngineVersion</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-amazonmq-broker-hostinstancetype">HostInstanceType</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-amazonmq-broker-ldapservermetadata">LdapServerMetadata</a>&quot; : <code class="replaceable"><a href="./aws-properties-amazonmq-broker-ldapservermetadata.html">LdapServerMetadata</a></code>,
      &quot;<a href="#cfn-amazonmq-broker-logs">Logs</a>&quot; : <code class="replaceable"><a href="./aws-properties-amazonmq-broker-loglist.html">LogList</a></code>,
      &quot;<a href="#cfn-amazonmq-broker-maintenancewindowstarttime">MaintenanceWindowStartTime</a>&quot; : <code class="replaceable"><a href="./aws-properties-amazonmq-broker-maintenancewindow.html">MaintenanceWindow</a></code>,
      &quot;<a href="#cfn-amazonmq-broker-publiclyaccessible">PubliclyAccessible</a>&quot; : <code class="replaceable">Boolean</code>,
      &quot;<a href="#cfn-amazonmq-broker-securitygroups">SecurityGroups</a>&quot; : <code class="replaceable">[ String, ... ]</code>,
      &quot;<a href="#cfn-amazonmq-broker-storagetype">StorageType</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-amazonmq-broker-subnetids">SubnetIds</a>&quot; : <code class="replaceable">[ String, ... ]</code>,
      &quot;<a href="#cfn-amazonmq-broker-tags">Tags</a>&quot; : <code class="replaceable">[ <a href="./aws-properties-amazonmq-broker-tagsentry.html">TagsEntry</a>, ... ]</code>,
      &quot;<a href="#cfn-amazonmq-broker-users">Users</a>&quot; : <code class="replaceable">[ <a href="./aws-properties-amazonmq-broker-user.html">User</a>, ... ]</code>
    }
}
</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h3 id="aws-resource-amazonmq-broker-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::AmazonMQ::Broker
Properties: 
  <a href="#cfn-amazonmq-broker-authenticationstrategy">AuthenticationStrategy</a>: <code class="replaceable">String</code>
  <a href="#cfn-amazonmq-broker-autominorversionupgrade">AutoMinorVersionUpgrade</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-amazonmq-broker-brokername">BrokerName</a>: <code class="replaceable">String</code>
  <a href="#cfn-amazonmq-broker-configuration">Configuration</a>: <code class="replaceable">
    <a href="./aws-properties-amazonmq-broker-configurationid.html">ConfigurationId</a></code>
  <a href="#cfn-amazonmq-broker-deploymentmode">DeploymentMode</a>: <code class="replaceable">String</code>
  <a href="#cfn-amazonmq-broker-encryptionoptions">EncryptionOptions</a>: <code class="replaceable">
    <a href="./aws-properties-amazonmq-broker-encryptionoptions.html">EncryptionOptions</a></code>
  <a href="#cfn-amazonmq-broker-enginetype">EngineType</a>: <code class="replaceable">String</code>
  <a href="#cfn-amazonmq-broker-engineversion">EngineVersion</a>: <code class="replaceable">String</code>
  <a href="#cfn-amazonmq-broker-hostinstancetype">HostInstanceType</a>: <code class="replaceable">String</code>
  <a href="#cfn-amazonmq-broker-ldapservermetadata">LdapServerMetadata</a>: <code class="replaceable">
    <a href="./aws-properties-amazonmq-broker-ldapservermetadata.html">LdapServerMetadata</a></code>
  <a href="#cfn-amazonmq-broker-logs">Logs</a>: <code class="replaceable">
    <a href="./aws-properties-amazonmq-broker-loglist.html">LogList</a></code>
  <a href="#cfn-amazonmq-broker-maintenancewindowstarttime">MaintenanceWindowStartTime</a>: <code class="replaceable">
    <a href="./aws-properties-amazonmq-broker-maintenancewindow.html">MaintenanceWindow</a></code>
  <a href="#cfn-amazonmq-broker-publiclyaccessible">PubliclyAccessible</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-amazonmq-broker-securitygroups">SecurityGroups</a>: <code class="replaceable">
    - String</code>
  <a href="#cfn-amazonmq-broker-storagetype">StorageType</a>: <code class="replaceable">String</code>
  <a href="#cfn-amazonmq-broker-subnetids">SubnetIds</a>: <code class="replaceable">
    - String</code>
  <a href="#cfn-amazonmq-broker-tags">Tags</a>: <code class="replaceable">
    - <a href="./aws-properties-amazonmq-broker-tagsentry.html">TagsEntry</a></code>
  <a href="#cfn-amazonmq-broker-users">Users</a>: <code class="replaceable">
    - <a href="./aws-properties-amazonmq-broker-user.html">User</a></code>
</code></pre></div>
                                 <h2 id="aws-resource-amazonmq-broker-properties">Properties</h2>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="cfn-amazonmq-broker-authenticationstrategy"></a><span class="term"><code class="code">AuthenticationStrategy</code></span></dt>
                                       <dd>
                                          
                                          
                                          <p>Optional. The authentication strategy used to secure the broker. The default is
                                             <code class="code">SIMPLE</code>.
                                          </p>
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-amazonmq-broker-autominorversionupgrade"></a><span class="term"><code class="code">AutoMinorVersionUpgrade</code></span></dt>
                                       <dd>
                                          
                                          
                                          <p>Enables automatic upgrades to new minor versions for brokers, as new broker engine
                                             versions
                                             are released and supported by Amazon MQ. Automatic upgrades occur during the scheduled
                                             maintenance window of the broker or after a
                                             manual broker reboot.
                                          </p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: Boolean
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-amazonmq-broker-brokername"></a><span class="term"><code class="code">BrokerName</code></span></dt>
                                       <dd>
                                          
                                          
                                          <p>The name of the broker. This value must be unique in your AWS account, 1-50 characters
                                             long, must contain only letters, numbers, dashes, and underscores, and must not contain
                                             white
                                             spaces, brackets, wildcard characters, or special characters.
                                          </p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-amazonmq-broker-configuration"></a><span class="term"><code class="code">Configuration</code></span></dt>
                                       <dd>
                                          
                                          
                                          <p>A list of information about the configuration. Does not apply to RabbitMQ brokers.</p>
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-amazonmq-broker-configurationid.html">ConfigurationId</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-some-interrupt">Some interruptions</a></p>
                                       </dd>
                                       <dt><a id="cfn-amazonmq-broker-deploymentmode"></a><span class="term"><code class="code">DeploymentMode</code></span></dt>
                                       <dd>
                                          
                                          
                                          <p>The deployment mode of the broker. Available values:</p>
                                          
                                          <div class="itemizedlist">
                                              
                                              
                                              
                                             
                                             <ul class="itemizedlist" type="disc">
                                                <li class="listitem">
                                                   <p><code class="code">SINGLE_INSTANCE</code></p>
                                                </li>
                                                <li class="listitem">
                                                   <p><code class="code">ACTIVE_STANDBY_MULTI_AZ</code></p>
                                                </li>
                                                <li class="listitem">
                                                   <p><code class="code">CLUSTER_MULTI_AZ</code></p>
                                                </li>
                                             </ul>
                                          </div>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-amazonmq-broker-encryptionoptions"></a><span class="term"><code class="code">EncryptionOptions</code></span></dt>
                                       <dd>
                                          
                                          
                                          <p>Encryption options for the broker. Does not apply to RabbitMQ brokers.</p>
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-amazonmq-broker-encryptionoptions.html">EncryptionOptions</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-amazonmq-broker-enginetype"></a><span class="term"><code class="code">EngineType</code></span></dt>
                                       <dd>
                                          
                                          
                                          <p>The type of broker engine. Currently, Amazon MQ supports <code class="code">ACTIVEMQ</code> and <code class="code">RABBITMQ</code>.
                                          </p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-amazonmq-broker-engineversion"></a><span class="term"><code class="code">EngineVersion</code></span></dt>
                                       <dd>
                                          
                                          
                                          <p>The version of the broker engine. For a list of supported engine versions, see <a href="https://docs.aws.amazon.com/amazon-mq/latest/developer-guide/broker-engine.html">Engine</a> in the <em>Amazon MQ Developer Guide</em>. 
                                          </p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-amazonmq-broker-hostinstancetype"></a><span class="term"><code class="code">HostInstanceType</code></span></dt>
                                       <dd>
                                          
                                          
                                          <p>The broker&apos;s instance type.</p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-some-interrupt">Some interruptions</a></p>
                                       </dd>
                                       <dt><a id="cfn-amazonmq-broker-ldapservermetadata"></a><span class="term"><code class="code">LdapServerMetadata</code></span></dt>
                                       <dd>
                                          
                                          
                                          <p>Optional. The metadata of the LDAP server used to authenticate and authorize
                                             connections to the broker. Does not apply to RabbitMQ brokers.
                                          </p>
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-amazonmq-broker-ldapservermetadata.html">LdapServerMetadata</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-amazonmq-broker-logs"></a><span class="term"><code class="code">Logs</code></span></dt>
                                       <dd>
                                          
                                          
                                          <p>Enables Amazon CloudWatch logging for brokers.</p>
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-amazonmq-broker-loglist.html">LogList</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-amazonmq-broker-maintenancewindowstarttime"></a><span class="term"><code class="code">MaintenanceWindowStartTime</code></span></dt>
                                       <dd>
                                          
                                          
                                          <p>The scheduled time period relative to UTC during which Amazon MQ begins to apply pending
                                             updates or patches to the broker.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-amazonmq-broker-maintenancewindow.html">MaintenanceWindow</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-amazonmq-broker-publiclyaccessible"></a><span class="term"><code class="code">PubliclyAccessible</code></span></dt>
                                       <dd>
                                          
                                          
                                          <p>Enables connections from applications outside of the VPC that hosts the broker&apos;s
                                             subnets.
                                          </p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: Boolean
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-amazonmq-broker-securitygroups"></a><span class="term"><code class="code">SecurityGroups</code></span></dt>
                                       <dd>
                                          
                                          
                                          <p>The list of rules (1 minimum, 125 maximum) that authorize connections to
                                             brokers.
                                          </p>
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-amazonmq-broker-storagetype"></a><span class="term"><code class="code">StorageType</code></span></dt>
                                       <dd>
                                          
                                          
                                          <p>The broker&apos;s storage type.</p>
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-amazonmq-broker-subnetids"></a><span class="term"><code class="code">SubnetIds</code></span></dt>
                                       <dd>
                                          
                                          
                                          <p>The list of groups that define which subnets and IP ranges the broker can use from
                                             different Availability Zones.
                                             If you specify more than one subnet, the subnets must be in different Availability
                                             Zones. Amazon MQ will not be able to create
                                             VPC endpoints for your broker with multiple subnets in the same Availability Zone.
                                             A SINGLE_INSTANCE deployment requires one subnet (for example, the default subnet).
                                             An ACTIVE_STANDBY_MULTI_AZ deployment (ACTIVEMQ) requires two subnets. A CLUSTER_MULTI_AZ
                                             deployment (RABBITMQ)
                                             has no subnet requirements when deployed with public accessibility, deployment without
                                             public accessibility requires at least one subnet.
                                          </p>
                                          
                                          <div class="awsdocs-note awsdocs-important">
                                             <div class="awsdocs-note-title">
                                                <awsui-icon name="status-warning" variant="error"></awsui-icon><span>Important</span></div>
                                             <div class="awsdocs-note-text">
                                                <p>
                                                   If you specify subnets in a shared VPC for a RabbitMQ broker, the associated VPC to
                                                   which the specified subnets
                                                   belong must be owned by your AWS account. Amazon MQ will not be able to create VPC
                                                   enpoints in VPCs that are not owned by
                                                   your AWS account. 
                                                   
                                                </p>
                                             </div>
                                          </div>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-amazonmq-broker-tags"></a><span class="term"><code class="code">Tags</code></span></dt>
                                       <dd>
                                          
                                          
                                          <p>An array of key-value pairs. For more information, see <a href="https://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/cost-alloc-tags.html">Using Cost Allocation Tags</a> in the <em>AWS Billing and Cost Management User Guide</em>.
                                             
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of <a href="./aws-properties-amazonmq-broker-tagsentry.html">TagsEntry</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-amazonmq-broker-users"></a><span class="term"><code class="code">Users</code></span></dt>
                                       <dd>
                                          
                                          
                                          <p>The list of ActiveMQ users (persons or applications) who can access queues and topics.
                                             For RabbitMQ brokers, one and only one administrative user is accepted and created
                                             when a broker is first provisioned.
                                             All subsequent RabbitMQ users are created by via the RabbitMQ web console or by using
                                             the RabbitMQ management API.
                                             This value can contain only alphanumeric characters, dashes, periods, underscores,
                                             and tildes
                                             (- . _ ~). This value must be 2-100 characters long.
                                          </p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: List of <a href="./aws-properties-amazonmq-broker-user.html">User</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                    </dl>
                                 </div>
                                 <h2 id="aws-resource-amazonmq-broker-return-values">Return values</h2>
                                 <h3 id="aws-resource-amazonmq-broker-return-values-ref">Ref</h3>
                                 <p>
                                    When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the Amazon MQ broker ID. For example: 
                                 </p>
                                 <p>
                                    <code class="code">b-1234a5b6-78cd-901e-2fgh-3i45j6k178l9</code>
                                    
                                 </p>
                                 <p>For more information about using the <code class="code">Ref</code> function, see <a href="intrinsic-function-reference-ref.html">Ref</a>.
                                 </p>
                                 <h3 id="aws-resource-amazonmq-broker-return-values-fn--getatt">Fn::GetAtt</h3>
                                 <p>The <code class="code">Fn::GetAtt</code> intrinsic function returns a value for a specified attribute of this type. The following
                                    are the available attributes and sample return values.
                                 </p> 
                                 
                                 <p>For more information about using the <code class="code">Fn::GetAtt</code> intrinsic function, see <a href="intrinsic-function-reference-getatt.html">Fn::GetAtt</a>.
                                 </p>
                                 <h4 id="aws-resource-amazonmq-broker-return-values-fn--getatt-fn--getatt"></h4>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="AmqpEndpoints-fn::getatt"></a><span class="term"><code class="code">AmqpEndpoints</code></span></dt>
                                       <dd>
                                          
                                          <p>The AMQP endpoints of each broker instance as a list of strings.</p>
                                          
                                          <p>
                                             <code class="code">amqp+ssl://b-4aada85d-a80c-4be0-9d30-e344a01b921e-1.mq.eu-central-amazonaws.com:5671</code>
                                             
                                          </p>
                                          
                                       </dd>
                                       <dt><a id="Arn-fn::getatt"></a><span class="term"><code class="code">Arn</code></span></dt>
                                       <dd>
                                          
                                          <p>The Amazon Resource Name (ARN) of the Amazon MQ broker.</p>
                                          
                                          <p>
                                             <code class="code">arn:aws:mq:us-east-2:123456789012:broker:MyBroker:b-1234a5b6-78cd-901e-2fgh-3i45j6k178l9</code>
                                             
                                          </p>
                                          
                                       </dd>
                                       <dt><a id="ConfigurationId-fn::getatt"></a><span class="term"><code class="code">ConfigurationId</code></span></dt>
                                       <dd>
                                          
                                          <p>The unique ID that Amazon MQ generates for the configuration.</p>
                                          
                                          <p>
                                             <code class="code">c-1234a5b6-78cd-901e-2fgh-3i45j6k178l9</code>
                                             
                                          </p>
                                          
                                       </dd>
                                       <dt><a id="ConfigurationRevision-fn::getatt"></a><span class="term"><code class="code">ConfigurationRevision</code></span></dt>
                                       <dd>
                                          
                                          <p>The revision number of the configuration.</p>
                                          
                                          <p>
                                             <code class="code">1</code>
                                             
                                          </p>
                                          
                                       </dd>
                                       <dt><a id="IpAddresses-fn::getatt"></a><span class="term"><code class="code">IpAddresses</code></span></dt>
                                       <dd>
                                          
                                          <p>The IP addresses of each broker instance as a list of strings. Does not apply to RabbitMQ
                                             brokers.
                                          </p>
                                          
                                          <p>
                                             <code class="code">[&apos;198.51.100.2&apos;, &apos;203.0.113.9&apos;]</code>
                                             
                                          </p>
                                          
                                       </dd>
                                       <dt><a id="MqttEndpoints-fn::getatt"></a><span class="term"><code class="code">MqttEndpoints</code></span></dt>
                                       <dd>
                                          
                                          <p>The MQTT endpoints of each broker instance as a list of strings.</p>
                                          
                                          <p>
                                             <code class="code">mqtt+ssl://b-4aada85d-a80c-4be0-9d30-e344a01b921e-1.mq.eu-central-amazonaws.com:8883</code>
                                             
                                          </p>
                                          
                                       </dd>
                                       <dt><a id="OpenWireEndpoints-fn::getatt"></a><span class="term"><code class="code">OpenWireEndpoints</code></span></dt>
                                       <dd>
                                          
                                          <p>The OpenWire endpoints of each broker instance as a list of strings.</p>
                                          
                                          <p>
                                             <code class="code">ssl://b-4aada85d-a80c-4be0-9d30-e344a01b921e-1.mq.eu-central-amazonaws.com:61617</code>
                                             
                                          </p>
                                          
                                       </dd>
                                       <dt><a id="StompEndpoints-fn::getatt"></a><span class="term"><code class="code">StompEndpoints</code></span></dt>
                                       <dd>
                                          
                                          <p>The STOMP endpoints of each broker instance as a list of strings.</p>
                                          
                                          <p>
                                             <code class="code">stomp+ssl://b-4aada85d-a80c-4be0-9d30-e344a01b921e-1.mq.eu-central-amazonaws.com:61614</code>
                                             
                                          </p>
                                          
                                       </dd>
                                       <dt><a id="WssEndpoints-fn::getatt"></a><span class="term"><code class="code">WssEndpoints</code></span></dt>
                                       <dd>
                                          
                                          <p>The WSS endpoints of each broker instance as a list of strings.</p>
                                          
                                          <p>
                                             <code class="code">wss://b-4aada85d-a80c-4be0-9d30-e344a01b921e-1.mq.eu-central-amazonaws.com:61619</code>
                                             
                                          </p>
                                          
                                       </dd>
                                    </dl>
                                 </div>
                                 <h2 id="aws-resource-amazonmq-broker--examples">Examples</h2>
                                 <h3 id="aws-resource-amazonmq-broker--examples--Basic_Amazon_MQ_Broker">Basic Amazon MQ Broker</h3>
                                 <p>The following examples creates a basic Amazon MQ broker. The RabbitMQ example creates
                                    a broker with one administrative user,
                                    while the ActiveMQ example creates a broker with one user that belongs to a group.
                                 </p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-resource-amazonmq-broker--examples--Basic_Amazon_MQ_Broker--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;Description&quot;: &quot;Create a basic Amazon MQ for ActiveMQ broker&quot;,
  &quot;Resources&quot;: <span>{</span>
    &quot;BasicBroker&quot;: <span>{</span>
      &quot;Type&quot;: &quot;AWS::AmazonMQ::Broker&quot;,
      &quot;Properties&quot;: <span>{</span>
        &quot;AutoMinorVersionUpgrade&quot;: &quot;false&quot;,
        &quot;BrokerName&quot;: &quot;MyBasicActiveBroker&quot;,
        &quot;DeploymentMode&quot;: &quot;SINGLE_INSTANCE&quot;,
        &quot;EngineType&quot;: &quot;ActiveMQ&quot;,
        &quot;EngineVersion&quot;: &quot;5.15.0&quot;,
        &quot;HostInstanceType&quot;: &quot;mq.t2.micro&quot;,
        &quot;PubliclyAccessible&quot;: &quot;true&quot;,
        &quot;Users&quot;: [
          <span>{</span>
            &quot;ConsoleAccess&quot;: &quot;true&quot;,
            &quot;Groups&quot;: [
              &quot;MyGroup&quot;
            ],
            &quot;Password&quot; : &quot;AmazonMqPassword&quot;,
            &quot;Username&quot; : &quot;AmazonMqUsername&quot;
          }
        ]
      }
    }
  }
}</code></pre></div>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-resource-amazonmq-broker--examples--Basic_Amazon_MQ_Broker--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
&quot;Description&quot;: &quot;Create a basic Amazon MQ for RabbitMQ broker&quot;,
&quot;Resources&quot;: <span>{</span>
  &quot;BasicBroker&quot;: <span>{</span>
    &quot;Type&quot;: &quot;AWS::AmazonMQ::Broker&quot;,
    &quot;Properties&quot;: <span>{</span>
      &quot;AutoMinorVersionUpgrade&quot;: &quot;false&quot;,
      &quot;BrokerName&quot;: &quot;MyBasicRabbitBroker&quot;,
      &quot;DeploymentMode&quot;: &quot;SINGLE_INSTANCE&quot;,
      &quot;EngineType&quot;: &quot;RabbitMQ&quot;,
      &quot;EngineVersion&quot;: &quot;3.8.6&quot;,
      &quot;HostInstanceType&quot;: &quot;mq.t3.micro&quot;,
      &quot;PubliclyAccessible&quot;: &quot;true&quot;,
      &quot;Users&quot;: [
          <span>{</span>
            &quot;Password&quot; : &quot;AmazonMqPassword&quot;,
            &quot;Username&quot; : &quot;AmazonMqUsername&quot;
          }
        ]
      }
    }
  }
}</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-resource-amazonmq-broker--examples--Basic_Amazon_MQ_Broker--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">--- 
Description: &quot;Create a basic Amazon MQ for ActiveMQ broker&quot;
Resources: 
  BasicBroker:
    Type: &quot;AWS::AmazonMQ::Broker&quot;
    Properties: 
      AutoMinorVersionUpgrade: &quot;false&quot;
      BrokerName: MyBasicActiveBroker
      DeploymentMode: SINGLE_INSTANCE
      EngineType: ActiveMQ
      EngineVersion: &quot;5.15.0&quot;
      HostInstanceType: mq.t2.micro
      PubliclyAccessible: &quot;true&quot;
      Users: 
        - 
          ConsoleAccess: &quot;true&quot;
          Groups: 
            - MyGroup
          Password: AmazonMqPassword           
          Username: AmazonMqUsername</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-resource-amazonmq-broker--examples--Basic_Amazon_MQ_Broker--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">--- 
Description: &quot;Create a basic Amazon MQ for RabbitMQ broker&quot;
Resources: 
  BasicBroker:
    Type: &quot;AWS::AmazonMQ::Broker&quot;
    Properties: 
      AutoMinorVersionUpgrade: &quot;false&quot;
      BrokerName: MyBasicRabbitBroker
      DeploymentMode: SINGLE_INSTANCE
      EngineType: RabbitMQ
      EngineVersion: &quot;3.8.6&quot;
      HostInstanceType: mq.t3.micro
      PubliclyAccessible: &quot;true&quot;
      Users: 
        - 
          Password: AmazonMqPassword            
          Username: AmazonMqUsername</code></pre></div>
                                 <h3 id="aws-resource-amazonmq-broker--examples--Complex_Amazon_MQ_Broker">Complex Amazon MQ Broker</h3>
                                 <p>The following example creates a complex Amazon MQ broker. The ActiveMQ example
                                    creates a broker with two users that don&apos;t belong to a group and one user that belongs
                                    in a group.
                                    The RabbitMQ example creates one administrator user, which can then create and manage
                                    other
                                    users via the RabbitMQ web console or the management API.
                                 </p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-resource-amazonmq-broker--examples--Complex_Amazon_MQ_Broker--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;Description&quot;: &quot;Create a complex, single-instance Amazon MQ for ActiveMQ broker&quot;,
  &quot;Resources&quot;: <span>{</span>
    &quot;ComplexBroker&quot;: <span>{</span>
      &quot;Type&quot;: &quot;AWS::AmazonMQ::Broker&quot;,
      &quot;Properties&quot;: <span>{</span>
        &quot;AutoMinorVersionUpgrade&quot;: &quot;false&quot;,
        &quot;BrokerName&quot;: &quot;MyComplexActiveBroker&quot;,
        &quot;Configuration&quot;: <span>{</span>
          &quot;Id&quot;: <span>{</span> &quot;Ref&quot;: &quot;Configuration1&quot; },
          &quot;Revision&quot; : <span>{</span> &quot;Fn::GetAtt&quot;: [&quot;Configuration1&quot;, &quot;Revision&quot;] }
        },
        &quot;DeploymentMode&quot;: &quot;SINGLE_INSTANCE&quot;,
        &quot;EngineType&quot;: &quot;ActiveMQ&quot;,
        &quot;EngineVersion&quot;: &quot;5.15.0&quot;,
        &quot;HostInstanceType&quot;: &quot;mq.t2.micro&quot;,
        &quot;Logs&quot;: <span>{</span>
            &quot;General&quot;: true,
            &quot;Audit&quot;: false
        },
        &quot;MaintenanceWindowStartTime&quot;: <span>{</span>
          &quot;DayOfWeek&quot;: &quot;Monday&quot;,
          &quot;TimeOfDay&quot;: &quot;22:45&quot;,
          &quot;TimeZone&quot;: &quot;America/Los_Angeles&quot;
        },
        &quot;PubliclyAccessible&quot;: &quot;true&quot;,
        &quot;SecurityGroups&quot;: [
          &quot;sg-a1b234cd&quot;,
          &quot;sg-e5f678gh&quot;
        ],
        &quot;SubnetIds&quot;: [
          &quot;subnet-12a3b45c&quot;,
          &quot;subnet-67d8e90f&quot;
        ],         
        &quot;Users&quot;: [<span>{</span>
          &quot;ConsoleAccess&quot;: &quot;true&quot;,
          &quot;Password&quot; : &quot;AmazonMqPassword&quot;,
          &quot;Username&quot; : &quot;AmazonMqUsername&quot;
        }, <span>{</span>
          &quot;Password&quot; : &quot;AmazonMqPassword2&quot;,
          &quot;Username&quot; : &quot;AmazonMqUsername2&quot;
        }, <span>{</span>
          &quot;Groups&quot;: [
            &quot;MyGroup1&quot;,
            &quot;MyGroup2&quot;
          ],
          &quot;Password&quot; : &quot;AmazonMqPassword3&quot;,          
          &quot;Username&quot; : &quot;AmazonMqUsername3&quot; 
        }]
      }
    }
  }
}</code></pre></div>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-resource-amazonmq-broker--examples--Complex_Amazon_MQ_Broker--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;Description&quot;: &quot;Create a complex, single-instance Amazon MQ RabbitMQ broker without public accessibility&quot;,
  &quot;Resources&quot;: <span>{</span>
    &quot;ComplexBroker&quot;: <span>{</span>
      &quot;Type&quot;: &quot;AWS::AmazonMQ::Broker&quot;,
      &quot;Properties&quot;: <span>{</span>
        &quot;AutoMinorVersionUpgrade&quot;: &quot;true&quot;,
        &quot;BrokerName&quot;: &quot;MyComplexRabbitBroker&quot;,
        &quot;DeploymentMode&quot;: &quot;SINGLE_INSTANCE&quot;,
        &quot;EngineType&quot;: &quot;RabbitMQ&quot;,
        &quot;EngineVersion&quot;: &quot;3.8.6&quot;,
        &quot;HostInstanceType&quot;: &quot;mq.t3.micro&quot;,
        &quot;Logs&quot;: <span>{</span>
          &quot;General&quot;: true
        },
        &quot;MaintenanceWindowStartTime&quot;: <span>{</span>
          &quot;DayOfWeek&quot;: &quot;Monday&quot;,
          &quot;TimeOfDay&quot;: &quot;22:45&quot;,
          &quot;TimeZone&quot;: &quot;America/Los_Angeles&quot;
        },
        &quot;PubliclyAccessible&quot;: &quot;false&quot;,
        &quot;SecurityGroups&quot;: [
          &quot;sg-1a234b5cd6efgh7i8&quot;
        ],
        &quot;SubnetIds&quot;: [
          &quot;subnet-123456b7891abcd1f&quot;
        ],
        &quot;Users&quot;: [
          <span>{</span>
            &quot;Password&quot; : &quot;AmazonMqPassword&quot;,
            &quot;Username&quot; : &quot;AmazonMqUsername&quot;
          }
        ]
      }
    }   
  }
}</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-resource-amazonmq-broker--examples--Complex_Amazon_MQ_Broker--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Description: Create a complex, single-instance Amazon MQ for ActiveMQ broker
Resources:
  ComplexBroker:
    Type: &apos;AWS::AmazonMQ::Broker&apos;
    Properties:
      AutoMinorVersionUpgrade: &apos;false&apos;
      BrokerName: MyComplexActiveBroker
      Configuration:
        Id: !Ref Configuration1
        Revision: !GetAtt 
          - Configuration1
          - Revision
      DeploymentMode: SINGLE_INSTANCE
      EngineType: ActiveMQ
      EngineVersion: 5.15.0
      HostInstanceType: mq.t2.micro
      Logs:
        General: true
        Audit: false
      MaintenanceWindowStartTime:
        DayOfWeek: Monday
        TimeOfDay: &apos;22:45&apos;
        TimeZone: America/Los_Angeles
      PubliclyAccessible: &apos;true&apos;
      SecurityGroups:
        - sg-a1b234cd
        - sg-e5f678gh
      SubnetIds:
        - subnet-12a3b45c
        - subnet-67d8e90f
      Users:
        - ConsoleAccess: &apos;true&apos;
          Password: AmazonMqPassword
          Username: AmazonMqUsername
        - Password: AmazonMqPassword2
          Username: AmazonMqUsername2
        - Groups:
            - MyGroup1
            - MyGroup2
          Password: AmazonMqPassword3
          Username: AmazonMqUsername3
</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-resource-amazonmq-broker--examples--Complex_Amazon_MQ_Broker--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Description: Create a single-instance Amazon MQ for RabbitMQ broker without public accessibility
Resources:
  ComplexBroker:
    Type: &apos;AWS::AmazonMQ::Broker&apos;
    Properties:
      AutoMinorVersionUpgrade: false
      BrokerName: MyComplexRabbitBroker
      DeploymentMode: SINGLE_INSTANCE
      EngineType: RabbitMQ
      EngineVersion: 3.8.6
      HostInstanceType: mq.t3.micro
      Logs:
        General: true
      MaintenanceWindowStartTime:
        DayOfWeek: Monday
        TimeOfDay: &apos;22:45&apos;
        TimeZone: America/Los_Angeles
      PubliclyAccessible: false
      SecurityGroups:
        - &apos;sg-1a234b5cd6efgh7i8&apos;
      SubnetIds:
        - &apos;subnet-123456b7891abcd1f&apos;
      Users:
        - Password: AmazonMqPassword
          Username: AmazonMqUsername
      </code></pre></div>
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                                 <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning"> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the Amazon Web Services Documentation, Javascript must be
                                                enabled. Please refer to your browser&apos;s Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div></div>
</body>
</html>