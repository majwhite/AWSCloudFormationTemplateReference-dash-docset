<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="aws-resource-iam-policy">AWS::IAM::Policy</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>Adds or updates an inline policy document that is embedded in the specified IAM user,
                                    group, or role.
                                 </p>
                                 <p>An IAM user can also have a managed policy attached to it. For information about
                                    policies, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/policies-managed-vs-inline.html">Managed Policies and Inline
                                       Policies</a> in the <em>IAM User Guide</em>.
                                 </p>
                                 <p>The Groups, Roles, and Users properties are optional. However, you must specify at
                                    least
                                    one of these properties.
                                 </p>
                                 <p>For information about limits on the number of inline policies that you can embed in
                                    an
                                    identity, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/LimitationsOnEntities.html">Limitations on IAM
                                       Entities</a> in the <em>IAM User Guide</em>.
                                 </p>
                                 <h2 id="aws-resource-iam-policy-syntax">Syntax</h2>
                                 <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h3 id="aws-resource-iam-policy-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;Type&quot; : &quot;AWS::IAM::Policy&quot;,
  &quot;Properties&quot; : <span>{</span>
      &quot;<a href="#cfn-iam-policy-groups">Groups</a>&quot; : <code class="replaceable">[ String, ... ]</code>,
      &quot;<a href="#cfn-iam-policy-policydocument">PolicyDocument</a>&quot; : <code class="replaceable">Json</code>,
      &quot;<a href="#cfn-iam-policy-policyname">PolicyName</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-iam-policy-roles">Roles</a>&quot; : <code class="replaceable">[ String, ... ]</code>,
      &quot;<a href="#cfn-iam-policy-users">Users</a>&quot; : <code class="replaceable">[ String, ... ]</code>
    }
}
</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h3 id="aws-resource-iam-policy-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::IAM::Policy
Properties: 
  <a href="#cfn-iam-policy-groups">Groups</a>: <code class="replaceable">
    - String</code>
  <a href="#cfn-iam-policy-policydocument">PolicyDocument</a>: <code class="replaceable">Json</code>
  <a href="#cfn-iam-policy-policyname">PolicyName</a>: <code class="replaceable">String</code>
  <a href="#cfn-iam-policy-roles">Roles</a>: <code class="replaceable">
    - String</code>
  <a href="#cfn-iam-policy-users">Users</a>: <code class="replaceable">
    - String</code>
</code></pre></div>
                                 <h2 id="aws-resource-iam-policy-properties">Properties</h2>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="cfn-iam-policy-groups"></a><span class="term"><code class="code">Groups</code></span></dt>
                                       <dd>
                                          
                                          <p>The name of the group to associate the policy with.</p>
                                          
                                          <p>This parameter allows (through its <a href="http://wikipedia.org/wiki/regex" target="_blank"><span>regex pattern</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>) a string of characters consisting of upper and lowercase alphanumeric 
                                             characters with no spaces. You can also include any of the following characters: _+=,.@-.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of String
                                          </p>
                                          <p><em>Minimum</em>: <code class="code">1</code></p>
                                          <p><em>Maximum</em>: <code class="code">128</code></p>
                                          <p><em>Pattern</em>: <code class="code">[\w+=,.@-]+</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-iam-policy-policydocument"></a><span class="term"><code class="code">PolicyDocument</code></span></dt>
                                       <dd>
                                          
                                          <p>The policy document.</p>
                                          
                                          <p>You must provide policies in JSON format in IAM. However, for AWS CloudFormation
                                             templates formatted in YAML, you can provide the policy in JSON or YAML format. AWS
                                             CloudFormation always converts a YAML policy to JSON format before submitting it to
                                             IAM.
                                          </p> 
                                          
                                          <p>The <a href="http://wikipedia.org/wiki/regex" target="_blank"><span>regex pattern</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> 
                                             used to validate this parameter is a string of characters consisting of the following:
                                          </p>
                                          
                                          <div class="itemizedlist">
                                              
                                              
                                              
                                             
                                             <ul class="itemizedlist" type="disc">
                                                <li class="listitem">
                                                   
                                                   <p>Any printable ASCII 
                                                      character ranging from the space character (<code class="code">\u0020</code>) through the end of the ASCII character range
                                                   </p>
                                                   
                                                </li>
                                                <li class="listitem">
                                                   
                                                   <p>The printable characters in the Basic Latin and  Latin-1 Supplement character set
                                                      
                                                      (through <code class="code">\u00FF</code>)
                                                   </p>
                                                   
                                                </li>
                                                <li class="listitem">
                                                   
                                                   <p>The special characters tab (<code class="code">\u0009</code>), line feed (<code class="code">\u000A</code>), and 
                                                      carriage return (<code class="code">\u000D</code>)
                                                   </p>
                                                   
                                                </li>
                                             </ul>
                                          </div> 
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: Json
                                          </p>
                                          <p><em>Minimum</em>: <code class="code">1</code></p>
                                          <p><em>Maximum</em>: <code class="code">131072</code></p>
                                          <p><em>Pattern</em>: <code class="code">[\u0009\u000A\u000D\u0020-\u00FF]+</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-iam-policy-policyname"></a><span class="term"><code class="code">PolicyName</code></span></dt>
                                       <dd>
                                          
                                          <p>The name of the policy document.</p>
                                          
                                          <p>This parameter allows (through its <a href="http://wikipedia.org/wiki/regex" target="_blank"><span>regex pattern</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>) a string of characters consisting of upper and lowercase alphanumeric 
                                             characters with no spaces. You can also include any of the following characters: _+=,.@-
                                          </p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Minimum</em>: <code class="code">1</code></p>
                                          <p><em>Maximum</em>: <code class="code">128</code></p>
                                          <p><em>Pattern</em>: <code class="code">[\w+=,.@-]+</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-iam-policy-roles"></a><span class="term"><code class="code">Roles</code></span></dt>
                                       <dd>
                                          
                                          <p>The name of the role to associate the policy with.</p>
                                          
                                          <p>This parameter allows (per its <a href="http://wikipedia.org/wiki/regex" target="_blank"><span>regex
                                                   pattern</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>) a string of characters consisting of upper and lowercase alphanumeric
                                             characters with no spaces. You can also include any of the following characters:
                                             _+=,.@-
                                          </p>
                                          
                                          <div class="awsdocs-note">
                                             <div class="awsdocs-note-title">
                                                <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                             <div class="awsdocs-note-text">
                                                <p>If an external policy (such as <code class="code">AWS::IAM::Policy</code> or
                                                   <code class="code">AWS::IAM::ManagedPolicy</code>) has a <code class="code">Ref</code> to a role and if a
                                                   resource (such as <code class="code">AWS::ECS::Service</code>) also has a <code class="code">Ref</code> to the
                                                   same role, add a <code class="code">DependsOn</code> attribute to the resource to make the resource
                                                   depend on the external policy. This dependency ensures that the role&apos;s policy is
                                                   available throughout the resource&apos;s lifecycle. For example, when you delete a stack
                                                   with
                                                   an <code class="code">AWS::ECS::Service</code> resource, the <code class="code">DependsOn</code> attribute ensures
                                                   that AWS CloudFormation deletes the <code class="code">AWS::ECS::Service</code> resource before
                                                   deleting its role&apos;s policy.
                                                </p>
                                             </div>
                                          </div>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-iam-policy-users"></a><span class="term"><code class="code">Users</code></span></dt>
                                       <dd>
                                          
                                          <p>The name of the user to associate the policy with.</p>
                                          
                                          <p>This parameter allows (through its <a href="http://wikipedia.org/wiki/regex" target="_blank"><span>regex pattern</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>) a string of characters consisting of upper and lowercase alphanumeric 
                                             characters with no spaces. You can also include any of the following characters: _+=,.@-
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of String
                                          </p>
                                          <p><em>Minimum</em>: <code class="code">1</code></p>
                                          <p><em>Maximum</em>: <code class="code">128</code></p>
                                          <p><em>Pattern</em>: <code class="code">[\w+=,.@-]+</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                    </dl>
                                 </div>
                                 <h2 id="aws-resource-iam-policy-return-values">Return Values</h2>
                                 <h3 id="aws-resource-iam-policy-return-values-ref">Ref</h3>
                                 <p>When the logical ID of this resource is provided to the <code class="code">Ref</code> intrinsic function, <code class="code">Ref</code> returns the resource name.
                                 </p>
                                 <p>For more information about using the <code class="code">Ref</code> function, see <a href="intrinsic-function-reference-ref.html">Ref</a>.
                                 </p>
                                 <h2 id="aws-resource-iam-policy--examples">Examples</h2>
                                 <h3 id="aws-resource-iam-policy--examples--IAM_Policy_with_policy_group">IAM Policy with policy group</h3>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-resource-iam-policy--examples--IAM_Policy_with_policy_group--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    &quot;Type&quot;: &quot;AWS::IAM::Policy&quot;,
    &quot;Properties&quot;: <span>{</span>
        &quot;PolicyName&quot;: &quot;CFNUsers&quot;,
        &quot;PolicyDocument&quot;: <span>{</span>
            &quot;Version&quot;: &quot;2012-10-17&quot;,
            &quot;Statement&quot;: [
                <span>{</span>
                    &quot;Effect&quot;: &quot;Allow&quot;,
                    &quot;Action&quot;: [
                        &quot;cloudformation:Describe*&quot;,
                        &quot;cloudformation:List*&quot;,
                        &quot;cloudformation:Get*&quot;
                    ],
                    &quot;Resource&quot;: &quot;*&quot;
                }
            ]
        },
        &quot;Groups&quot;: [
            <span>{</span>
                &quot;Ref&quot;: &quot;CFNUserGroup&quot;
            }
        ]
    }
}</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-resource-iam-policy--examples--IAM_Policy_with_policy_group--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: &apos;AWS::IAM::Policy&apos;
Properties:
  PolicyName: CFNUsers
  PolicyDocument:
    Version: 2012-10-17
    Statement:
      - Effect: Allow
        Action:
          - &apos;cloudformation:Describe*&apos;
          - &apos;cloudformation:List*&apos;
          - &apos;cloudformation:Get*&apos;
        Resource: &apos;*&apos;
  Groups:
    - !Ref CFNUserGroup</code></pre></div>
                                 <h3 id="aws-resource-iam-policy--examples--IAM_Policy_with_specified_role">IAM Policy with specified role</h3>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-resource-iam-policy--examples--IAM_Policy_with_specified_role--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    &quot;Type&quot;: &quot;AWS::IAM::Policy&quot;,
    &quot;Properties&quot;: <span>{</span>
        &quot;PolicyName&quot;: &quot;root&quot;,
        &quot;PolicyDocument&quot;: <span>{</span>
            &quot;Version&quot;: &quot;2012-10-17&quot;,
            &quot;Statement&quot;: [
                <span>{</span>
                    &quot;Effect&quot;: &quot;Allow&quot;,
                    &quot;Action&quot;: &quot;*&quot;,
                    &quot;Resource&quot;: &quot;*&quot;
                }
            ]
        },
        &quot;Roles&quot;: [
            <span>{</span>
                &quot;Ref&quot;: &quot;RootRole&quot;
            }
        ]
    }
}</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-resource-iam-policy--examples--IAM_Policy_with_specified_role--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: &apos;AWS::IAM::Policy&apos;
Properties:
  PolicyName: root
  PolicyDocument:
    Version: 2012-10-17
    Statement:
      - Effect: Allow
        Action: &apos;*&apos;
        Resource: &apos;*&apos;
  Roles:
    - !Ref RootRole</code></pre></div>
                                 <h2 id="aws-resource-iam-policy--seealso">See Also</h2>
                                 <div class="itemizedlist">
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p>
                                             <a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_CreatePolicy.html">CreatePolicy</a> in the <em>AWS Identity and Access Management API
                                                Reference</em>
                                             
                                          </p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning"> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the AWS Documentation, Javascript must be
                                                enabled. Please refer to your browser&apos;s Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div></div>
</body>
</html>