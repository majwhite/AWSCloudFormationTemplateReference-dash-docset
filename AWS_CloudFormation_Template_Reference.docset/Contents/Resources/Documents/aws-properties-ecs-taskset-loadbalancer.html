<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="aws-properties-ecs-taskset-loadbalancer">AWS::ECS::TaskSet LoadBalancer</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>Details on the load balancer or load balancers to use with a task set.</p>
                                 <h2 id="aws-properties-ecs-taskset-loadbalancer-syntax">Syntax</h2>
                                 <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h3 id="aws-properties-ecs-taskset-loadbalancer-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;<a href="#cfn-ecs-taskset-loadbalancer-containername">ContainerName</a>&quot; : <code class="replaceable">String</code>,
  &quot;<a href="#cfn-ecs-taskset-loadbalancer-containerport">ContainerPort</a>&quot; : <code class="replaceable">Integer</code>,
  &quot;<a href="#cfn-ecs-taskset-loadbalancer-loadbalancername">LoadBalancerName</a>&quot; : <code class="replaceable">String</code>,
  &quot;<a href="#cfn-ecs-taskset-loadbalancer-targetgrouparn">TargetGroupArn</a>&quot; : <code class="replaceable">String</code>
}
</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h3 id="aws-properties-ecs-taskset-loadbalancer-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">  <a href="#cfn-ecs-taskset-loadbalancer-containername">ContainerName</a>: <code class="replaceable">String</code>
  <a href="#cfn-ecs-taskset-loadbalancer-containerport">ContainerPort</a>: <code class="replaceable">Integer</code>
  <a href="#cfn-ecs-taskset-loadbalancer-loadbalancername">LoadBalancerName</a>: <code class="replaceable">String</code>
  <a href="#cfn-ecs-taskset-loadbalancer-targetgrouparn">TargetGroupArn</a>: <code class="replaceable">String</code>
</code></pre></div>
                                 <h2 id="aws-properties-ecs-taskset-loadbalancer-properties">Properties</h2>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="cfn-ecs-taskset-loadbalancer-containername"></a><span class="term"><code class="code">ContainerName</code></span></dt>
                                       <dd>
                                          
                                          <p>The name of the container (as it appears in a container definition) to associate with
                                             the load balancer.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-ecs-taskset-loadbalancer-containerport"></a><span class="term"><code class="code">ContainerPort</code></span></dt>
                                       <dd>
                                          
                                          <p>The port on the container to associate with the load balancer. This port must
                                             correspond to a <code class="code">containerPort</code> in the task definition the tasks in the
                                             service are using. For tasks that use the EC2 launch type, the container
                                             instance they are launched on must allow ingress traffic on the <code class="code">hostPort</code> of
                                             the port mapping.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: Integer
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-ecs-taskset-loadbalancer-loadbalancername"></a><span class="term"><code class="code">LoadBalancerName</code></span></dt>
                                       <dd>
                                          
                                          <p>The name of the load balancer to associate with the Amazon ECS service or task set.</p>
                                          
                                          <p>A load balancer name is only specified when using a Classic Load Balancer. If you
                                             are using an Application Load Balancer
                                             or a Network Load Balancer the load balancer name parameter should be omitted.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-ecs-taskset-loadbalancer-targetgrouparn"></a><span class="term"><code class="code">TargetGroupArn</code></span></dt>
                                       <dd>
                                          
                                          <p>The full Amazon Resource Name (ARN) of the Elastic Load Balancing target group or
                                             groups associated with a service or
                                             task set.
                                          </p>
                                          
                                          <p>A target group ARN is only specified when using an Application Load Balancer or Network
                                             Load Balancer. If you are using a
                                             Classic Load Balancer the target group ARN should be omitted.
                                          </p>
                                          
                                          <p>For services using the <code class="code">ECS</code> deployment controller, you can specify one or
                                             multiple target groups. For more information, see <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/register-multiple-targetgroups.html">Registering Multiple Target Groups with a Service</a> in
                                             the <em>Amazon Elastic Container Service Developer Guide</em>.
                                          </p>
                                          
                                          <p>For services using the <code class="code">CODE_DEPLOY</code> deployment controller, you are
                                             required to define two target groups for the load balancer. For more information,
                                             see
                                             <a href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/deployment-type-bluegreen.html">Blue/Green Deployment with CodeDeploy</a> in the
                                             <em>Amazon Elastic Container Service Developer Guide</em>.
                                          </p>
                                          
                                          <div class="awsdocs-note">
                                             <div class="awsdocs-note-title">
                                                <awsui-icon name="status-warning" variant="error"></awsui-icon><span>Important</span></div>
                                             <div class="awsdocs-note-text">
                                                <p>If your service&apos;s task definition uses the <code class="code">awsvpc</code> network mode (which
                                                   is required for the Fargate launch type), you must choose
                                                   <code class="code">ip</code> as the target type, not <code class="code">instance</code>, when creating
                                                   your target groups because tasks that use the <code class="code">awsvpc</code> network mode are
                                                   associated with an elastic network interface, not an Amazon EC2 instance.
                                                </p>
                                             </div>
                                          </div>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                    </dl>
                                 </div>
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning"> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the AWS Documentation, Javascript must be
                                                enabled. Please refer to your browser&apos;s Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div></div>
</body>
</html>