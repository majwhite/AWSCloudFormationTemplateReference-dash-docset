<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="aws-resource-datasync-locationsmb">AWS::DataSync::LocationSMB</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>The <code class="code">AWS::DataSync::LocationSMB</code> resource specifies an SMB location.
                                 </p>
                                 <h2 id="aws-resource-datasync-locationsmb-syntax">Syntax</h2>
                                 <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h3 id="aws-resource-datasync-locationsmb-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;Type&quot; : &quot;AWS::DataSync::LocationSMB&quot;,
  &quot;Properties&quot; : <span>{</span>
      &quot;<a href="#cfn-datasync-locationsmb-agentarns">AgentArns</a>&quot; : <code class="replaceable">[ String, ... ]</code>,
      &quot;<a href="#cfn-datasync-locationsmb-domain">Domain</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-datasync-locationsmb-mountoptions">MountOptions</a>&quot; : <code class="replaceable"><a href="./aws-properties-datasync-locationsmb-mountoptions.html">MountOptions</a></code>,
      &quot;<a href="#cfn-datasync-locationsmb-password">Password</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-datasync-locationsmb-serverhostname">ServerHostname</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-datasync-locationsmb-subdirectory">Subdirectory</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-datasync-locationsmb-tags">Tags</a>&quot; : <code class="replaceable">[ <a href="aws-properties-resource-tags.html">Tag</a>, ... ]</code>,
      &quot;<a href="#cfn-datasync-locationsmb-user">User</a>&quot; : <code class="replaceable">String</code>
    }
}
</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h3 id="aws-resource-datasync-locationsmb-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::DataSync::LocationSMB
Properties: 
  <a href="#cfn-datasync-locationsmb-agentarns">AgentArns</a>: <code class="replaceable">
    - String</code>
  <a href="#cfn-datasync-locationsmb-domain">Domain</a>: <code class="replaceable">String</code>
  <a href="#cfn-datasync-locationsmb-mountoptions">MountOptions</a>: <code class="replaceable">
    <a href="./aws-properties-datasync-locationsmb-mountoptions.html">MountOptions</a></code>
  <a href="#cfn-datasync-locationsmb-password">Password</a>: <code class="replaceable">String</code>
  <a href="#cfn-datasync-locationsmb-serverhostname">ServerHostname</a>: <code class="replaceable">String</code>
  <a href="#cfn-datasync-locationsmb-subdirectory">Subdirectory</a>: <code class="replaceable">String</code>
  <a href="#cfn-datasync-locationsmb-tags">Tags</a>: <code class="replaceable">
    - <a href="aws-properties-resource-tags.html">Tag</a></code>
  <a href="#cfn-datasync-locationsmb-user">User</a>: <code class="replaceable">String</code>
</code></pre></div>
                                 <h2 id="aws-resource-datasync-locationsmb-properties">Properties</h2>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="cfn-datasync-locationsmb-agentarns"></a><span class="term"><code class="code">AgentArns</code></span></dt>
                                       <dd>
                                          
                                          <p>The Amazon Resource Names (ARNs) of agents to use for a Simple Message Block (SMB)
                                             location. 
                                          </p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: List of String
                                          </p>
                                          <p><em>Maximum</em>: <code class="code">4</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-datasync-locationsmb-domain"></a><span class="term"><code class="code">Domain</code></span></dt>
                                       <dd>
                                          
                                          <p>The name of the Windows domain that the SMB server belongs to.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Maximum</em>: <code class="code">253</code></p>
                                          <p><em>Pattern</em>: <code class="code">^([A-Za-z0-9]+[A-Za-z0-9-.]*)*[A-Za-z0-9-]*[A-Za-z0-9]$</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-datasync-locationsmb-mountoptions"></a><span class="term"><code class="code">MountOptions</code></span></dt>
                                       <dd>
                                          
                                          <p>The mount options used by DataSync to access the SMB server.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-datasync-locationsmb-mountoptions.html">MountOptions</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-datasync-locationsmb-password"></a><span class="term"><code class="code">Password</code></span></dt>
                                       <dd>
                                          
                                          <p>The password of the user who can mount the share, has the permissions to access files
                                             and
                                             folders in the SMB share.
                                          </p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Maximum</em>: <code class="code">104</code></p>
                                          <p><em>Pattern</em>: <code class="code">^.<span>{</span>0,104}$</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-datasync-locationsmb-serverhostname"></a><span class="term"><code class="code">ServerHostname</code></span></dt>
                                       <dd>
                                          
                                          <p>The name of the SMB server. This value is the IP address or Domain Name Service (DNS)
                                             name
                                             of the SMB server. An agent that is installed on-premises uses this hostname to mount
                                             the SMB
                                             server in a network.
                                          </p>
                                          
                                          <div class="awsdocs-note">
                                             <div class="awsdocs-note-title">
                                                <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                             <div class="awsdocs-note-text">
                                                <p>This name must either be DNS-compliant or must be an IP version 4 (IPv4) address.</p>
                                             </div>
                                          </div>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Maximum</em>: <code class="code">255</code></p>
                                          <p><em>Pattern</em>: <code class="code">^(([a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9\-]*[A-Za-z0-9])$</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-datasync-locationsmb-subdirectory"></a><span class="term"><code class="code">Subdirectory</code></span></dt>
                                       <dd>
                                          
                                          <p>The subdirectory in the SMB file system that is used to read data from the SMB source
                                             location or write data to the SMB destination. The SMB path should be a path that&apos;s
                                             exported by the SMB server, or a subdirectory of that path. The path should be such
                                             that it
                                             can be mounted by other SMB clients in your network.
                                          </p>
                                          
                                          <div class="awsdocs-note">
                                             <div class="awsdocs-note-title">
                                                <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                             <div class="awsdocs-note-text">
                                                <p>
                                                   <code class="code">Subdirectory</code> must be specified with forward slashes. For example,
                                                   <code class="code">/path/to/folder</code>.
                                                </p>
                                             </div>
                                          </div>
                                          
                                          
                                          <p>To transfer all the data in the folder you specified, DataSync needs to have permissions
                                             to mount the SMB share, as well as to access all the data in that share. To ensure
                                             this,
                                             either ensure that the user/password specified belongs to the user who can mount the
                                             share,
                                             and who has the appropriate permissions for all of the files and directories that
                                             you want
                                             DataSync to access, or use credentials of a member of the Backup Operators group to
                                             mount
                                             the share. Doing either enables the agent to access the data. For the agent to access
                                             directories, you must additionally enable all execute access.
                                          </p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Maximum</em>: <code class="code">4096</code></p>
                                          <p><em>Pattern</em>: <code class="code">^[a-zA-Z0-9_\-\+\./\(\)\$\p<span>{</span>Zs}]+$</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-datasync-locationsmb-tags"></a><span class="term"><code class="code">Tags</code></span></dt>
                                       <dd>
                                          
                                          <p>The key-value pair that represents the tag that you want to add to the location. The
                                             value
                                             can be an empty string. We recommend using tags to name your resources.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of <a href="aws-properties-resource-tags.html">Tag</a></p>
                                          <p><em>Maximum</em>: <code class="code">50</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-datasync-locationsmb-user"></a><span class="term"><code class="code">User</code></span></dt>
                                       <dd>
                                          
                                          <p>The user who can mount the share, has the permissions to access files and folders
                                             in the
                                             SMB share.
                                          </p>
                                          
                                          
                                          <p>For information about choosing a user name that ensures sufficient permissions to
                                             files,
                                             folders, and metadata, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/create-smb-location.html#SMBuser" rel="noopener noreferrer" target="_blank">user</a>.
                                          </p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Maximum</em>: <code class="code">104</code></p>
                                          <p><em>Pattern</em>: <code class="code">^[^\x5B\x5D\\/:;|=,+*?]<span>{</span>1,104}$</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                    </dl>
                                 </div>
                                 <h2 id="aws-resource-datasync-locationsmb-return-values">Return values</h2>
                                 <h3 id="aws-resource-datasync-locationsmb-return-values-ref">Ref</h3>
                                 <p>When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> 
                                    function, <code class="code">Ref</code> returns the location resource ARN. For example:
                                 </p>
                                 <p><code class="code">arn:aws:datasync:us-east-2:111222333444:location/loc-07db7abfc326c50s3</code></p>
                                 <p>For more information about using the <code class="code">Ref</code> function, see <a href="intrinsic-function-reference-ref.html">Ref</a>.
                                 </p>
                                 <h3 id="aws-resource-datasync-locationsmb-return-values-fn--getatt">Fn::GetAtt</h3>
                                 <p>The <code class="code">Fn::GetAtt</code> intrinsic function returns a value for a specified attribute 
                                    of this type. The following are the available attributes and sample return values.
                                 </p>
                                 <p>For more information about using the <code class="code">Fn::GetAtt</code> intrinsic function, 
                                    see <a href="intrinsic-function-reference-getatt.html">Fn::GetAtt</a>.
                                 </p>
                                 <h4 id="aws-resource-datasync-locationsmb-return-values-fn--getatt-fn--getatt"></h4>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="LocationArn-fn::getatt"></a><span class="term"><code class="code">LocationArn</code></span></dt>
                                       <dd>
                                          
                                          <p>The Amazon Resource Name (ARN) of the SMB file system that is specified.</p>
                                          
                                       </dd>
                                       <dt><a id="LocationUri-fn::getatt"></a><span class="term"><code class="code">LocationUri</code></span></dt>
                                       <dd>
                                          
                                          <p>The URL of the SMB location that is specified.</p>
                                          
                                       </dd>
                                    </dl>
                                 </div>
                                 <h2 id="aws-resource-datasync-locationsmb--examples">Examples</h2>
                                 <p></p>
                                 <h3 id="aws-resource-datasync-locationsmb--examples--SMB_storage_location_for_DataSync">SMB storage location for DataSync</h3>
                                 <p>The following example specifies an SMB storage location for DataSync.
                                    In this example, the SMB location uses the domain <code class="code">EXAMPLE</code>
                                    with SMB version 3. The server hostname is <code class="code">MyServer@example.com</code>, 
                                    and the SMB location is in the <code class="code">share</code> subdirectory. This example 
                                    specifies the user ID <code class="code">user-1</code>.
                                    
                                 </p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-resource-datasync-locationsmb--examples--SMB_storage_location_for_DataSync--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
&quot;AWSTemplateFormatVersion&quot;: &quot;2010-09-09&quot;,
&quot;Description&quot;: &quot;Specifies an SMB storage location for DataSync&quot;,
&quot;Resources&quot;: 
  <span>{</span>
    &quot;LocationSMB&quot;: <span>{</span>
      &quot;Type&quot;: &quot;AWS::DataSync::LocationSMB&quot;,
      &quot;Properties&quot;: <span>{</span>
        &quot;AgentArns&quot;: [
          &quot;arn:aws:datasync:us-east-2:111222333444:agent/agent-0b0addbeef44b3nfs,&quot;,
          &quot;arn:aws:datasync:us-east-2:111222333444:agent/agent-2345noo35nnee1123ovo3&quot;
        ],
        &quot;Domain&quot;: &quot;EXAMPLE&quot;,
        &quot;MountOptions&quot;: <span>{</span>
          &quot;Version&quot;: &quot;SMB3&quot;
        },
        &quot;Password&quot;: <span>{</span>&quot;Ref&quot;: &quot;Password&quot;},
        &quot;ServerHostname&quot;: &quot;MyServer.example.com&quot;,
        &quot;Subdirectory&quot;: &quot;/share&quot;,
        &quot;User&quot;: &quot;user-1&quot;
      }
    }
  }            
}</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-resource-datasync-locationsmb--examples--SMB_storage_location_for_DataSync--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: 2010-09-09
Description: Specifies an object storage location for DataSync
Resources:
  LocationSMB:
    Type: AWS::DataSync::LocationSMB
    Properties: 
      AgentArns: 
        - arn:aws:datasync:us-east-2:111222333444:agent/agent-0b0addbeef44b3nfs,
        - arn:aws:datasync:us-east-2:111222333444:agent/agent-2345noo35nnee1123ovo3
      Domain: EXAMPLE
      MountOptions: 
        Version: SMB3
      Password: !Ref Password
      ServerHostname: MyServer.example.com
      Subdirectory: /share
      User: user-1</code></pre></div>
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                                 <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning"> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the Amazon Web Services Documentation, Javascript must be
                                                enabled. Please refer to your browser&apos;s Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div></div>
</body>
</html>