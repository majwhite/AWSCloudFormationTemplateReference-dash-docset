<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="aws-resource-eks-cluster">AWS::EKS::Cluster</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>Creates an Amazon EKS control plane. </p>
                                 <p>The Amazon EKS control plane consists of control plane instances that run the Kubernetes
                                    software, such as <code class="code">etcd</code> and the API server. The control plane runs in an
                                    account managed by AWS, and the Kubernetes API is exposed via the Amazon EKS API server
                                    endpoint. Each Amazon EKS cluster control plane is single-tenant and unique and runs
                                    on its
                                    own set of Amazon EC2 instances.
                                 </p>
                                 <p>The cluster control plane is provisioned across multiple Availability Zones and
                                    fronted by an Elastic Load Balancing Network Load Balancer. Amazon EKS also provisions
                                    elastic network interfaces in your VPC
                                    subnets to provide connectivity from the control plane instances to the worker nodes
                                    (for example, to support <code class="code">kubectl exec</code>, <code class="code">logs</code>, and
                                    <code class="code">proxy</code> data flows).
                                 </p>
                                 <p>Amazon EKS worker nodes run in your AWS account and connect to your cluster&apos;s control
                                    plane via the Kubernetes API server endpoint and a certificate file that is created
                                    for
                                    your cluster.
                                 </p>
                                 <p>You can use the <code class="code">endpointPublicAccess</code> and
                                    <code class="code">endpointPrivateAccess</code> parameters to enable or disable public and
                                    private access to your cluster&apos;s Kubernetes API server endpoint. By default, public
                                    access is enabled, and private access is disabled. For more information, see <a href="https://docs.aws.amazon.com/eks/latest/userguide/cluster-endpoint.html">Amazon EKS Cluster
                                       Endpoint Access Control</a> in the <em>
                                       <em>Amazon EKS User Guide</em>
                                       </em>. 
                                 </p>
                                 <p>You can use the <code class="code">logging</code> parameter to enable or disable exporting the
                                    Kubernetes control plane logs for your cluster to CloudWatch Logs. By default, cluster
                                    control
                                    plane logs aren&apos;t exported to CloudWatch Logs. For more information, see <a href="https://docs.aws.amazon.com/eks/latest/userguide/control-plane-logs.html">Amazon EKS
                                       Cluster Control Plane Logs</a> in the
                                    <em>
                                       <em>Amazon EKS User Guide</em>
                                       </em>.
                                 </p>
                                 <div class="awsdocs-note">
                                    <div class="awsdocs-note-title">
                                       <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                    <div class="awsdocs-note-text">
                                       <p>CloudWatch Logs ingestion, archive storage, and data scanning rates apply to exported
                                          control plane logs. For more information, see <a href="http://aws.amazon.com/cloudwatch/pricing/" target="_blank"><span>Amazon CloudWatch Pricing</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.
                                       </p>
                                    </div>
                                 </div>
                                 <p>Cluster creation typically takes between 10 and 15 minutes. After you create an Amazon
                                    EKS
                                    cluster, you must configure your Kubernetes tooling to communicate with the API server
                                    and launch worker nodes into your cluster. For more information, see <a href="https://docs.aws.amazon.com/eks/latest/userguide/managing-auth.html">Managing Cluster
                                       Authentication</a> and <a href="https://docs.aws.amazon.com/eks/latest/userguide/launch-workers.html">Launching Amazon EKS Worker Nodes</a> in the
                                    <em>Amazon EKS User Guide</em>.
                                 </p>
                                 <h2 id="aws-resource-eks-cluster-syntax">Syntax</h2>
                                 <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h3 id="aws-resource-eks-cluster-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;Type&quot; : &quot;AWS::EKS::Cluster&quot;,
  &quot;Properties&quot; : <span>{</span>
      &quot;<a href="#cfn-eks-cluster-encryptionconfig">EncryptionConfig</a>&quot; : <code class="replaceable">[ <a href="./aws-properties-eks-cluster-encryptionconfig.html">EncryptionConfig</a>, ... ]</code>,
      &quot;<a href="#cfn-eks-cluster-name">Name</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-eks-cluster-resourcesvpcconfig">ResourcesVpcConfig</a>&quot; : <code class="replaceable"><a href="./aws-properties-eks-cluster-resourcesvpcconfig.html">ResourcesVpcConfig</a></code>,
      &quot;<a href="#cfn-eks-cluster-rolearn">RoleArn</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-eks-cluster-version">Version</a>&quot; : <code class="replaceable">String</code>
    }
}
</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h3 id="aws-resource-eks-cluster-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::EKS::Cluster
Properties: 
  <a href="#cfn-eks-cluster-encryptionconfig">EncryptionConfig</a>: <code class="replaceable">
    - <a href="./aws-properties-eks-cluster-encryptionconfig.html">EncryptionConfig</a></code>
  <a href="#cfn-eks-cluster-name">Name</a>: <code class="replaceable">String</code>
  <a href="#cfn-eks-cluster-resourcesvpcconfig">ResourcesVpcConfig</a>: <code class="replaceable">
    <a href="./aws-properties-eks-cluster-resourcesvpcconfig.html">ResourcesVpcConfig</a></code>
  <a href="#cfn-eks-cluster-rolearn">RoleArn</a>: <code class="replaceable">String</code>
  <a href="#cfn-eks-cluster-version">Version</a>: <code class="replaceable">String</code>
</code></pre></div>
                                 <h2 id="aws-resource-eks-cluster-properties">Properties</h2>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="cfn-eks-cluster-encryptionconfig"></a><span class="term"><code class="code">EncryptionConfig</code></span></dt>
                                       <dd>
                                          
                                          <p>The encryption configuration for the cluster.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-eks-cluster-encryptionconfig.html">List</a> of <a href="./aws-properties-eks-cluster-encryptionconfig.html">EncryptionConfig</a></p>
                                          <p><em>Maximum</em>: <code class="code">1</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-eks-cluster-name"></a><span class="term"><code class="code">Name</code></span></dt>
                                       <dd>
                                          
                                          <p>The unique name to give to your cluster.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Minimum</em>: <code class="code">1</code></p>
                                          <p><em>Maximum</em>: <code class="code">100</code></p>
                                          <p><em>Pattern</em>: <code class="code">^[0-9A-Za-z][A-Za-z0-9\-_]*</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-eks-cluster-resourcesvpcconfig"></a><span class="term"><code class="code">ResourcesVpcConfig</code></span></dt>
                                       <dd>
                                          
                                          <p>The VPC configuration used by the cluster control plane. Amazon EKS VPC resources
                                             have
                                             specific requirements to work properly with Kubernetes. For more information, see
                                             <a href="https://docs.aws.amazon.com/eks/latest/userguide/network_reqs.html">Cluster VPC
                                                Considerations</a> and <a href="https://docs.aws.amazon.com/eks/latest/userguide/sec-group-reqs.html">Cluster Security Group Considerations</a> in the
                                             <em>Amazon EKS User Guide</em>. You must specify at least two subnets. You can specify up to five
                                             security groups, but we recommend that you use a dedicated security group for your
                                             cluster control plane.
                                          </p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-eks-cluster-resourcesvpcconfig.html">ResourcesVpcConfig</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-eks-cluster-rolearn"></a><span class="term"><code class="code">RoleArn</code></span></dt>
                                       <dd>
                                          
                                          <p>The Amazon Resource Name (ARN) of the IAM role that provides permissions for the Kubernetes
                                             control
                                             plane to make calls to AWS API operations on your behalf. For more information, see
                                             <a href="https://docs.aws.amazon.com/eks/latest/userguide/service_IAM_role.html">Amazon EKS
                                                Service IAM Role</a> in the <em>
                                                <em>Amazon EKS User Guide</em>
                                                </em>.
                                          </p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-eks-cluster-version"></a><span class="term"><code class="code">Version</code></span></dt>
                                       <dd>
                                          
                                          <p>The desired Kubernetes version for your cluster. If you don&apos;t specify a value here,
                                             the latest version available in Amazon EKS is used.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                    </dl>
                                 </div>
                                 <h2 id="aws-resource-eks-cluster-return-values">Return values</h2>
                                 <h3 id="aws-resource-eks-cluster-return-values-ref">Ref</h3>
                                 <p>
                                    When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the resource name. For example:
                                 </p>
                                 <p>
                                    <code class="code"><span>{</span> &quot;Ref&quot;: &quot;myCluster&quot; }</code>
                                    
                                 </p>
                                 <p>For the Amazon EKS cluster <code class="code">myCluster</code>, <code class="code">Ref</code> returns
                                    the name of the cluster.
                                 </p>
                                 <p>For more information about using the <code class="code">Ref</code> function, see <a href="intrinsic-function-reference-ref.html">Ref</a>.
                                 </p>
                                 <h3 id="aws-resource-eks-cluster-return-values-fn--getatt">Fn::GetAtt</h3>
                                 <p>The <code class="code">Fn::GetAtt</code> intrinsic function returns a value for a specified attribute of this type. The following
                                    are the available attributes and sample return values.
                                 </p> 
                                 
                                 <p>For more information about using the <code class="code">Fn::GetAtt</code> intrinsic function, see <a href="intrinsic-function-reference-getatt.html">Fn::GetAtt</a>.
                                 </p>
                                 <h4 id="aws-resource-eks-cluster-return-values-fn--getatt-fn--getatt"></h4>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="Arn-fn::getatt"></a><span class="term"><code class="code">Arn</code></span></dt>
                                       <dd>
                                          
                                          <p>The ARN of the cluster, such as
                                             <code class="code">arn:aws:eks:us-west-2:666666666666:cluster/prod</code>.
                                          </p>
                                          
                                       </dd>
                                       <dt><a id="CertificateAuthorityData-fn::getatt"></a><span class="term"><code class="code">CertificateAuthorityData</code></span></dt>
                                       <dd>
                                          
                                          <p>The <code class="code">certificate-authority-data</code> for your cluster.
                                          </p>
                                          
                                       </dd>
                                       <dt><a id="ClusterSecurityGroupId-fn::getatt"></a><span class="term"><code class="code">ClusterSecurityGroupId</code></span></dt>
                                       <dd>
                                          
                                          <p>The cluster security group that was created by Amazon EKS for the cluster. Managed
                                             node groups use this security group for control plane to data plane
                                             communication.
                                          </p>
                                          
                                          <p>This parameter is only returned by Amazon EKS clusters that support managed node
                                             groups. For more information, see <a href="https://docs.aws.amazon.com/eks/latest/userguide/managed-node-groups.html">Managed Node Groups</a> in
                                             the <em>Amazon EKS User Guide</em>. 
                                          </p>
                                          
                                       </dd>
                                       <dt><a id="EncryptionConfigKeyArn-fn::getatt"></a><span class="term"><code class="code">EncryptionConfigKeyArn</code></span></dt>
                                       <dd>
                                          
                                          <p>Amazon Resource Name (ARN) or alias of the customer master key (CMK).</p>
                                          
                                       </dd>
                                       <dt><a id="Endpoint-fn::getatt"></a><span class="term"><code class="code">Endpoint</code></span></dt>
                                       <dd>
                                          
                                          <p>The endpoint for your Kubernetes API server, such as
                                             <code class="code">https://5E1D0CEXAMPLEA591B746AFC5AB30262.yl4.us-west-2.eks.amazonaws.com</code>.
                                          </p>
                                          
                                       </dd>
                                    </dl>
                                 </div>
                                 <h2 id="aws-resource-eks-cluster--examples">Examples</h2>
                                 <h3 id="aws-resource-eks-cluster--examples--Create_a_Cluster">Create a Cluster</h3>
                                 <p>The following example creates an Amazon EKS cluster called
                                    prod.
                                 </p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-resource-eks-cluster--examples--Create_a_Cluster--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    &quot;Resources&quot;: <span>{</span>
        &quot;myCluster&quot;: <span>{</span>
            &quot;Type&quot;: &quot;AWS::EKS::Cluster&quot;,
            &quot;Properties&quot;: <span>{</span>
                &quot;Name&quot;: &quot;prod&quot;,
                &quot;Version&quot;: &quot;1.14&quot;,
                &quot;RoleArn&quot;: &quot;arn:aws:iam::012345678910:role/eks-service-role-AWSServiceRoleForAmazonEKS-EXAMPLEBQ4PI&quot;,
                &quot;ResourcesVpcConfig&quot;: <span>{</span>
                    &quot;SecurityGroupIds&quot;: [
                        &quot;sg-6979fe18&quot;
                    ],
                    &quot;SubnetIds&quot;: [
                        &quot;subnet-6782e71e&quot;,
                        &quot;subnet-e7e761ac&quot;
                    ]
                }
            }
        }
    }
}</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-resource-eks-cluster--examples--Create_a_Cluster--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:
  myCluster:
    Type: &apos;AWS::EKS::Cluster&apos;
    Properties:
      Name: prod
      Version: &apos;1.14&apos;
      RoleArn: &gt;-
        arn:aws:iam::012345678910:role/eks-service-role-AWSServiceRoleForAmazonEKS-EXAMPLEBQ4PI
      ResourcesVpcConfig:
        SecurityGroupIds:
          - sg-6979fe18
        SubnetIds:
          - subnet-6782e71e
          - subnet-e7e761ac</code></pre></div>
                                 <h2 id="aws-resource-eks-cluster--seealso">See also</h2>
                                 <div class="itemizedlist">
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p>
                                             <a href="https://docs.aws.amazon.com/eks/latest/userguide/clusters.html">Clusters</a> in the <em>Amazon EKS User Guide
                                                </em>.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>
                                             <a href="https://docs.aws.amazon.com/eks/latest/APIReference/API_CreateCluster.html">CreateCluster</a> in the <em>Amazon EKS API Reference
                                                </em>.
                                          </p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning"> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the AWS Documentation, Javascript must be
                                                enabled. Please refer to your browser&apos;s Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div></div>
</body>
</html>