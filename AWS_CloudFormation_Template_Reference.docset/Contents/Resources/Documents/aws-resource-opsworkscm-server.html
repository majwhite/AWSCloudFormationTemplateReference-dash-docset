<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <h1 class="topictitle" id="aws-resource-opsworkscm-server">AWS::OpsWorksCM::Server</h1><p>The <code class="code">AWS::OpsWorksCM::Server</code> resource creates an AWS OpsWorks for Chef Automate or AWS OpsWorks for Puppet Enterprise
                        configuration management server. For more information, see <a href="https://docs.aws.amazon.com/opsworks/latest/userguide/opscm-create-server-cfn.html">Create a Chef
                           Automate Server in AWS CloudFormation</a> or <a href="https://docs.aws.amazon.com/opsworks/latest/userguide/opspup-create-server-cfn.html">Create a Puppet
                           Enterprise Master in AWS CloudFormation</a> in the <em>AWS OpsWorks User Guide</em>, and <a href="https://docs.aws.amazon.com/opsworks-cm/latest/APIReference/API_CreateServer.html">CreateServer</a> in the <em>AWS OpsWorks CM API Reference</em>.
                     </p><h2 id="aws-resource-opsworkscm-server-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter">
                        
                        <h3 id="aws-resource-opsworkscm-server-syntax.json">JSON</h3>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
  &quot;Type&quot; : &quot;AWS::OpsWorksCM::Server&quot;,
  &quot;Properties&quot; : {
    &quot;<a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-backupid">BackupId</a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-backupretentioncount">BackupRetentionCount</a>&quot; : <em class="replaceable"><code>Integer</code></em>,
    &quot;<a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-disableautomatedbackup">DisableAutomatedBackup</a>&quot; : <em class="replaceable"><code>Boolean</code></em>,
    &quot;<a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-engine">Engine</a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-engineattributes">EngineAttributes</a>&quot; : [ <a href="aws-properties-opsworkscm-server-engineattribute.html">EngineAttribute</a>, ... ],
    &quot;<a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-enginemodel">EngineModel</a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-engineversion">EngineVersion</a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-instanceprofilearn">InstanceProfileArn</a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-instancetype">InstanceType</a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-keypair">KeyPair</a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-preferredbackupwindow">PreferredBackupWindow</a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-preferredmaintenancewindow">PreferredMaintenanceWindow</a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-securitygroupids">SecurityGroupIds</a>&quot; : [ <em class="replaceable"><code>String</code></em>, ... ],
    &quot;<a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-servername">ServerName</a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-servicerolearn">ServiceRoleArn</a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-subnetids">SubnetIds</a>&quot; : [ <em class="replaceable"><code>String</code></em>, ... ]
  }
}</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        
                        <h3 id="aws-resource-opsworkscm-server-syntax.yaml">YAML</h3>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">Type: &quot;AWS::OpsWorksCM::Server&quot;
Properties:
  <a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-backupid">BackupId</a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-backupretentioncount">BackupRetentionCount</a>: <em class="replaceable"><code>Integer</code></em>
  <a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-disableautomatedbackup">DisableAutomatedBackup</a>: <em class="replaceable"><code>Boolean</code></em>
  <a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-engine">Engine</a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-engineattributes">EngineAttributes</a>: 
    - <a href="aws-properties-opsworkscm-server-engineattribute.html">EngineAttribute</a>
  <a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-enginemodel">EngineModel</a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-engineversion">EngineVersion</a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-instanceprofilearn">InstanceProfileArn</a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-instancetype">InstanceType</a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-keypair">KeyPair</a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-preferredbackupwindow">PreferredBackupWindow</a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-preferredmaintenancewindow">PreferredMaintenanceWindow</a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-securitygroupids">SecurityGroupIds</a>: 
    - <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-servername">ServerName</a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-servicerolearn">ServiceRoleArn</a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-opsworkscm-server.html#cfn-opsworkscm-server-subnetids">SubnetIds</a>: 
    - <em class="replaceable"><code>String</code></em></code></pre>
                        </div><h2 id="aws-resource-opsworkscm-server-properties">Properties</h2><div class="variablelist">
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <dl>
                           
                           <dt><a id="cfn-opsworkscm-server-backupid"></a><span class="term"><code class="code">BackupId</code></span></dt>
                           
                           <dd>
                              
                              <p>If you specify this field, AWS OpsWorks CM creates the server by using the backup
                                 represented by <code class="code">BackupId</code>.
                              </p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: String
                              </p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-opsworkscm-server-backupretentioncount"></a><span class="term"><code class="code">BackupRetentionCount</code></span></dt>
                           
                           <dd>
                              
                              <p>The number of automated backups that you want to keep. Whenever a new backup is
                                 created, AWS OpsWorks CM deletes the oldest backups if this number is exceeded. The
                                 default
                                 value is 1.
                              </p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: Integer
                              </p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-opsworkscm-server-disableautomatedbackup"></a><span class="term"><code class="code">DisableAutomatedBackup</code></span></dt>
                           
                           <dd>
                              
                              <p>Enable or disable scheduled backups. Valid values are <code class="code">true</code> or
                                 <code class="code">false</code>. The default value is <code class="code">false</code>.
                              </p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: Boolean
                              </p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-opsworkscm-server-engine"></a><span class="term"><code class="code">Engine</code></span></dt>
                           
                           <dd>
                              
                              <p>The configuration management engine to use. Valid values are <code class="code">Chef</code> or
                                 <code class="code">Puppet</code>.
                              </p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: String
                              </p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-opsworkscm-server-engineattributes"></a><span class="term"><code class="code">EngineAttributes</code></span></dt>
                           
                           <dd>
                              
                              <p>In a <code class="code">createServer()</code> request, <code class="code">EngineAttributes</code> contains the
                                 administrator credentials to access the configuration management server. These
                                 credentials are not stored by AWS OpsWorks CM.
                              </p>
                              
                              <div class="itemizedlist">
                                 
                                 <p class="title"><b>Attributes accepted in a <code class="code">createServer</code> request for Chef
                                       Automate:</b></p>
                                 
                                 
                                 <ul class="itemizedlist" type="disc">
                                    <li class="listitem">
                                       
                                       <p><code class="code">CHEF_PIVOTAL_KEY</code>: A base64-encoded RSA public key. When no
                                          CHEF_PIVOTAL_KEY is set, a private key is generated by AWS OpsWorks for Chef Automate
                                          and returned in the
                                          response. The corresponding private key is required to access the Chef API.
                                       </p>
                                       
                                    </li>
                                 </ul>
                              </div>
                              
                              <div class="itemizedlist">
                                 
                                 <p class="title"><b>Attributes accepted in a <code class="code">createServer</code> request for Puppet
                                       Enterprise:</b></p>
                                 
                                 
                                 
                                 <ul class="itemizedlist" type="disc">
                                    <li class="listitem">
                                       
                                       <p><code class="code">PUPPET_ADMIN_PASSWORD</code>: An administrator password that you can use
                                          to sign in to the Puppet Enterprise console after the server is online. The password
                                          must use between 8 and 32 ASCII characters.
                                       </p>
                                       
                                    </li>
                                    <li class="listitem">
                                       <p><code class="code">PUPPET_R10K_REMOTE</code>: The r10k remote is the URL of your control repository 
                                          (for example, ssh://git@your.git-repo.com:user/control-repo.git). Specifying an r10k
                                          remote opens TCP port 8170.
                                       </p>
                                    </li>
                                    <li class="listitem">
                                       <p><code class="code">PUPPET_R10K_PRIVATE_KEY</code>: If you are using a private Git repository, add 
                                          PUPPET_R10K_PRIVATE_KEY to specify a PEM-encoded private SSH key.
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: List of <a href="aws-properties-opsworkscm-server-engineattribute.html">EngineAttribute</a> property
                                 types
                              </p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-opsworkscm-server-enginemodel"></a><span class="term"><code class="code">EngineModel</code></span></dt>
                           
                           <dd>
                              
                              <p>The engine model of the server. Valid values include <code class="code">Monolithic</code> for
                                 Puppet and <code class="code">Single</code> for Chef.
                              </p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: String
                              </p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-opsworkscm-server-engineversion"></a><span class="term"><code class="code">EngineVersion</code></span></dt>
                           
                           <dd>
                              
                              <p>The engine version of the server. For a Chef server, the valid value for
                                 <code class="code">EngineVersion</code> is <code class="code">12</code>. For a Puppet server, the valid value is
                                 <code class="code">2017</code>.
                              </p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: String
                              </p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-opsworkscm-server-instanceprofilearn"></a><span class="term"><code class="code">InstanceProfileArn</code></span></dt>
                           
                           <dd>
                              
                              <p>The instance profile ARN of the server.</p>
                              
                              <p>
                                 <em>Required</em>: Yes
                              </p>
                              
                              <p>
                                 <em>Type</em>: String
                              </p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-opsworkscm-server-instancetype"></a><span class="term"><code class="code">InstanceType</code></span></dt>
                           
                           <dd>
                              
                              <p>The instance type for the server, as specified in the AWS CloudFormation stack. This
                                 might not be
                                 the same instance type that is shown for the server in the Amazon EC2 console.
                              </p>
                              
                              <p>
                                 <em>Required</em>: Yes
                              </p>
                              
                              <p>
                                 <em>Type</em>: String
                              </p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-opsworkscm-server-keypair"></a><span class="term"><code class="code">KeyPair</code></span></dt>
                           
                           <dd>
                              
                              <p>The key pair associated with the server.</p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: String
                              </p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-opsworkscm-server-preferredbackupwindow"></a><span class="term"><code class="code">PreferredBackupWindow</code></span></dt>
                           
                           <dd>
                              
                              <p>The preferred backup period specified for the server.</p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: String
                              </p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-opsworkscm-server-preferredmaintenancewindow"></a><span class="term"><code class="code">PreferredMaintenanceWindow</code></span></dt>
                           
                           <dd>
                              
                              <p>The preferred maintenance period specified for the server.</p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: String
                              </p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-opsworkscm-server-securitygroupids"></a><span class="term"><code class="code">SecurityGroupIds</code></span></dt>
                           
                           <dd>
                              
                              <p>The security group IDs for the server, as specified in the AWS CloudFormation stack.
                                 These might
                                 not be the same security groups that are shown for the server in the Amazon EC2
                                 console.
                              </p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: List of String values
                              </p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-opsworkscm-server-servername"></a><span class="term"><code class="code">ServerName</code></span></dt>
                           
                           <dd>
                              
                              <p>The name of the server.</p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: String
                              </p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-opsworkscm-server-servicerolearn"></a><span class="term"><code class="code">ServiceRoleArn</code></span></dt>
                           
                           <dd>
                              
                              <p>The service role ARN used to create the server.</p>
                              
                              <p>
                                 <em>Required</em>: Yes
                              </p>
                              
                              <p>
                                 <em>Type</em>: String
                              </p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-opsworkscm-server-subnetids"></a><span class="term"><code class="code">SubnetIds</code></span></dt>
                           
                           <dd>
                              
                              <p>The subnet IDs specified in a <code class="code">createServer()</code> request.
                              </p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: List of String values
                              </p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a>
                                 
                              </p>
                              
                           </dd>
                           
                        </dl>
                     </div><h2 id="aws-resource-opsworkscm-server-returnvalues">Return Values</h2><h3 id="aws-resource-opsworkscm-server-ref">Ref</h3><p>When you pass the logical ID of an <code class="code">AWS::OpsWorksCM::Server</code> resource to the
                        intrinsic <code class="code">Ref</code> function, the function returns the server&apos;s ARN, such as
                        <code class="code">arn:aws:OpsWorksCM:us-east-1:123456789012:server/server-a1bzhi</code>.
                     </p><p>For more information about using the <code class="code">Ref</code> function, see <a href="intrinsic-function-reference-ref.html">Ref</a>.
                     </p><h3 id="aws-resource-opsworkscm-server-getatt">Fn::GetAtt</h3><p><code class="code">Fn::GetAtt</code> returns a value for a specified attribute of this type. The
                        following are the available attributes and sample return values.
                     </p><div class="variablelist">
                        
                        
                        
                        <dl>
                           
                           <dt><span class="term"><code class="code">Endpoint</code></span></dt>
                           
                           <dd>
                              
                              <p>A DNS name that can be used to access the engine. Example:
                                 <code class="code">myserver-asdfghjkl.us-east-1.opsworks.io</code>.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term"><code class="code">Arn</code></span></dt>
                           
                           <dd>
                              
                              <p>The Amazon Resource Name (ARN) of the server, such as
                                 <code class="code">arn:aws:OpsWorksCM:us-east-1:123456789012:server/server-a1bzhi</code>.
                              </p>
                              
                           </dd>
                           
                        </dl>
                     </div><p>For more information about using <code class="code">Fn::GetAtt</code>, see <a href="intrinsic-function-reference-getatt.html">Fn::GetAtt</a>.
                     </p><h2 id="aws-resource-opsworkscm-server-examples">Examples</h2><h3 id="aws-resource-opsworkscm-server-example1">Create an AWS OpsWorks for Chef Automate server</h3><p>The following example creates an AWS OpsWorks for Chef Automate server.</p><div id="JSON" name="JSON" class="section langfilter">
                        
                        <h4 id="aws-resource-opsworkscm-server-example1.json">JSON</h4>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">{
    &quot;AWSTemplateFormatVersion&quot;: &quot;2010-09-09&quot;,
    &quot;Parameters&quot;: {
        &quot;PivotalKey&quot;: {
            &quot;Type&quot;: &quot;String&quot;
        },
        &quot;Password&quot;: {
            &quot;Type&quot;: &quot;String&quot;
        }
    },
    &quot;Resources&quot;: {
        &quot;MyChefServer&quot;: {
            &quot;Type&quot;: &quot;AWS::OpsWorksCM::Server&quot;,
            &quot;Properties&quot;: {
                &quot;BackupRetentionCount&quot;: &quot;12&quot;,
                &quot;DisableAutomatedBackup&quot;: false,
                &quot;Engine&quot;: &quot;Chef&quot;,
                &quot;EngineVersion&quot;: &quot;12&quot;,
                &quot;EngineAttributes&quot;: [
                    {
                        &quot;Name&quot;: &quot;CHEF_PIVOTAL_KEY&quot;,
                        &quot;Value&quot;: {
                            &quot;Ref&quot;: &quot;PivotalKey&quot;
                        }
                    },
                    {
                        &quot;Name&quot;: &quot;CHEF_DELIVERY_ADMIN_PASSWORD&quot;,
                        &quot;Value&quot;: {
                            &quot;Ref&quot;: &quot;Password&quot;
                        }
                    }
                ],
                &quot;EngineModel&quot;: &quot;Single&quot;,
                &quot;InstanceProfileArn&quot;: &quot;arn:aws:iam::123456789012:instance-profile/MyInstanceProfile&quot;,
                &quot;InstanceType&quot;: &quot;m4.xlarge&quot;,
                &quot;PreferredBackupWindow&quot;: &quot;08:00&quot;,
                &quot;PreferredMaintenanceWindow&quot;: &quot;Fri:08:00&quot;,
                &quot;ServiceRoleArn&quot;: &quot;arn:aws:iam::123456789012:role/MyServiceRole&quot;
            }
        }
    },
    &quot;Outputs&quot;: {
        &quot;endpoint&quot;: {
            &quot;Description&quot;: &quot;OpsWorksCM Server Endpoint&quot;,
            &quot;Value&quot;: {
                &quot;Fn::GetAtt&quot;: [
                    &quot;MyChefServer&quot;,
                    &quot;Endpoint&quot;
                ]
            }
        }
    }
}</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        
                        <h4 id="aws-resource-opsworkscm-server-example1.yaml">YAML</h4>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">AWSTemplateFormatVersion: &apos;2010-09-09&apos;
Parameters:
    PivotalKey:
        Type: String
    Password:
        Type: String
Resources:
  MyChefServer:
    Type: AWS::OpsWorksCM::Server
    Properties:
      BackupRetentionCount: &apos;12&apos;
      DisableAutomatedBackup: False
      Engine: &apos;Chef&apos;
      EngineVersion: &apos;12&apos;
      EngineAttributes:
          - Name: &quot;CHEF_PIVOTAL_KEY&quot;
            Value:
                Ref: PivotalKey
          - Name: &quot;CHEF_DELIVERY_ADMIN_PASSWORD&quot;
            Value:
                Ref: Password
      EngineModel: &apos;Single&apos;
      InstanceProfileArn: &quot;arn:aws:iam::123456789012:instance-profile/MyInstanceProfile&quot;
      InstanceType: &apos;m4.xlarge&apos;
      PreferredBackupWindow: &apos;08:00&apos;
      PreferredMaintenanceWindow: &apos;Fri:08:00&apos;
      ServiceRoleArn: &quot;arn:aws:iam::123456789012:role/MyServiceRole&quot;
Outputs:
  endpoint:
    Description: OpsWorksCM Server Endpoint
    Value: !GetAtt [MyChefServer, Endpoint]</code></pre>
                        </div><h2 id="aws-resource-opsworkscm-server-seealso">See Also</h2><div class="itemizedlist">
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><a href="https://docs.aws.amazon.com/opsworks/latest/userguide/opscm-create-server-cfn.html">Create a Chef Automate Server in AWS CloudFormation</a> in the <em>AWS OpsWorks User
                                    Guide</em>
                                 
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><a href="https://docs.aws.amazon.com/opsworks/latest/userguide/opspup-create-server-cfn.html">Create a Puppet Enterprise Master in AWS CloudFormation</a> in the <em>AWS OpsWorks User
                                    Guide</em>
                                 
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><a href="https://docs.aws.amazon.com/opsworks-cm/latest/APIReference/API_CreateServer.html"><b>CreateServer</b></a> in the <em>AWS OpsWorks CM API
                                    Reference</em></p>
                              
                           </li>
                        </ul>
                     </div></div>
</body>
</html>