<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <h1 class="topictitle" id="aws-resource-ec2-ec2fleet">AWS::EC2::EC2Fleet</h1><p>The <code class="code">AWS::EC2::EC2Fleet</code> resource specifies the configuration information to
                        launch a fleet&#x2014;or group&#x2014;of instances. An EC2 Fleet can launch multiple instance
                        types across multiple Availability Zones, using the On-Demand Instance, Reserved Instance,
                        and
                        Spot Instance purchasing models together. Using EC2 Fleet, you can define separate
                        On-Demand and
                        Spot capacity targets, specify the instance types that work best for your applications,
                        and
                        specify how Amazon EC2 should distribute your fleet capacity within each purchasing
                        model. For more
                        information, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-fleet.html">Launching an EC2 Fleet</a> in the
                        <em>Amazon EC2 User Guide for Linux Instances</em>.
                     </p><h2 id="aws-resource-ec2-ec2fleet-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter">
                        
                        <h3 id="aws-resource-ec2-ec2fleet-syntax.json">JSON</h3>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
  &quot;Type&quot; : &quot;AWS::EC2::EC2Fleet&quot;,
  &quot;Properties&quot; : {
    &quot;<a href="aws-resource-ec2-ec2fleet.html#cfn-ec2-ec2fleet-excesscapacityterminationpolicy">ExcessCapacityTerminationPolicy</a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-ec2-ec2fleet.html#cfn-ec2-ec2fleet-launchtemplateconfigs">LaunchTemplateConfigs</a>&quot; : [ <a href="aws-properties-ec2-ec2fleet-fleetlaunchtemplateconfigrequest.html">FleetLaunchTemplateConfigRequest</a>, ... ],
    &quot;<a href="aws-resource-ec2-ec2fleet.html#cfn-ec2-ec2fleet-ondemandoptions">OnDemandOptions</a>&quot; : <a href="aws-properties-ec2-ec2fleet-ondemandoptionsrequest.html">OnDemandOptionsRequest</a>,
    &quot;<a href="aws-resource-ec2-ec2fleet.html#cfn-ec2-ec2fleet-replaceunhealthyinstances">ReplaceUnhealthyInstances</a>&quot; : <em class="replaceable"><code>Boolean</code></em>,
    &quot;<a href="aws-resource-ec2-ec2fleet.html#cfn-ec2-ec2fleet-spotoptions">SpotOptions</a>&quot; : <a href="aws-properties-ec2-ec2fleet-spotoptionsrequest.html">SpotOptionsRequest</a>,
    &quot;<a href="aws-resource-ec2-ec2fleet.html#cfn-ec2-ec2fleet-tagspecifications">TagSpecifications</a>&quot; : [ <a href="aws-properties-ec2-ec2fleet-tagspecification.html">TagSpecification</a>, ... ],
    &quot;<a href="aws-resource-ec2-ec2fleet.html#cfn-ec2-ec2fleet-targetcapacityspecification">TargetCapacitySpecification</a>&quot; : <a href="aws-properties-ec2-ec2fleet-targetcapacityspecificationrequest.html">TargetCapacitySpecificationRequest</a>,
    &quot;<a href="aws-resource-ec2-ec2fleet.html#cfn-ec2-ec2fleet-terminateinstanceswithexpiration">TerminateInstancesWithExpiration</a>&quot; : <em class="replaceable"><code>Boolean</code></em>,
    &quot;<a href="aws-resource-ec2-ec2fleet.html#cfn-ec2-ec2fleet-type">Type</a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-ec2-ec2fleet.html#cfn-ec2-ec2fleet-validfrom">ValidFrom</a>&quot; : <em class="replaceable"><code>Integer</code></em>,
    &quot;<a href="aws-resource-ec2-ec2fleet.html#cfn-ec2-ec2fleet-validuntil">ValidUntil</a>&quot; : <em class="replaceable"><code>Integer</code></em>
  }
}</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        
                        <h3 id="aws-resource-ec2-ec2fleet-syntax.yaml">YAML</h3>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">Type: &quot;AWS::EC2::EC2Fleet&quot;
Properties:
  <a href="aws-resource-ec2-ec2fleet.html#cfn-ec2-ec2fleet-excesscapacityterminationpolicy">ExcessCapacityTerminationPolicy</a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-ec2-ec2fleet.html#cfn-ec2-ec2fleet-launchtemplateconfigs">LaunchTemplateConfigs</a>: 
    - <a href="aws-properties-ec2-ec2fleet-fleetlaunchtemplateconfigrequest.html">FleetLaunchTemplateConfigRequest</a>
  <a href="aws-resource-ec2-ec2fleet.html#cfn-ec2-ec2fleet-ondemandoptions">OnDemandOptions</a>: <a href="aws-properties-ec2-ec2fleet-ondemandoptionsrequest.html">OnDemandOptionsRequest</a>
  <a href="aws-resource-ec2-ec2fleet.html#cfn-ec2-ec2fleet-replaceunhealthyinstances">ReplaceUnhealthyInstances</a>: <em class="replaceable"><code>Boolean</code></em>
  <a href="aws-resource-ec2-ec2fleet.html#cfn-ec2-ec2fleet-spotoptions">SpotOptions</a>: <a href="aws-properties-ec2-ec2fleet-spotoptionsrequest.html">SpotOptionsRequest</a>
  <a href="aws-resource-ec2-ec2fleet.html#cfn-ec2-ec2fleet-tagspecifications">TagSpecifications</a>: 
    - <a href="aws-properties-ec2-ec2fleet-tagspecification.html">TagSpecification</a>
  <a href="aws-resource-ec2-ec2fleet.html#cfn-ec2-ec2fleet-targetcapacityspecification">TargetCapacitySpecification</a>: <a href="aws-properties-ec2-ec2fleet-targetcapacityspecificationrequest.html">TargetCapacitySpecificationRequest</a>
  <a href="aws-resource-ec2-ec2fleet.html#cfn-ec2-ec2fleet-terminateinstanceswithexpiration">TerminateInstancesWithExpiration</a>: <em class="replaceable"><code>Boolean</code></em>
  <a href="aws-resource-ec2-ec2fleet.html#cfn-ec2-ec2fleet-type">Type</a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-ec2-ec2fleet.html#cfn-ec2-ec2fleet-validfrom">ValidFrom</a>: <em class="replaceable"><code>Integer</code></em>
  <a href="aws-resource-ec2-ec2fleet.html#cfn-ec2-ec2fleet-validuntil">ValidUntil</a>: <em class="replaceable"><code>Integer</code></em></code></pre>
                        </div><h2 id="aws-resource-ec2-ec2fleet-properties">Properties</h2><div class="variablelist">
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <dl>
                           
                           <dt><a id="cfn-ec2-ec2fleet-excesscapacityterminationpolicy"></a><span class="term"><code class="code">ExcessCapacityTerminationPolicy</code></span></dt>
                           
                           <dd>
                              
                              <p>Indicates whether running instances should be terminated if the total target capacity
                                 of the EC2 Fleet
                                 is decreased below the current size of the EC2 Fleet.
                              </p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: String
                              </p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-ec2-ec2fleet-launchtemplateconfigs"></a><span class="term"><code class="code">LaunchTemplateConfigs</code></span></dt>
                           
                           <dd>
                              
                              <p>The configuration for the EC2 Fleet.</p>
                              
                              <p>
                                 <em>Required</em>: Yes
                              </p>
                              
                              <p>
                                 <em>Type</em>: List of <a href="aws-properties-ec2-ec2fleet-fleetlaunchtemplateconfigrequest.html">FleetLaunchTemplateConfigRequest</a> property types
                              </p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-ec2-ec2fleet-ondemandoptions"></a><span class="term"><code class="code">OnDemandOptions</code></span></dt>
                           
                           <dd>
                              
                              <p>The allocation strategy of On-Demand Instances in an EC2 Fleet.</p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: <a href="aws-properties-ec2-ec2fleet-ondemandoptionsrequest.html">OnDemandOptionsRequest</a></p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-ec2-ec2fleet-replaceunhealthyinstances"></a><span class="term"><code class="code">ReplaceUnhealthyInstances</code></span></dt>
                           
                           <dd>
                              
                              <p>Indicates whether EC2 Fleet should replace unhealthy instances.</p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: Boolean
                              </p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-ec2-ec2fleet-spotoptions"></a><span class="term"><code class="code">SpotOptions</code></span></dt>
                           
                           <dd>
                              
                              <p>Describes the configuration of Spot Instances in an EC2 Fleet.</p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: <a href="aws-properties-ec2-ec2fleet-spotoptionsrequest.html">SpotOptionsRequest</a></p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-ec2-ec2fleet-tagspecifications"></a><span class="term"><code class="code">TagSpecifications</code></span></dt>
                           
                           <dd>
                              
                              <p>The key-value pair for tagging the EC2 Fleet request on creation. The value for <code class="code">ResourceType</code> must
                                 be <code class="code">fleet</code>, otherwise the fleet request fails.
                                 To tag instances at launch, specify the tags in the <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-launch-templates.html#create-launch-template">launch template</a>. 
                                 For information about tagging after launch, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Using_Tags.html#tag-resources">Tagging Your Resources</a>.
                              </p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: List of <a href="aws-properties-ec2-ec2fleet-tagspecification.html">TagSpecification</a> property types
                              </p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-ec2-ec2fleet-targetcapacityspecification"></a><span class="term"><code class="code">TargetCapacitySpecification</code></span></dt>
                           
                           <dd>
                              
                              <p>The <code class="code">TotalTargetCapacity</code>, <code class="code">OnDemandTargetCapacity</code>, <code class="code">SpotTargetCapacity</code>,
                                 and <code class="code">DefaultCapacityType</code> structure.
                              </p>
                              
                              <p>
                                 <em>Required</em>: Yes
                              </p>
                              
                              <p>
                                 <em>Type</em>: <a href="aws-properties-ec2-ec2fleet-targetcapacityspecificationrequest.html">TargetCapacitySpecificationRequest</a></p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-ec2-ec2fleet-terminateinstanceswithexpiration"></a><span class="term"><code class="code">TerminateInstancesWithExpiration</code></span></dt>
                           
                           <dd>
                              
                              <p>Indicates whether running instances should be terminated when the EC2 Fleet expires.</p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: Boolean
                              </p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-ec2-ec2fleet-type"></a><span class="term"><code class="code">Type</code></span></dt>
                           
                           <dd>
                              
                              <p>The type of the request. By default, the EC2 Fleet places an asynchronous
                                 request for your desired capacity, and maintains it by replenishing interrupted Spot
                                 Instances (<code class="code">maintain</code>). A value of <code class="code">instant</code> places a synchronous
                                 one-time request, and returns errors for any instances that could not be launched.
                                 A
                                 value of <code class="code">request</code> places an asynchronous one-time request without
                                 maintaining capacity or submitting requests in alternative capacity pools if capacity
                                 is
                                 unavailable. For more information, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-fleet-configuration-strategies.html#ec2-fleet-request-type">EC2
                                    Fleet Request Types</a> in the <em>Amazon EC2 User Guide for Linux Instances</em>.
                              </p>
                              
                              <p>request
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: String
                              </p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-ec2-ec2fleet-validfrom"></a><span class="term"><code class="code">ValidFrom</code></span></dt>
                           
                           <dd>
                              
                              <p>The start date and time of the request, in UTC format (for example,
                                 <em>YYYY-MM-DD</em>T<em>HH:MM:SS</em>Z). The default is to start fulfilling the request immediately.
                              </p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: String
                              </p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-ec2-ec2fleet-validuntil"></a><span class="term"><code class="code">ValidUntil</code></span></dt>
                           
                           <dd>
                              
                              <p>The end date and time of the request, in UTC format (for example, 
                                 <em>YYYY-MM-DD</em>T<em>HH:MM:SS</em>Z). At this point, 
                                 no new EC2 Fleet requests are placed or able to fulfill the request. The default end
                                 date is 7 days from the current date.
                              </p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: String
                              </p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a>
                                 
                              </p>
                              
                           </dd>
                           
                        </dl>
                     </div><h2 id="aws-resource-ec2-ec2fleet-returnvalues">Return Values</h2><h3 id="aws-resource-ec2-ec2fleet-ref">Ref</h3><p>When you pass the logical ID of an 
                        <code class="code">AWS::EC2::EC2Fleet</code>
                        resource to the intrinsic 
                        <code class="code">Ref</code> function, the function returns the
                        fleet ID, such as 
                        <code class="code">fleet-1fe24079-d272-4023-8e7c-70e10784cb0e</code>.
                        
                     </p><p>For more information about using the 
                        <code class="code">Ref</code> function, see 
                        <a href="intrinsic-function-reference-ref.html">Ref</a>.
                        
                     </p><h2 id="aws-resource-ec2-ec2fleet-seealso">See Also</h2><div class="itemizedlist">
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><a href="https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_CreateFleet.html">CreateFleet</a> in the <em>Amazon EC2 API Reference</em></p>
                              
                           </li>
                        </ul>
                     </div></div>
</body>
</html>