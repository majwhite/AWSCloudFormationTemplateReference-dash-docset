<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="aws-resource-ec2-ec2fleet">AWS::EC2::EC2Fleet</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>Specifies the configuration information to launch a fleet--or group--of instances.
                                    
                                    An EC2 Fleet can launch multiple instance types across multiple Availability Zones,
                                    
                                    using the On-Demand Instance, Reserved Instance, and Spot Instance purchasing models
                                    
                                    together. Using EC2 Fleet, you can define separate On-Demand and Spot capacity targets,
                                    
                                    specify the instance types that work best for your applications, and specify how 
                                    Amazon EC2 should distribute your fleet capacity within each purchasing model. For
                                    more 
                                    information, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-fleet.html">Launching an EC2 Fleet</a> in the <em>Amazon EC2 User Guide for Linux Instances</em>.
                                 </p>
                                 <h2 id="aws-resource-ec2-ec2fleet-syntax">Syntax</h2>
                                 <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h3 id="aws-resource-ec2-ec2fleet-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;Type&quot; : &quot;AWS::EC2::EC2Fleet&quot;,
  &quot;Properties&quot; : <span>{</span>
      &quot;<a href="#cfn-ec2-ec2fleet-excesscapacityterminationpolicy">ExcessCapacityTerminationPolicy</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-ec2-ec2fleet-launchtemplateconfigs">LaunchTemplateConfigs</a>&quot; : <code class="replaceable">[ <a href="./aws-properties-ec2-ec2fleet-fleetlaunchtemplateconfigrequest.html">FleetLaunchTemplateConfigRequest</a>, ... ]</code>,
      &quot;<a href="#cfn-ec2-ec2fleet-ondemandoptions">OnDemandOptions</a>&quot; : <code class="replaceable"><a href="./aws-properties-ec2-ec2fleet-ondemandoptionsrequest.html">OnDemandOptionsRequest</a></code>,
      &quot;<a href="#cfn-ec2-ec2fleet-replaceunhealthyinstances">ReplaceUnhealthyInstances</a>&quot; : <code class="replaceable">Boolean</code>,
      &quot;<a href="#cfn-ec2-ec2fleet-spotoptions">SpotOptions</a>&quot; : <code class="replaceable"><a href="./aws-properties-ec2-ec2fleet-spotoptionsrequest.html">SpotOptionsRequest</a></code>,
      &quot;<a href="#cfn-ec2-ec2fleet-tagspecifications">TagSpecifications</a>&quot; : <code class="replaceable">[ <a href="./aws-properties-ec2-ec2fleet-tagspecification.html">TagSpecification</a>, ... ]</code>,
      &quot;<a href="#cfn-ec2-ec2fleet-targetcapacityspecification">TargetCapacitySpecification</a>&quot; : <code class="replaceable"><a href="./aws-properties-ec2-ec2fleet-targetcapacityspecificationrequest.html">TargetCapacitySpecificationRequest</a></code>,
      &quot;<a href="#cfn-ec2-ec2fleet-terminateinstanceswithexpiration">TerminateInstancesWithExpiration</a>&quot; : <code class="replaceable">Boolean</code>,
      &quot;<a href="#cfn-ec2-ec2fleet-type">Type</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-ec2-ec2fleet-validfrom">ValidFrom</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-ec2-ec2fleet-validuntil">ValidUntil</a>&quot; : <code class="replaceable">String</code>
    }
}
</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h3 id="aws-resource-ec2-ec2fleet-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::EC2::EC2Fleet
Properties: 
  <a href="#cfn-ec2-ec2fleet-excesscapacityterminationpolicy">ExcessCapacityTerminationPolicy</a>: <code class="replaceable">String</code>
  <a href="#cfn-ec2-ec2fleet-launchtemplateconfigs">LaunchTemplateConfigs</a>: <code class="replaceable">
    - <a href="./aws-properties-ec2-ec2fleet-fleetlaunchtemplateconfigrequest.html">FleetLaunchTemplateConfigRequest</a></code>
  <a href="#cfn-ec2-ec2fleet-ondemandoptions">OnDemandOptions</a>: <code class="replaceable">
    <a href="./aws-properties-ec2-ec2fleet-ondemandoptionsrequest.html">OnDemandOptionsRequest</a></code>
  <a href="#cfn-ec2-ec2fleet-replaceunhealthyinstances">ReplaceUnhealthyInstances</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-ec2-ec2fleet-spotoptions">SpotOptions</a>: <code class="replaceable">
    <a href="./aws-properties-ec2-ec2fleet-spotoptionsrequest.html">SpotOptionsRequest</a></code>
  <a href="#cfn-ec2-ec2fleet-tagspecifications">TagSpecifications</a>: <code class="replaceable">
    - <a href="./aws-properties-ec2-ec2fleet-tagspecification.html">TagSpecification</a></code>
  <a href="#cfn-ec2-ec2fleet-targetcapacityspecification">TargetCapacitySpecification</a>: <code class="replaceable">
    <a href="./aws-properties-ec2-ec2fleet-targetcapacityspecificationrequest.html">TargetCapacitySpecificationRequest</a></code>
  <a href="#cfn-ec2-ec2fleet-terminateinstanceswithexpiration">TerminateInstancesWithExpiration</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-ec2-ec2fleet-type">Type</a>: <code class="replaceable">String</code>
  <a href="#cfn-ec2-ec2fleet-validfrom">ValidFrom</a>: <code class="replaceable">String</code>
  <a href="#cfn-ec2-ec2fleet-validuntil">ValidUntil</a>: <code class="replaceable">String</code>
</code></pre></div>
                                 <h2 id="aws-resource-ec2-ec2fleet-properties">Properties</h2>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="cfn-ec2-ec2fleet-excesscapacityterminationpolicy"></a><span class="term"><code class="code">ExcessCapacityTerminationPolicy</code></span></dt>
                                       <dd>
                                          
                                          <p>Indicates whether running instances should be terminated if the total target capacity
                                             of
                                             the EC2 Fleet is decreased below the current size of the EC2 Fleet.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Allowed values</em>: <code class="code">no-termination | termination</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-ec2-ec2fleet-launchtemplateconfigs"></a><span class="term"><code class="code">LaunchTemplateConfigs</code></span></dt>
                                       <dd>
                                          
                                          <p>The configuration for the EC2 Fleet.</p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: List of <a href="./aws-properties-ec2-ec2fleet-fleetlaunchtemplateconfigrequest.html">FleetLaunchTemplateConfigRequest</a></p>
                                          <p><em>Maximum</em>: <code class="code">50</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-ec2-ec2fleet-ondemandoptions"></a><span class="term"><code class="code">OnDemandOptions</code></span></dt>
                                       <dd>
                                          
                                          <p>Describes the configuration of On-Demand Instances in an EC2 Fleet.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-ec2-ec2fleet-ondemandoptionsrequest.html">OnDemandOptionsRequest</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-ec2-ec2fleet-replaceunhealthyinstances"></a><span class="term"><code class="code">ReplaceUnhealthyInstances</code></span></dt>
                                       <dd>
                                          
                                          <p>Indicates whether EC2 Fleet should replace unhealthy instances.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: Boolean
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-ec2-ec2fleet-spotoptions"></a><span class="term"><code class="code">SpotOptions</code></span></dt>
                                       <dd>
                                          
                                          <p>Describes the configuration of Spot Instances in an EC2 Fleet.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-ec2-ec2fleet-spotoptionsrequest.html">SpotOptionsRequest</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-ec2-ec2fleet-tagspecifications"></a><span class="term"><code class="code">TagSpecifications</code></span></dt>
                                       <dd>
                                          
                                          <p>The key-value pair for tagging the EC2 Fleet request on creation. The value for
                                             <code class="code">ResourceType</code> must be <code class="code">fleet</code>, otherwise the fleet request fails.
                                             To tag instances at launch, specify the tags in the <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-launch-templates.html#create-launch-template">launch
                                                template</a>. For information about tagging after launch, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Using_Tags.html#tag-resources">Tagging Your
                                                Resources</a>. 
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of <a href="./aws-properties-ec2-ec2fleet-tagspecification.html">TagSpecification</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-ec2-ec2fleet-targetcapacityspecification"></a><span class="term"><code class="code">TargetCapacitySpecification</code></span></dt>
                                       <dd>
                                          
                                          <p>The number of units to request.</p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-ec2-ec2fleet-targetcapacityspecificationrequest.html">TargetCapacitySpecificationRequest</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-ec2-ec2fleet-terminateinstanceswithexpiration"></a><span class="term"><code class="code">TerminateInstancesWithExpiration</code></span></dt>
                                       <dd>
                                          
                                          <p>Indicates whether running instances should be terminated when the EC2 Fleet expires.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: Boolean
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-ec2-ec2fleet-type"></a><span class="term"><code class="code">Type</code></span></dt>
                                       <dd>
                                          
                                          <p>The type of the request. By default, the EC2 Fleet places an asynchronous request
                                             for your
                                             desired capacity, and maintains it by replenishing interrupted Spot Instances
                                             (<code class="code">maintain</code>). A value of <code class="code">instant</code> places a synchronous one-time
                                             request, and returns errors for any instances that could not be launched. A value
                                             of
                                             <code class="code">request</code> places an asynchronous one-time request without maintaining
                                             capacity or submitting requests in alternative capacity pools if capacity is unavailable.
                                             For more information, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-fleet-configuration-strategies.html#ec2-fleet-request-type">EC2 Fleet
                                                Request Types</a> in the <em>Amazon Elastic Compute Cloud User Guide</em>.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Allowed values</em>: <code class="code">instant | maintain | request</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-ec2-ec2fleet-validfrom"></a><span class="term"><code class="code">ValidFrom</code></span></dt>
                                       <dd>
                                          
                                          <p>The start date and time of the request, in UTC format (for example,
                                             <em>YYYY</em>-<em>MM</em>-<em>DD</em>T<em>HH</em>:<em>MM</em>:<em>SS</em>Z).
                                             The default is to start fulfilling the request immediately.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-ec2-ec2fleet-validuntil"></a><span class="term"><code class="code">ValidUntil</code></span></dt>
                                       <dd>
                                          
                                          <p>The end date and time of the request, in UTC format (for example,
                                             <em>YYYY</em>-<em>MM</em>-<em>DD</em>T<em>HH</em>:<em>MM</em>:<em>SS</em>Z).
                                             At this point, no new EC2 Fleet requests are placed or able to fulfill the request.
                                             If no value is specified, the request remains until you cancel it.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                    </dl>
                                 </div>
                                 <h2 id="aws-resource-ec2-ec2fleet-return-values">Return values</h2>
                                 <h3 id="aws-resource-ec2-ec2fleet-return-values-ref">Ref</h3>
                                 <p>When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the fleet ID, such as <code class="code">fleet-1fe24079-d272-4023-8e7c-70e10784cb0e</code>.
                                 </p>
                                 <p>For more information about using the <code class="code">Ref</code> function, see <a href="intrinsic-function-reference-ref.html">Ref</a>.
                                 </p>
                                 <h2 id="aws-resource-ec2-ec2fleet--seealso">See also</h2>
                                 <div class="itemizedlist">
                                    				         
                                    			      
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          					          
                                          <p>
                                             <a href="https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_CreateFleet.html">CreateFleet</a> in the <em>Amazon EC2 API Reference</em>
                                             
                                          </p>
                                          				        
                                       </li>
                                    </ul>
                                 </div>
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning"> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the AWS Documentation, Javascript must be
                                                enabled. Please refer to your browser&apos;s Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div></div>
</body>
</html>