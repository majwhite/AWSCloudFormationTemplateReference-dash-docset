<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <h1 class="topictitle" id="aws-properties-servicediscovery-service-dnsconfig">AWS::ServiceDiscovery::Service DnsConfig</h1><p>A complex type that contains information about the Amazon Route 53 DNS records that
                        you want AWS Cloud Map to create when you register an instance.
                     </p><h2 id="aws-properties-servicediscovery-service-dnsconfig-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="aws-properties-servicediscovery-service-dnsconfig-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
  &quot;<a href="#cfn-servicediscovery-service-dnsconfig-dnsrecords">DnsRecords</a>&quot; : <em class="replaceable"><code>[ <a href="aws-properties-servicediscovery-service-dnsrecord.html">DnsRecord</a>, ... ]</code></em>,
  &quot;<a href="#cfn-servicediscovery-service-dnsconfig-namespaceid">NamespaceId</a>&quot; : <em class="replaceable"><code>String</code></em>,
  &quot;<a href="#cfn-servicediscovery-service-dnsconfig-routingpolicy">RoutingPolicy</a>&quot; : <em class="replaceable"><code>String</code></em>
}
</code></pre></div><div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="aws-properties-servicediscovery-service-dnsconfig-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="yaml ">  <a href="#cfn-servicediscovery-service-dnsconfig-dnsrecords">DnsRecords</a>: <em class="replaceable"><code>
    - <a href="aws-properties-servicediscovery-service-dnsrecord.html">DnsRecord</a></code></em>
  <a href="#cfn-servicediscovery-service-dnsconfig-namespaceid">NamespaceId</a>: <em class="replaceable"><code>String</code></em>
  <a href="#cfn-servicediscovery-service-dnsconfig-routingpolicy">RoutingPolicy</a>: <em class="replaceable"><code>String</code></em>
</code></pre></div><h2 id="aws-properties-servicediscovery-service-dnsconfig-properties">Properties</h2><div class="variablelist">
                        <dl>
                           <dt><a id="cfn-servicediscovery-service-dnsconfig-dnsrecords"></a><span class="term"><code class="code">DnsRecords</code></span></dt>
                           <dd>
                              		       
                              <p>An array that contains one <code class="code">DnsRecord</code> object for each Route 53 DNS record that you want AWS Cloud Map to create 
                                 			when you register an instance.
                              </p>
                              	     
                              <p><em>Required</em>: Yes
                              </p>
                              <p><em>Type</em>: List of <a href="aws-properties-servicediscovery-service-dnsrecord.html">DnsRecord</a></p>
                              <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                           <dt><a id="cfn-servicediscovery-service-dnsconfig-namespaceid"></a><span class="term"><code class="code">NamespaceId</code></span></dt>
                           <dd>
                              		       
                              <p>The ID of the namespace to use for DNS configuration.</p>
                              	     
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Maximum</em>: <code class="code">64</code></p>
                              <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                           </dd>
                           <dt><a id="cfn-servicediscovery-service-dnsconfig-routingpolicy"></a><span class="term"><code class="code">RoutingPolicy</code></span></dt>
                           <dd>
                              		       
                              <p>The routing policy that you want to apply to all Route 53 DNS records that AWS Cloud
                                 Map creates when you register an instance and 
                                 			specify this service.
                              </p>
                              			
                              			      
                              <div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>If you want to use this service to register instances that create alias records, specify
                                    <code class="code">WEIGHTED</code> 
                                    					for the routing policy.
                                 </p>
                              </div>
                              		
                              		       
                              <p>You can specify the following values:</p>
                              		
                              		       
                              <p>
                                 <b>MULTIVALUE</b>
                                 
                              </p>
                              		       
                              <p>If you define a health check for the service and the health check is healthy, Route
                                 53 returns the applicable value for up to eight instances.
                              </p>
                              		       
                              <p>For example, suppose the service includes configurations for one A record and a health
                                 check, and you use the service to register 10 instances. 
                                 			Route 53 responds to DNS queries with IP addresses for up to eight healthy instances.
                                 If fewer than eight instances are healthy, Route 53 responds to 
                                 			every DNS query with the IP addresses for all of the healthy instances.
                              </p>
                              		       
                              <p>If you don&apos;t define a health check for the service, Route 53 assumes that all instances
                                 are healthy and returns the values for up to eight instances.
                              </p>
                              		       
                              <p>For more information about the multivalue routing policy, see 
                                 			<a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/routing-policy.html#routing-policy-multivalue">Multivalue Answer Routing</a> in the 
                                 			<em>Route 53 Developer Guide</em>.
                              </p>
                              		
                              		       
                              <p>
                                 <b>WEIGHTED</b>
                                 
                              </p>
                              		       
                              <p>Route 53 returns the applicable value from one randomly selected instance from among
                                 the instances that you registered using the same service. 
                                 			Currently, all records have the same weight, so you can&apos;t route more or less traffic
                                 to any instances.
                              </p>
                              		       
                              <p>For example, suppose the service includes configurations for one A record and a health
                                 check, and you use the service to register 10 instances. 
                                 			Route 53 responds to DNS queries with the IP address for one randomly selected
                                 instance from among the healthy instances. If no instances are healthy, 
                                 			Route 53 responds to DNS queries as if all of the instances were healthy.
                              </p>
                              		       
                              <p>If you don&apos;t define a health check for the service, Route 53 assumes that all instances
                                 are healthy and returns the applicable value for one 
                                 			randomly selected instance.
                              </p>
                              		       
                              <p>For more information about the weighted routing policy, see 
                                 			<a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/routing-policy.html#routing-policy-weighted">Weighted Routing</a> in the 
                                 			<em>Route 53 Developer Guide</em>.
                              </p>
                              
                              	     
                              <p><em>Required</em>: No
                              </p>
                              <p><em>Type</em>: String
                              </p>
                              <p><em>Allowed Values</em>: <code class="code">MULTIVALUE | WEIGHTED</code></p>
                              <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                           </dd>
                        </dl>
                     </div><h2 id="aws-properties-servicediscovery-service-dnsconfig--seealso">See Also</h2><div class="itemizedlist">
                        				
                        			
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              					
                              <p>
                                 						<a href="https://docs.aws.amazon.com/cloud-map/latest/api/API_DnsConfig.html">DnsConfig</a> 
                                 						in the <em>AWS Cloud Map API Reference</em>
                                 					
                              </p>
                              				
                           </li>
                        </ul>
                     </div><div id="marketing-target"><span class="close-button"></span><div class="marketing-title" id="marketing-title"></div>
                        <div class="marketing-description"><span id="marketing-description"></span><span id="marketing-cta"></span></div>
                     </div></div>
</body>
</html>