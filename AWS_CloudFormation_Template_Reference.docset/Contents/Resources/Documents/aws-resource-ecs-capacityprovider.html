<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="aws-resource-ecs-capacityprovider">AWS::ECS::CapacityProvider</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>The <code class="code">AWS::ECS::CapacityProvider</code> resource creates an Amazon Elastic
                                    Container Service (Amazon ECS) capacity provider. Capacity providers are associated
                                    with
                                    an Amazon ECS cluster and are used in capacity provider strategies to facilitate cluster
                                    auto scaling.
                                 </p>
                                 <p>Only capacity providers using an Auto Scaling group can be created. Amazon ECS tasks
                                    on AWS Fargate use the <code class="code">FARGATE</code> and <code class="code">FARGATE_SPOT</code> capacity
                                    providers which are already created and available to all accounts in Regions supported
                                    by AWS Fargate.
                                 </p>
                                 <h2 id="aws-resource-ecs-capacityprovider-syntax">Syntax</h2>
                                 <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h3 id="aws-resource-ecs-capacityprovider-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;Type&quot; : &quot;AWS::ECS::CapacityProvider&quot;,
  &quot;Properties&quot; : <span>{</span>
      &quot;<a href="#cfn-ecs-capacityprovider-autoscalinggroupprovider">AutoScalingGroupProvider</a>&quot; : <code class="replaceable"><a href="./aws-properties-ecs-capacityprovider-autoscalinggroupprovider.html">AutoScalingGroupProvider</a></code>,
      &quot;<a href="#cfn-ecs-capacityprovider-name">Name</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-ecs-capacityprovider-tags">Tags</a>&quot; : <code class="replaceable">[ <a href="aws-properties-resource-tags.html">Tag</a>, ... ]</code>
    }
}
</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h3 id="aws-resource-ecs-capacityprovider-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::ECS::CapacityProvider
Properties: 
  <a href="#cfn-ecs-capacityprovider-autoscalinggroupprovider">AutoScalingGroupProvider</a>: <code class="replaceable">
    <a href="./aws-properties-ecs-capacityprovider-autoscalinggroupprovider.html">AutoScalingGroupProvider</a></code>
  <a href="#cfn-ecs-capacityprovider-name">Name</a>: <code class="replaceable">String</code>
  <a href="#cfn-ecs-capacityprovider-tags">Tags</a>: <code class="replaceable">
    - <a href="aws-properties-resource-tags.html">Tag</a></code>
</code></pre></div>
                                 <h2 id="aws-resource-ecs-capacityprovider-properties">Properties</h2>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="cfn-ecs-capacityprovider-autoscalinggroupprovider"></a><span class="term"><code class="code">AutoScalingGroupProvider</code></span></dt>
                                       <dd>
                                          		       
                                          <p>The Auto Scaling group settings for the capacity provider.</p>
                                          	     
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-ecs-capacityprovider-autoscalinggroupprovider.html">AutoScalingGroupProvider</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-ecs-capacityprovider-name"></a><span class="term"><code class="code">Name</code></span></dt>
                                       <dd>
                                          		       
                                          <p>The name of the capacity provider.</p>
                                          	     
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-ecs-capacityprovider-tags"></a><span class="term"><code class="code">Tags</code></span></dt>
                                       <dd>
                                          		       
                                          <p>The metadata that you apply to the capacity provider to help you categorize and
                                             			organize it. Each tag consists of a key and an optional value, both of which you
                                             			define.
                                          </p> 
                                          
                                          <p>The following basic restrictions apply to tags:</p>
                                          
                                          <div class="itemizedlist">
                                              
                                              
                                              
                                              
                                              
                                              
                                              
                                             
                                             <ul class="itemizedlist" type="disc">
                                                <li class="listitem">
                                                   
                                                   <p>Maximum number of tags per resource - 50</p>
                                                   
                                                </li>
                                                <li class="listitem">
                                                   
                                                   <p>For each resource, each tag key must be unique, and each tag key can have only
                                                      one value.
                                                   </p>
                                                   
                                                </li>
                                                <li class="listitem">
                                                   
                                                   <p>Maximum key length - 128 Unicode characters in UTF-8</p>
                                                   
                                                </li>
                                                <li class="listitem">
                                                   
                                                   <p>Maximum value length - 256 Unicode characters in UTF-8</p>
                                                   
                                                </li>
                                                <li class="listitem">
                                                   
                                                   <p>If your tagging schema is used across multiple services and resources,
                                                      remember that other services may have restrictions on allowed characters.
                                                      Generally allowed characters are: letters, numbers, and spaces representable in
                                                      UTF-8, and the following characters: + - = . _ : / @.
                                                   </p>
                                                   
                                                </li>
                                                <li class="listitem">
                                                   
                                                   <p>Tag keys and values are case-sensitive.</p>
                                                   
                                                </li>
                                                <li class="listitem">
                                                   
                                                   <p>Do not use <code class="code">aws:</code>, <code class="code">AWS:</code>, or any upper or lowercase
                                                      combination of such as a prefix for either keys or values as it is reserved for
                                                      AWS use. You cannot edit or delete tag keys or values with this prefix. Tags with
                                                      this prefix do not count against your tags per resource limit.
                                                   </p>
                                                   
                                                </li>
                                             </ul>
                                          </div> 
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of <a href="aws-properties-resource-tags.html">Tag</a></p>
                                          <p><em>Maximum</em>: <code class="code">50</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                    </dl>
                                 </div>
                                 <h2 id="aws-resource-ecs-capacityprovider-return-values">Return values</h2>
                                 <h3 id="aws-resource-ecs-capacityprovider-return-values-ref">Ref</h3>
                                 <p>
                                    When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the resource name.
                                 </p>
                                 <p>In the following example, the <code class="code">Ref</code> function returns the name of the
                                    capacity provider, such as <code class="code">MyStack-MyCapacityProvider-JrwYBzxovGfr</code>.
                                 </p>
                                 <p>
                                    <code class="code"><span>{</span> &quot;Ref&quot;: &quot;MyCapacityProvider&quot; }</code>
                                    
                                 </p>
                                 <p>For more information about using the <code class="code">Ref</code> function, see <a href="intrinsic-function-reference-ref.html">Ref</a>.
                                 </p>
                                 <h2 id="aws-resource-ecs-capacityprovider--examples">Examples</h2>
                                 <h3 id="aws-resource-ecs-capacityprovider--examples--Creating_an_Amazon_ECS_capacity_provider">Creating an Amazon ECS capacity provider</h3>
                                 <p>The following example creates a capacity provider that uses the Auto Scaling
                                    group <code class="code">MyAutoScalingGroup</code>, has managed scaling and managed
                                    termination protection enabled. This configuration is used for Amazon ECS
                                    cluster auto scaling.
                                 </p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-resource-ecs-capacityprovider--examples--Creating_an_Amazon_ECS_capacity_provider--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    &quot;AWSTemplateFormatVersion&quot;: &quot;2010-09-09&quot;,
    &quot;Resources&quot;: <span>{</span>
        &quot;ECSCapacityProvider&quot;: <span>{</span>
            &quot;Type&quot;: &quot;AWS::ECS::CapacityProvider&quot;,
            &quot;Properties&quot;: <span>{</span>
                &quot;AutoScalingGroupProvider&quot;: <span>{</span>
                    &quot;AutoScalingGroupArn&quot;: &quot;arn:aws:autoscaling:us-west-2:123456789012:autoScalingGroup:a1b2c3d4-5678-90ab-cdef-EXAMPLE11111:autoScalingGroupName/MyAutoScalingGroup&quot;,
                    &quot;ManagedScaling&quot;: <span>{</span>
                        &quot;MaximumScalingStepSize&quot;: 10,
                        &quot;MinimumScalingStepSize&quot;: 1,
                        &quot;Status&quot;: &quot;ENABLED&quot;,
                        &quot;TargetCapacity&quot;: 100
                    },
                    &quot;ManagedTerminationProtection&quot;: &quot;ENABLED&quot;
                },
                &quot;Tags&quot;: [
                    <span>{</span>
                        &quot;Key&quot;: &quot;environment&quot;,
                        &quot;Value&quot;: &quot;production&quot;
                    }
                ]
            }
        }
    }
}</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-resource-ecs-capacityprovider--examples--Creating_an_Amazon_ECS_capacity_provider--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: 2010-09-09
Resources:
  ECSCapacityProvider:
    Type: AWS::ECS::CapacityProvider
    Properties:
        AutoScalingGroupProvider:
            AutoScalingGroupArn: arn:aws:autoscaling:us-west-2:123456789012:autoScalingGroup:a1b2c3d4-5678-90ab-cdef-EXAMPLE11111:autoScalingGroupName/MyAutoScalingGroup
            ManagedScaling:
                MaximumScalingStepSize: 10
                MinimumScalingStepSize: 1
                Status: ENABLED
                TargetCapacity: 100
            ManagedTerminationProtection: ENABLED
        Tags:
            - Key: environment
              Value: production</code></pre></div>
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                                 <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning"> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the AWS Documentation, Javascript must be
                                                enabled. Please refer to your browser&apos;s Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div></div>
</body>
</html>