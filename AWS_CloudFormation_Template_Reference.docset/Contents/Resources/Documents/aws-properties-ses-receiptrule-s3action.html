<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="aws-properties-ses-receiptrule-s3action">AWS::SES::ReceiptRule S3Action</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>When included in a receipt rule, this action saves the received message to an Amazon
                                    Simple Storage Service (Amazon S3) bucket and, optionally, publishes a notification
                                    to
                                    Amazon Simple Notification Service (Amazon SNS).
                                 </p>
                                 <p>To enable Amazon SES to write emails to your Amazon S3 bucket, use an AWS KMS key
                                    to
                                    encrypt your emails, or publish to an Amazon SNS topic of another account, Amazon
                                    SES
                                    must have permission to access those resources. For information about giving
                                    permissions, see the <a href="https://docs.aws.amazon.com/ses/latest/DeveloperGuide/receiving-email-permissions.html">Amazon SES
                                       Developer Guide</a>.
                                 </p>
                                 <div class="awsdocs-note">
                                    <div class="awsdocs-note-title">
                                       <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                    <div class="awsdocs-note-text">
                                       <p>When you save your emails to an Amazon S3 bucket, the maximum email size
                                          (including headers) is 30 MB. Emails that are larger than 30 MB aren&apos;t saved.
                                       </p>
                                    </div>
                                 </div>
                                 <p>For information about specifying Amazon S3 actions in receipt rules, see the <a href="https://docs.aws.amazon.com/ses/latest/DeveloperGuide/receiving-email-action-s3.html">Amazon SES Developer Guide</a>.
                                 </p>
                                 <h2 id="aws-properties-ses-receiptrule-s3action-syntax">Syntax</h2>
                                 <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h3 id="aws-properties-ses-receiptrule-s3action-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;<a href="#cfn-ses-receiptrule-s3action-bucketname">BucketName</a>&quot; : <code class="replaceable">String</code>,
  &quot;<a href="#cfn-ses-receiptrule-s3action-kmskeyarn">KmsKeyArn</a>&quot; : <code class="replaceable">String</code>,
  &quot;<a href="#cfn-ses-receiptrule-s3action-objectkeyprefix">ObjectKeyPrefix</a>&quot; : <code class="replaceable">String</code>,
  &quot;<a href="#cfn-ses-receiptrule-s3action-topicarn">TopicArn</a>&quot; : <code class="replaceable">String</code>
}
</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h3 id="aws-properties-ses-receiptrule-s3action-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">  <a href="#cfn-ses-receiptrule-s3action-bucketname">BucketName</a>: <code class="replaceable">String</code>
  <a href="#cfn-ses-receiptrule-s3action-kmskeyarn">KmsKeyArn</a>: <code class="replaceable">String</code>
  <a href="#cfn-ses-receiptrule-s3action-objectkeyprefix">ObjectKeyPrefix</a>: <code class="replaceable">String</code>
  <a href="#cfn-ses-receiptrule-s3action-topicarn">TopicArn</a>: <code class="replaceable">String</code>
</code></pre></div>
                                 <h2 id="aws-properties-ses-receiptrule-s3action-properties">Properties</h2>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="cfn-ses-receiptrule-s3action-bucketname"></a><span class="term"><code class="code">BucketName</code></span></dt>
                                       <dd>
                                          
                                          <p>The name of the Amazon S3 bucket that you want to send incoming mail to.</p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-ses-receiptrule-s3action-kmskeyarn"></a><span class="term"><code class="code">KmsKeyArn</code></span></dt>
                                       <dd>
                                          
                                          <p>The customer master key that Amazon SES should use to encrypt your emails before
                                             saving them to the Amazon S3 bucket. You can use the default master key or a custom
                                             master key that you created in AWS KMS as follows:
                                          </p>
                                          
                                          <div class="itemizedlist">
                                              
                                              
                                             
                                             <ul class="itemizedlist" type="disc">
                                                <li class="listitem">
                                                   
                                                   <p>To use the default master key, provide an ARN in the form of
                                                      <code class="code">arn:aws:kms:REGION:ACCOUNT-ID-WITHOUT-HYPHENS:alias/aws/ses</code>.
                                                      For example, if your AWS account ID is 123456789012 and you want to use the
                                                      default master key in the US West (Oregon) Region, the ARN of the default master
                                                      key would be <code class="code">arn:aws:kms:us-west-2:123456789012:alias/aws/ses</code>. If
                                                      you use the default master key, you don&apos;t need to perform any extra steps to
                                                      give Amazon SES permission to use the key.
                                                   </p>
                                                   
                                                </li>
                                                <li class="listitem">
                                                   
                                                   <p>To use a custom master key that you created in AWS KMS, provide the ARN of the
                                                      master key and ensure that you add a statement to your key&apos;s policy to give
                                                      Amazon SES permission to use it. For more information about giving permissions,
                                                      see the <a href="https://docs.aws.amazon.com/ses/latest/DeveloperGuide/receiving-email-permissions.html">Amazon SES
                                                         Developer Guide</a>.
                                                   </p>
                                                   
                                                </li>
                                             </ul>
                                          </div>
                                          
                                          <p>For more information about key policies, see the <a href="https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html">AWS KMS Developer Guide</a>. If
                                             you don&apos;t specify a master key, Amazon SES doesn&apos;t encrypt your emails.
                                          </p>
                                          
                                          <div class="awsdocs-note awsdocs-important">
                                             <div class="awsdocs-note-title">
                                                <awsui-icon name="status-warning" variant="error"></awsui-icon><span>Important</span></div>
                                             <div class="awsdocs-note-text">
                                                <p>Your mail is encrypted by Amazon SES using the Amazon S3 encryption client before
                                                   the mail is submitted to Amazon S3 for storage. It isn&apos;t encrypted using Amazon S3
                                                   server-side encryption. This means that you must use the Amazon S3 encryption client
                                                   to decrypt the email after retrieving it from Amazon S3, as the service has no
                                                   access to use your AWS KMS keys for decryption. This encryption client is currently
                                                   available with the <a href="http://aws.amazon.com/sdk-for-java/" rel="noopener noreferrer" target="_blank"><span>AWS SDK for
                                                         Java</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> and <a href="http://aws.amazon.com/sdk-for-ruby/" rel="noopener noreferrer" target="_blank"><span>AWS SDK for
                                                         Ruby</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> only. For more information about client-side encryption using AWS
                                                   KMS master keys, see the <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingClientSideEncryption.html">Amazon S3 Developer
                                                      Guide</a>.
                                                </p>
                                             </div>
                                          </div>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-ses-receiptrule-s3action-objectkeyprefix"></a><span class="term"><code class="code">ObjectKeyPrefix</code></span></dt>
                                       <dd>
                                          
                                          <p>The key prefix of the Amazon S3 bucket. The key prefix is similar to a directory name
                                             that
                                             enables you to store similar data under the same directory in a bucket.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-ses-receiptrule-s3action-topicarn"></a><span class="term"><code class="code">TopicArn</code></span></dt>
                                       <dd>
                                          
                                          <p>The ARN of the Amazon SNS topic to notify when the message is saved to the Amazon
                                             S3 bucket. You
                                             can find the ARN of a topic by using the <a href="https://docs.aws.amazon.com/sns/latest/api/API_ListTopics.html">ListTopics</a> operation in the Amazon SNS
                                             API.
                                          </p>
                                          
                                          <p>For more information about Amazon SNS topics, see the <a href="https://docs.aws.amazon.com/sns/latest/dg/CreateTopic.html">Amazon SNS Developer Guide</a>.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                    </dl>
                                 </div>
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                                 <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning"> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the AWS Documentation, Javascript must be
                                                enabled. Please refer to your browser&apos;s Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div></div>
</body>
</html>