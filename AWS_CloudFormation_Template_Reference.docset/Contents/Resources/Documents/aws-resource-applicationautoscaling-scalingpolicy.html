<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div id="main-content" class="awsui-util-container">
            <div id="main-col-body">
               <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
               <awsdocs-table-manager id="awsdocs-table-manager"></awsdocs-table-manager>
               <h1 class="topictitle" id="aws-resource-applicationautoscaling-scalingpolicy">AWS::ApplicationAutoScaling::ScalingPolicy</h1>
               <div class="awsdocs-page-header-container">
                  <awsdocs-page-header></awsdocs-page-header>
                  <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
               </div>
               <p>The <code class="code">AWS::ApplicationAutoScaling::ScalingPolicy</code> resource defines a scaling
                  policy that Application Auto Scaling uses to adjust your application resources. 
               </p>
               <p>For more information, see <a href="https://docs.aws.amazon.com/autoscaling/application/APIReference/API_PutScalingPolicy.html">PutScalingPolicy</a> in the <em>Application Auto Scaling API
                     Reference</em>. For more information about scaling policies, see the <a href="https://docs.aws.amazon.com/autoscaling/application/userguide/what-is-application-auto-scaling.html">Application
                     Auto Scaling User Guide</a>.
               </p>
               <h2 id="aws-resource-applicationautoscaling-scalingpolicy-syntax">Syntax</h2>
               <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
               <div id="JSON" name="JSON" class="section langfilter">
                  <h3 id="aws-resource-applicationautoscaling-scalingpolicy-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;Type&quot; : &quot;AWS::ApplicationAutoScaling::ScalingPolicy&quot;,
  &quot;Properties&quot; : <span>{</span>
      &quot;<a href="#cfn-applicationautoscaling-scalingpolicy-policyname">PolicyName</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-applicationautoscaling-scalingpolicy-policytype">PolicyType</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-applicationautoscaling-scalingpolicy-resourceid">ResourceId</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-applicationautoscaling-scalingpolicy-scalabledimension">ScalableDimension</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-applicationautoscaling-scalingpolicy-scalingtargetid">ScalingTargetId</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-applicationautoscaling-scalingpolicy-servicenamespace">ServiceNamespace</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-applicationautoscaling-scalingpolicy-stepscalingpolicyconfiguration">StepScalingPolicyConfiguration</a>&quot; : <code class="replaceable"><a href="./aws-properties-applicationautoscaling-scalingpolicy-stepscalingpolicyconfiguration.html">StepScalingPolicyConfiguration</a></code>,
      &quot;<a href="#cfn-applicationautoscaling-scalingpolicy-targettrackingscalingpolicyconfiguration">TargetTrackingScalingPolicyConfiguration</a>&quot; : <code class="replaceable"><a href="./aws-properties-applicationautoscaling-scalingpolicy-targettrackingscalingpolicyconfiguration.html">TargetTrackingScalingPolicyConfiguration</a></code>
    }
}
</code></pre></div>
               <div id="YAML" name="YAML" class="section langfilter">
                  <h3 id="aws-resource-applicationautoscaling-scalingpolicy-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::ApplicationAutoScaling::ScalingPolicy
Properties: 
  <a href="#cfn-applicationautoscaling-scalingpolicy-policyname">PolicyName</a>: <code class="replaceable">String</code>
  <a href="#cfn-applicationautoscaling-scalingpolicy-policytype">PolicyType</a>: <code class="replaceable">String</code>
  <a href="#cfn-applicationautoscaling-scalingpolicy-resourceid">ResourceId</a>: <code class="replaceable">String</code>
  <a href="#cfn-applicationautoscaling-scalingpolicy-scalabledimension">ScalableDimension</a>: <code class="replaceable">String</code>
  <a href="#cfn-applicationautoscaling-scalingpolicy-scalingtargetid">ScalingTargetId</a>: <code class="replaceable">String</code>
  <a href="#cfn-applicationautoscaling-scalingpolicy-servicenamespace">ServiceNamespace</a>: <code class="replaceable">String</code>
  <a href="#cfn-applicationautoscaling-scalingpolicy-stepscalingpolicyconfiguration">StepScalingPolicyConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-applicationautoscaling-scalingpolicy-stepscalingpolicyconfiguration.html">StepScalingPolicyConfiguration</a></code>
  <a href="#cfn-applicationautoscaling-scalingpolicy-targettrackingscalingpolicyconfiguration">TargetTrackingScalingPolicyConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-applicationautoscaling-scalingpolicy-targettrackingscalingpolicyconfiguration.html">TargetTrackingScalingPolicyConfiguration</a></code>
</code></pre></div>
               <h2 id="aws-resource-applicationautoscaling-scalingpolicy-properties">Properties</h2>
               <div class="variablelist">
                  <dl>
                     <dt><a id="cfn-applicationautoscaling-scalingpolicy-policyname"></a><span class="term"><code class="code">PolicyName</code></span></dt>
                     <dd>
                        
                        <p>The name of the scaling policy.</p>
                        
                        <p><em>Required</em>: Yes
                        </p>
                        <p><em>Type</em>: String
                        </p>
                        <p><em>Minimum</em>: <code class="code">1</code></p>
                        <p><em>Maximum</em>: <code class="code">256</code></p>
                        <p><em>Pattern</em>: <code class="code">\p<span>{</span>Print}+</code></p>
                        <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                     </dd>
                     <dt><a id="cfn-applicationautoscaling-scalingpolicy-policytype"></a><span class="term"><code class="code">PolicyType</code></span></dt>
                     <dd>
                        
                        <p>The Application Auto Scaling policy type. </p>
                        
                        <p>The following policy types are supported: </p>
                        
                        <p><code class="code">TargetTrackingScaling</code>&#x2014;Not supported for Amazon EMR
                        </p>
                        
                        <p><code class="code">StepScaling</code>&#x2014;Not supported for DynamoDB, Comprehend, or Lambda
                        </p>
                        
                        <p><em>Required</em>: Yes
                        </p>
                        <p><em>Type</em>: String
                        </p>
                        <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                     </dd>
                     <dt><a id="cfn-applicationautoscaling-scalingpolicy-resourceid"></a><span class="term"><code class="code">ResourceId</code></span></dt>
                     <dd>
                        
                        <p>The unique resource identifier for the scalable target that this scaling policy applies
                           to. For valid values, see the <code class="code">ResourceId</code> parameter for <a href="https://docs.aws.amazon.com/autoscaling/application/APIReference/API_PutScalingPolicy.html">PutScalingPolicy</a> in the <em>Application Auto Scaling API
                              Reference</em>.
                        </p>
                        
                        <p>You must specify either the <code class="code">ResourceId</code>, <code class="code">ScalableDimension</code>, and
                           <code class="code">ServiceNamespace</code> properties, or the <code class="code">ScalingTargetId</code> property, but
                           not both.
                        </p>
                        
                        <p><em>Required</em>: Conditional
                        </p>
                        <p><em>Type</em>: String
                        </p>
                        <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                     </dd>
                     <dt><a id="cfn-applicationautoscaling-scalingpolicy-scalabledimension"></a><span class="term"><code class="code">ScalableDimension</code></span></dt>
                     <dd>
                        
                        <p>The scalable dimension of the scalable target that this scaling policy applies to.
                           The
                           scalable dimension contains the service namespace, resource type, and scaling property,
                           such
                           as <code class="code">ecs:service:DesiredCount</code> for the desired task count of an Amazon ECS service.
                           For valid values, see the <code class="code">ScalableDimension</code> parameter for <a href="https://docs.aws.amazon.com/autoscaling/application/APIReference/API_PutScalingPolicy.html">PutScalingPolicy</a> in the <em>Application Auto Scaling API
                              Reference</em>.
                        </p>
                        
                        <p>You must specify either the <code class="code">ResourceId</code>, <code class="code">ScalableDimension</code>, and
                           <code class="code">ServiceNamespace</code> properties, or the <code class="code">ScalingTargetId</code> property, but
                           not both.
                        </p>
                        
                        <p><em>Required</em>: Conditional
                        </p>
                        <p><em>Type</em>: String
                        </p>
                        <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                     </dd>
                     <dt><a id="cfn-applicationautoscaling-scalingpolicy-scalingtargetid"></a><span class="term"><code class="code">ScalingTargetId</code></span></dt>
                     <dd>
                        
                        <p>The AWS CloudFormation-generated ID of an Application Auto Scaling scalable target.
                           For
                           more information about the ID, see the Return Value section of the
                           <code class="code">AWS::ApplicationAutoScaling::ScalableTarget</code> resource.
                        </p>
                        
                        <p>You must specify either the <code class="code">ScalingTargetId</code> property, or the
                           <code class="code">ResourceId</code>, <code class="code">ScalableDimension</code>, and <code class="code">ServiceNamespace</code>
                           properties, but not both. 
                        </p>
                        
                        <p><em>Required</em>: Conditional
                        </p>
                        <p><em>Type</em>: String
                        </p>
                        <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                     </dd>
                     <dt><a id="cfn-applicationautoscaling-scalingpolicy-servicenamespace"></a><span class="term"><code class="code">ServiceNamespace</code></span></dt>
                     <dd>
                        
                        <p>The namespace of the AWS service that provides the resource or
                           <code class="code">custom-resource</code> for a resource provided by your own application or service. For
                           valid values, see the <code class="code">ServiceNamespace</code> parameter for <a href="https://docs.aws.amazon.com/autoscaling/application/APIReference/API_PutScalingPolicy.html">PutScalingPolicy</a> in the <em>Application Auto Scaling API
                              Reference</em>.
                        </p>
                        
                        <p>You must specify either the <code class="code">ResourceId</code>, <code class="code">ScalableDimension</code>, and
                           <code class="code">ServiceNamespace</code> properties, or the <code class="code">ScalingTargetId</code> property, but
                           not both.
                        </p>
                        
                        <p><em>Required</em>: Conditional
                        </p>
                        <p><em>Type</em>: String
                        </p>
                        <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                     </dd>
                     <dt><a id="cfn-applicationautoscaling-scalingpolicy-stepscalingpolicyconfiguration"></a><span class="term"><code class="code">StepScalingPolicyConfiguration</code></span></dt>
                     <dd>
                        
                        <p>A step scaling policy.</p>
                        
                        <p><em>Required</em>: No
                        </p>
                        <p><em>Type</em>: <a href="./aws-properties-applicationautoscaling-scalingpolicy-stepscalingpolicyconfiguration.html">StepScalingPolicyConfiguration</a></p>
                        <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                     </dd>
                     <dt><a id="cfn-applicationautoscaling-scalingpolicy-targettrackingscalingpolicyconfiguration"></a><span class="term"><code class="code">TargetTrackingScalingPolicyConfiguration</code></span></dt>
                     <dd>
                        
                        <p>A target tracking scaling policy.</p>
                        
                        <p><em>Required</em>: No
                        </p>
                        <p><em>Type</em>: <a href="./aws-properties-applicationautoscaling-scalingpolicy-targettrackingscalingpolicyconfiguration.html">TargetTrackingScalingPolicyConfiguration</a></p>
                        <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                     </dd>
                  </dl>
               </div>
               <h2 id="aws-resource-applicationautoscaling-scalingpolicy-return-values">Return Values</h2>
               <h3 id="aws-resource-applicationautoscaling-scalingpolicy-return-values-ref">Ref</h3>
               <p>When the logical ID of this resource is provided to the <code class="code">Ref</code> intrinsic
                  function, <code class="code">Ref</code> returns the Application Auto Scaling scaling policy Amazon Resource
                  Name (ARN). For example:
                  <code class="code">arn:aws:autoscaling:us-east-2:123456789012:scalingPolicy:12ab3c4d-56789-0ef1-2345-6ghi7jk8lm90:resource/ecs/service/ecsStack-MyECSCluster-AB12CDE3F4GH/ecsStack-MyECSService-AB12CDE3F4GH:policyName/MyStepPolicy</code>.
               </p>
               <p>For more information about using the <code class="code">Ref</code> function, see <a href="intrinsic-function-reference-ref.html">Ref</a>.
                  
               </p>
               <h2 id="aws-resource-applicationautoscaling-scalingpolicy--examples">Examples</h2>
               <p>The following examples create scaling policies for a scalable target that is registered
                  with Application Auto Scaling. For more information, see <a href="https://docs.aws.amazon.com/autoscaling/application/APIReference/API_PutScalingPolicy.html">PutScalingPolicy</a> in the <em>Application Auto Scaling API
                     Reference</em>.
               </p>
               <h3 id="aws-resource-applicationautoscaling-scalingpolicy--examples--Target_Tracking_Scaling_Policy_with_a_Predefined_Metric_Specification_for_an_Amazon_DynamoDB_Table">Target Tracking Scaling Policy with a Predefined Metric Specification for an Amazon
                  DynamoDB Table
               </h3>
               <p>This example both registers an <a href="aws-resource-dynamodb-table.html">AWS::DynamoDB::Table</a> as a scalable target and defines a
                  <code class="code">TargetTrackingScaling</code> scaling policy that scales the table&apos;s write capacity
                  (throughput) to maintain the target utilization (50%) based on the write capacity
                  utilization metric.
               </p>
               <div id="JSON" name="JSON" class="section langfilter">
                  <h4 id="aws-resource-applicationautoscaling-scalingpolicy--examples--Target_Tracking_Scaling_Policy_with_a_Predefined_Metric_Specification_for_an_Amazon_DynamoDB_Table--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;Resources&quot;:<span>{</span>
    &quot;DDBTable&quot;:<span>{</span>
      &quot;Type&quot;:&quot;AWS::DynamoDB::Table&quot;,
      &quot;Properties&quot;:<span>{</span>
        &quot;AttributeDefinitions&quot;:[
          <span>{</span>
            &quot;AttributeName&quot;:&quot;ArtistId&quot;,
            &quot;AttributeType&quot;:&quot;S&quot;
          },
          <span>{</span>
            &quot;AttributeName&quot;:&quot;Concert&quot;,
            &quot;AttributeType&quot;:&quot;S&quot;
          },
          <span>{</span>
            &quot;AttributeName&quot;:&quot;TicketSales&quot;,
            &quot;AttributeType&quot;:&quot;S&quot;
          }
        ],
        &quot;KeySchema&quot;:[
          <span>{</span>
            &quot;AttributeName&quot;:&quot;ArtistId&quot;,
            &quot;KeyType&quot;:&quot;HASH&quot;
          },
          <span>{</span>
            &quot;AttributeName&quot;:&quot;Concert&quot;,
            &quot;KeyType&quot;:&quot;RANGE&quot;
          }
        ],
        &quot;GlobalSecondaryIndexes&quot;:[
          <span>{</span>
            &quot;IndexName&quot;:&quot;GSI&quot;,
            &quot;KeySchema&quot;:[
              <span>{</span>
                &quot;AttributeName&quot;:&quot;TicketSales&quot;,
                &quot;KeyType&quot;:&quot;HASH&quot;
              }
            ],
            &quot;Projection&quot;:<span>{</span>
              &quot;ProjectionType&quot;:&quot;KEYS_ONLY&quot;
            },
            &quot;ProvisionedThroughput&quot;:<span>{</span>
              &quot;ReadCapacityUnits&quot;:5,
              &quot;WriteCapacityUnits&quot;:5
            }
          }
        ],
        &quot;ProvisionedThroughput&quot;:<span>{</span>
          &quot;ReadCapacityUnits&quot;:5,
          &quot;WriteCapacityUnits&quot;:5
        }
      }
    },
    &quot;WriteCapacityScalableTarget&quot;:<span>{</span>
      &quot;Type&quot;:&quot;AWS::ApplicationAutoScaling::ScalableTarget&quot;,
      &quot;Properties&quot;:<span>{</span>
        &quot;MaxCapacity&quot;:15,
        &quot;MinCapacity&quot;:5,
        &quot;RoleARN&quot;:&quot;arn:aws:iam::012345678910:role/aws-service-role/dynamodb.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_DynamoDBTable&quot;,
        &quot;ServiceNamespace&quot;:&quot;dynamodb&quot;,
        &quot;ScalableDimension&quot;:&quot;dynamodb:table:WriteCapacityUnits&quot;,
        &quot;ResourceId&quot;:<span>{</span>
          &quot;Fn::Join&quot;:[
            &quot;/&quot;,
            [
              &quot;table&quot;,
              <span>{</span>
                &quot;Ref&quot;:&quot;DDBTable&quot;
              }
            ]
          ]
        }
      }
    },
    &quot;WriteScalingPolicy&quot;:<span>{</span>
      &quot;Type&quot;:&quot;AWS::ApplicationAutoScaling::ScalingPolicy&quot;,
      &quot;Properties&quot;:<span>{</span>
        &quot;PolicyName&quot;:&quot;WriteAutoScalingPolicy&quot;,
        &quot;PolicyType&quot;:&quot;TargetTrackingScaling&quot;,
        &quot;ScalingTargetId&quot;:<span>{</span>
          &quot;Ref&quot;:&quot;WriteCapacityScalableTarget&quot;
        },
        &quot;TargetTrackingScalingPolicyConfiguration&quot;:<span>{</span>
          &quot;TargetValue&quot;:50.0,
          &quot;ScaleInCooldown&quot;:60,
          &quot;ScaleOutCooldown&quot;:60,
          &quot;PredefinedMetricSpecification&quot;:<span>{</span>
            &quot;PredefinedMetricType&quot;:&quot;DynamoDBWriteCapacityUtilization&quot;
          }
        }
      }
    }
  }
}</code></pre></div>
               <div id="YAML" name="YAML" class="section langfilter">
                  <h4 id="aws-resource-applicationautoscaling-scalingpolicy--examples--Target_Tracking_Scaling_Policy_with_a_Predefined_Metric_Specification_for_an_Amazon_DynamoDB_Table--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:
  DDBTable:
    Type: AWS::DynamoDB::Table
    Properties:
      AttributeDefinitions:
        - AttributeName: &quot;ArtistId&quot;
          AttributeType: &quot;S&quot;
        - AttributeName: &quot;Concert&quot;
          AttributeType: &quot;S&quot;
        - AttributeName: &quot;TicketSales&quot;
          AttributeType: &quot;S&quot;
      KeySchema:
        - AttributeName: &quot;ArtistId&quot;
          KeyType: &quot;HASH&quot;
        - AttributeName: &quot;Concert&quot;
          KeyType: &quot;RANGE&quot;
      GlobalSecondaryIndexes:
        - IndexName: &quot;GSI&quot;
          KeySchema:
            - AttributeName: &quot;TicketSales&quot;
              KeyType: &quot;HASH&quot;
          Projection:
            ProjectionType: &quot;KEYS_ONLY&quot;
          ProvisionedThroughput:
            ReadCapacityUnits: 5
            WriteCapacityUnits: 5
      ProvisionedThroughput:
        ReadCapacityUnits: 5
        WriteCapacityUnits: 5
  WriteCapacityScalableTarget:
    Type: AWS::ApplicationAutoScaling::ScalableTarget
    Properties:
      MaxCapacity: 15
      MinCapacity: 5
      RoleARN: arn:aws:iam::012345678910:role/aws-service-role/dynamodb.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_DynamoDBTable
      ServiceNamespace: dynamodb
      ScalableDimension: dynamodb:table:WriteCapacityUnits
      ResourceId: !Join
        - /
        - - table
          - !Ref DDBTable
  WriteScalingPolicy:
    Type: AWS::ApplicationAutoScaling::ScalingPolicy
    Properties:
      PolicyName: WriteAutoScalingPolicy
      PolicyType: TargetTrackingScaling
      ScalingTargetId: !Ref WriteCapacityScalableTarget
      TargetTrackingScalingPolicyConfiguration:
        TargetValue: 50.0
        ScaleInCooldown: 60
        ScaleOutCooldown: 60
        PredefinedMetricSpecification:
          PredefinedMetricType: DynamoDBWriteCapacityUtilization</code></pre></div>
               <h3 id="aws-resource-applicationautoscaling-scalingpolicy--examples--Target_Tracking_Scaling_Policy_for_Scale_Out_Only_for_an_ECS_Service">Target Tracking Scaling Policy for Scale Out Only for an ECS Service</h3>
               <p>The following example both registers an <a href="aws-resource-ecs-service.html">AWS::ECS::Service</a> as a scalable target and defines a
                  <code class="code">TargetTrackingScaling</code> scaling policy. The policy is used to add capacity to
                  the ECS service when the average CPU utilization metric exceeds the target utilization.
                  Because the
                  value of <code class="code">DisableScaleIn</code> is set to true, the target
                  tracking policy won&apos;t remove capacity from the scalable resource.
               </p>
               <div id="JSON" name="JSON" class="section langfilter">
                  <h4 id="aws-resource-applicationautoscaling-scalingpolicy--examples--Target_Tracking_Scaling_Policy_for_Scale_Out_Only_for_an_ECS_Service--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;AWSTemplateFormatVersion&quot;:&quot;2010-09-09&quot;,
  &quot;Description&quot;:&quot;Creating ECS service&quot;,
  &quot;Parameters&quot;:<span>{</span>
    &quot;AppName&quot;:<span>{</span>
      &quot;Type&quot;:&quot;String&quot;,
      &quot;Description&quot;:&quot;Name of app requiring ELB exposure&quot;,
      &quot;Default&quot;:&quot;simple-app&quot;
    },
    &quot;AppContainerPort&quot;:<span>{</span>
      &quot;Type&quot;:&quot;Number&quot;,
      &quot;Description&quot;:&quot;Container port of app requiring ELB exposure&quot;,
      &quot;Default&quot;:&quot;80&quot;
    },
    &quot;AppHostPort&quot;:<span>{</span>
      &quot;Type&quot;:&quot;Number&quot;,
      &quot;Description&quot;:&quot;Host port of app requiring ELB exposure&quot;,
      &quot;Default&quot;:&quot;80&quot;
    }
  },
  &quot;Resources&quot;:<span>{</span>
    &quot;ScalableTarget&quot;:<span>{</span>
      &quot;Type&quot;:&quot;AWS::ApplicationAutoScaling::ScalableTarget&quot;,
      &quot;Properties&quot;:<span>{</span>
        &quot;MaxCapacity&quot;:&quot;2&quot;,
        &quot;MinCapacity&quot;:&quot;1&quot;,
        &quot;RoleARN&quot;:&quot;arn:aws:iam::012345678910:role/aws-service-role/ecs.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_ECSService&quot;,
        &quot;ServiceNamespace&quot;:&quot;ecs&quot;,
        &quot;ScalableDimension&quot;:&quot;ecs:service:DesiredCount&quot;,
        &quot;ResourceId&quot;:<span>{</span>
          &quot;Fn::Join&quot;:[
            &quot;/&quot;,
            [
              &quot;service&quot;,
              <span>{</span>
                &quot;Ref&quot;:&quot;cluster&quot;
              },
              <span>{</span>
                &quot;Fn::GetAtt&quot;:[
                  &quot;service&quot;,
                  &quot;Name&quot;
                ]
              }
            ]
          ]
        }
      }
    },
    &quot;TargetTrackingScalingPolicy&quot;:<span>{</span>
      &quot;Type&quot;:&quot;AWS::ApplicationAutoScaling::ScalingPolicy&quot;,
      &quot;Properties&quot;:<span>{</span>
        &quot;PolicyName&quot;:&quot;TargetTrackingScalingPolicy&quot;,
        &quot;PolicyType&quot;:&quot;TargetTrackingScaling&quot;,
        &quot;ScalingTargetId&quot;:<span>{</span>
          &quot;Ref&quot;:&quot;ScalableTarget&quot;
        },
        &quot;TargetTrackingScalingPolicyConfiguration&quot;:<span>{</span>
          &quot;TargetValue&quot;:70.0,
          &quot;ScaleInCooldown&quot;:60,
          &quot;ScaleOutCooldown&quot;:60,
          &quot;DisableScaleIn&quot;:true,
          &quot;PredefinedMetricSpecification&quot;:<span>{</span>
            &quot;PredefinedMetricType&quot;:&quot;ECSServiceAverageCPUUtilization&quot;
          }
        }
      }
    },
    &quot;cluster&quot;:<span>{</span>
      &quot;Type&quot;:&quot;AWS::ECS::Cluster&quot;
    },
    &quot;taskdefinition&quot;:<span>{</span>
      &quot;Type&quot;:&quot;AWS::ECS::TaskDefinition&quot;,
      &quot;Properties&quot;:<span>{</span>
        &quot;ContainerDefinitions&quot;:[
          <span>{</span>
            &quot;Name&quot;:<span>{</span>
              &quot;Ref&quot;:&quot;AppName&quot;
            },
            &quot;MountPoints&quot;:[
              <span>{</span>
                &quot;SourceVolume&quot;:&quot;my-vol&quot;,
                &quot;ContainerPath&quot;:&quot;/var/www/my-vol&quot;
              }
            ],
            &quot;Image&quot;:&quot;amazon/amazon-ecs-sample&quot;,
            &quot;Cpu&quot;:&quot;10&quot;,
            &quot;PortMappings&quot;:[
              <span>{</span>
                &quot;ContainerPort&quot;:<span>{</span>
                  &quot;Ref&quot;:&quot;AppContainerPort&quot;
                },
                &quot;HostPort&quot;:<span>{</span>
                  &quot;Ref&quot;:&quot;AppHostPort&quot;
                }
              }
            ],
            &quot;EntryPoint&quot;:[
              &quot;/usr/sbin/apache2&quot;,
              &quot;-D&quot;,
              &quot;FOREGROUND&quot;
            ],
            &quot;Memory&quot;:&quot;500&quot;,
            &quot;Essential&quot;:&quot;true&quot;
          },
          <span>{</span>
            &quot;Name&quot;:&quot;busybox&quot;,
            &quot;Image&quot;:&quot;busybox&quot;,
            &quot;Cpu&quot;:&quot;10&quot;,
            &quot;EntryPoint&quot;:[
              &quot;sh&quot;,
              &quot;-c&quot;
            ],
            &quot;Memory&quot;:&quot;500&quot;,
            &quot;Command&quot;:[
              &quot;/bin/sh -c \&quot;while true; do /bin/date &gt; /var/www/my-vol/date; sleep 1; done\&quot;&quot;
            ],
            &quot;Essential&quot;:&quot;false&quot;,
            &quot;VolumesFrom&quot;:[
              <span>{</span>
                &quot;SourceContainer&quot;:<span>{</span>
                  &quot;Ref&quot;:&quot;AppName&quot;
                }
              }
            ]
          }
        ],
        &quot;Volumes&quot;:[
          <span>{</span>
            &quot;Host&quot;:<span>{</span>
              &quot;SourcePath&quot;:&quot;/var/lib/docker/vfs/dir/&quot;
            },
            &quot;Name&quot;:&quot;my-vol&quot;
          }
        ]
      }
    },
    &quot;service&quot;:<span>{</span>
      &quot;Type&quot;:&quot;AWS::ECS::Service&quot;,
      &quot;Properties&quot;:<span>{</span>
        &quot;Cluster&quot;:<span>{</span>
          &quot;Ref&quot;:&quot;cluster&quot;
        },
        &quot;DesiredCount&quot;:0,
        &quot;TaskDefinition&quot;:<span>{</span>
          &quot;Ref&quot;:&quot;taskdefinition&quot;
        }
      }
    }
  },
  &quot;Outputs&quot;:<span>{</span>
    &quot;resourceId&quot;:<span>{</span>
      &quot;Description&quot;:&quot;ResourceId&quot;,
      &quot;Value&quot;:<span>{</span>
        &quot;Fn::Join&quot;:[
          &quot;/&quot;,
          [
            &quot;service&quot;,
            <span>{</span>
              &quot;Ref&quot;:&quot;cluster&quot;
            },
            <span>{</span>
              &quot;Fn::GetAtt&quot;:[
                &quot;service&quot;,
                &quot;Name&quot;
              ]
            }
          ]
        ]
      }
    }
  }
}</code></pre></div>
               <div id="YAML" name="YAML" class="section langfilter">
                  <h4 id="aws-resource-applicationautoscaling-scalingpolicy--examples--Target_Tracking_Scaling_Policy_for_Scale_Out_Only_for_an_ECS_Service--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: 2010-09-09
Description: Creating ECS service
Parameters:
  AppName:
    Type: String
    Description: Name of app requiring ELB exposure
    Default: simple-app
  AppContainerPort:
    Type: Number
    Description: Container port of app requiring ELB exposure
    Default: &apos;80&apos;
  AppHostPort:
    Type: Number
    Description: Host port of app requiring ELB exposure
    Default: &apos;80&apos;
Resources:
  ScalableTarget:
    Type: AWS::ApplicationAutoScaling::ScalableTarget
    Properties:
      MaxCapacity: &apos;2&apos;
      MinCapacity: &apos;1&apos;
      RoleARN: arn:aws:iam::012345678910:role/aws-service-role/ecs.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_ECSService
      ServiceNamespace: ecs
      ScalableDimension: &apos;ecs:service:DesiredCount&apos;
      ResourceId: !Join 
        - /
        - - service
          - !Ref cluster
          - !GetAtt service.Name
  TargetTrackingScalingPolicy:
    Type: AWS::ApplicationAutoScaling::ScalingPolicy
    Properties:
      PolicyName: TargetTrackingScalingPolicy
      PolicyType: TargetTrackingScaling
      ScalingTargetId:
        Ref: ScalableTarget
      TargetTrackingScalingPolicyConfiguration:
        TargetValue: 70.0
        ScaleInCooldown: 60
        ScaleOutCooldown: 60
        DisableScaleIn: true
        PredefinedMetricSpecification:
          PredefinedMetricType: ECSServiceAverageCPUUtilization
  cluster:
    Type: AWS::ECS::Cluster
  taskdefinition:
    Type: AWS::ECS::TaskDefinition
    Properties:
      ContainerDefinitions:
        - Name: !Ref AppName
          MountPoints:
            - SourceVolume: my-vol
              ContainerPath: /var/www/my-vol
          Image: amazon/amazon-ecs-sample
          Cpu: &apos;10&apos;
          PortMappings:
            - ContainerPort: !Ref AppContainerPort
              HostPort: !Ref AppHostPort
          EntryPoint:
            - /usr/sbin/apache2
            - &apos;-D&apos;
            - FOREGROUND
          Memory: &apos;500&apos;
          Essential: &apos;true&apos;
        - Name: busybox
          Image: busybox
          Cpu: &apos;10&apos;
          EntryPoint:
            - sh
            - &apos;-c&apos;
          Memory: &apos;500&apos;
          Command:
            - &gt;-
              /bin/sh -c &quot;while true; do /bin/date &gt; /var/www/my-vol/date; sleep
              1; done&quot;
          Essential: &apos;false&apos;
          VolumesFrom:
            - SourceContainer: !Ref AppName
      Volumes:
        - Host:
            SourcePath: /var/lib/docker/vfs/dir/
          Name: my-vol
  service:
    Type: AWS::ECS::Service
    Properties:
      Cluster: !Ref cluster
      DesiredCount: 0
      TaskDefinition: !Ref taskdefinition
Outputs:
  resourceId:
    Description: ResourceId
    Value: !Join 
      - /
      - - service
        - !Ref cluster
        - !GetAtt service.Name</code></pre></div>
               <h2 id="aws-resource-applicationautoscaling-scalingpolicy--seealso">See Also</h2>
               <div class="itemizedlist">
                   
                  
                  <ul class="itemizedlist" type="disc">
                     <li class="listitem">
                        
                        <p><a href="https://docs.aws.amazon.com/autoscaling/application/userguide/what-is-application-auto-scaling.html">Application Auto Scaling User Guide</a>
                           
                        </p>
                        
                     </li>
                  </ul>
               </div>
               <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
            </div>
            <noscript>
               <div>
                  <div>
                     <div>
                        <div id="js_error_message">
                           <p><img src="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/%0A                              https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png%0A                            " alt="Warning"> <strong>Javascript is disabled or is unavailable in your
                                 browser.</strong></p>
                           <p>To use the AWS Documentation, Javascript must be
                              enabled. Please refer to your browser&apos;s Help pages for instructions.
                           </p>
                        </div>
                     </div>
                  </div>
               </div>
            </noscript>
            
            <awsdocs-page-utilities></awsdocs-page-utilities>
         </div></div>
</body>
</html>