<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="aws-resource-applicationautoscaling-scalingpolicy">AWS::ApplicationAutoScaling::ScalingPolicy</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>The <code class="code">AWS::ApplicationAutoScaling::ScalingPolicy</code> resource defines a scaling
                                    policy that Application Auto Scaling uses to adjust your application resources. 
                                 </p>
                                 <p>For more information, see <a href="https://docs.aws.amazon.com/autoscaling/application/APIReference/API_PutScalingPolicy.html">PutScalingPolicy</a> in the <em>Application Auto Scaling API
                                       Reference</em>. For more information about scaling policies, see the <a href="https://docs.aws.amazon.com/autoscaling/application/userguide/what-is-application-auto-scaling.html">Application
                                       Auto Scaling User Guide</a>.
                                 </p>
                                 <p>For introductory exercises for scaling specific resources, see <a href="https://docs.aws.amazon.com/autoscaling/application/userguide/getting-started.html">Getting Started</a> in the
                                    <em>Application Auto Scaling User Guide</em>.
                                 </p>
                                 <h2 id="aws-resource-applicationautoscaling-scalingpolicy-syntax">Syntax</h2>
                                 <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h3 id="aws-resource-applicationautoscaling-scalingpolicy-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;Type&quot; : &quot;AWS::ApplicationAutoScaling::ScalingPolicy&quot;,
  &quot;Properties&quot; : <span>{</span>
      &quot;<a href="#cfn-applicationautoscaling-scalingpolicy-policyname">PolicyName</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-applicationautoscaling-scalingpolicy-policytype">PolicyType</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-applicationautoscaling-scalingpolicy-resourceid">ResourceId</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-applicationautoscaling-scalingpolicy-scalabledimension">ScalableDimension</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-applicationautoscaling-scalingpolicy-scalingtargetid">ScalingTargetId</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-applicationautoscaling-scalingpolicy-servicenamespace">ServiceNamespace</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-applicationautoscaling-scalingpolicy-stepscalingpolicyconfiguration">StepScalingPolicyConfiguration</a>&quot; : <code class="replaceable"><a href="./aws-properties-applicationautoscaling-scalingpolicy-stepscalingpolicyconfiguration.html">StepScalingPolicyConfiguration</a></code>,
      &quot;<a href="#cfn-applicationautoscaling-scalingpolicy-targettrackingscalingpolicyconfiguration">TargetTrackingScalingPolicyConfiguration</a>&quot; : <code class="replaceable"><a href="./aws-properties-applicationautoscaling-scalingpolicy-targettrackingscalingpolicyconfiguration.html">TargetTrackingScalingPolicyConfiguration</a></code>
    }
}
</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h3 id="aws-resource-applicationautoscaling-scalingpolicy-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::ApplicationAutoScaling::ScalingPolicy
Properties: 
  <a href="#cfn-applicationautoscaling-scalingpolicy-policyname">PolicyName</a>: <code class="replaceable">String</code>
  <a href="#cfn-applicationautoscaling-scalingpolicy-policytype">PolicyType</a>: <code class="replaceable">String</code>
  <a href="#cfn-applicationautoscaling-scalingpolicy-resourceid">ResourceId</a>: <code class="replaceable">String</code>
  <a href="#cfn-applicationautoscaling-scalingpolicy-scalabledimension">ScalableDimension</a>: <code class="replaceable">String</code>
  <a href="#cfn-applicationautoscaling-scalingpolicy-scalingtargetid">ScalingTargetId</a>: <code class="replaceable">String</code>
  <a href="#cfn-applicationautoscaling-scalingpolicy-servicenamespace">ServiceNamespace</a>: <code class="replaceable">String</code>
  <a href="#cfn-applicationautoscaling-scalingpolicy-stepscalingpolicyconfiguration">StepScalingPolicyConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-applicationautoscaling-scalingpolicy-stepscalingpolicyconfiguration.html">StepScalingPolicyConfiguration</a></code>
  <a href="#cfn-applicationautoscaling-scalingpolicy-targettrackingscalingpolicyconfiguration">TargetTrackingScalingPolicyConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-applicationautoscaling-scalingpolicy-targettrackingscalingpolicyconfiguration.html">TargetTrackingScalingPolicyConfiguration</a></code>
</code></pre></div>
                                 <h2 id="aws-resource-applicationautoscaling-scalingpolicy-properties">Properties</h2>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="cfn-applicationautoscaling-scalingpolicy-policyname"></a><span class="term"><code class="code">PolicyName</code></span></dt>
                                       <dd>
                                          
                                          <p>The name of the scaling policy.</p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Minimum</em>: <code class="code">1</code></p>
                                          <p><em>Maximum</em>: <code class="code">256</code></p>
                                          <p><em>Pattern</em>: <code class="code">\p<span>{</span>Print}+</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-applicationautoscaling-scalingpolicy-policytype"></a><span class="term"><code class="code">PolicyType</code></span></dt>
                                       <dd>
                                          
                                          <p>The Application Auto Scaling policy type. </p>
                                          
                                          <p>The following policy types are supported: </p>
                                          
                                          <p><code class="code">TargetTrackingScaling</code>&#x2014;Not supported for Amazon EMR
                                          </p>
                                          
                                          <p><code class="code">StepScaling</code>&#x2014;Not supported for DynamoDB, Comprehend, or Lambda
                                          </p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-applicationautoscaling-scalingpolicy-resourceid"></a><span class="term"><code class="code">ResourceId</code></span></dt>
                                       <dd>
                                          
                                          <p>The unique resource identifier for the scalable target that this scaling policy applies
                                             to. For valid values, see the <code class="code">ResourceId</code> parameter for <a href="https://docs.aws.amazon.com/autoscaling/application/APIReference/API_PutScalingPolicy.html">PutScalingPolicy</a> in the <em>Application Auto Scaling API
                                                Reference</em>.
                                          </p>
                                          
                                          <p>You must specify either the <code class="code">ResourceId</code>, <code class="code">ScalableDimension</code>, and
                                             <code class="code">ServiceNamespace</code> properties, or the <code class="code">ScalingTargetId</code> property, but
                                             not both.
                                          </p>
                                          
                                          <p><em>Required</em>: Conditional
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-applicationautoscaling-scalingpolicy-scalabledimension"></a><span class="term"><code class="code">ScalableDimension</code></span></dt>
                                       <dd>
                                          
                                          <p>The scalable dimension of the scalable target that this scaling policy applies to.
                                             The
                                             scalable dimension contains the service namespace, resource type, and scaling property,
                                             such
                                             as <code class="code">ecs:service:DesiredCount</code> for the desired task count of an Amazon ECS service.
                                             For valid values, see the <code class="code">ScalableDimension</code> parameter for <a href="https://docs.aws.amazon.com/autoscaling/application/APIReference/API_PutScalingPolicy.html">PutScalingPolicy</a> in the <em>Application Auto Scaling API
                                                Reference</em>.
                                          </p>
                                          
                                          <p>You must specify either the <code class="code">ResourceId</code>, <code class="code">ScalableDimension</code>, and
                                             <code class="code">ServiceNamespace</code> properties, or the <code class="code">ScalingTargetId</code> property, but
                                             not both.
                                          </p>
                                          
                                          <p><em>Required</em>: Conditional
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-applicationautoscaling-scalingpolicy-scalingtargetid"></a><span class="term"><code class="code">ScalingTargetId</code></span></dt>
                                       <dd>
                                          
                                          <p>The AWS CloudFormation-generated ID of an Application Auto Scaling scalable target.
                                             For
                                             more information about the ID, see the Return Value section of the
                                             <code class="code">AWS::ApplicationAutoScaling::ScalableTarget</code> resource.
                                          </p>
                                          
                                          <p>You must specify either the <code class="code">ScalingTargetId</code> property, or the
                                             <code class="code">ResourceId</code>, <code class="code">ScalableDimension</code>, and <code class="code">ServiceNamespace</code>
                                             properties, but not both. 
                                          </p>
                                          
                                          <p><em>Required</em>: Conditional
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-applicationautoscaling-scalingpolicy-servicenamespace"></a><span class="term"><code class="code">ServiceNamespace</code></span></dt>
                                       <dd>
                                          
                                          <p>The namespace of the AWS service that provides the resource or
                                             <code class="code">custom-resource</code> for a resource provided by your own application or service. For
                                             valid values, see the <code class="code">ServiceNamespace</code> parameter for <a href="https://docs.aws.amazon.com/autoscaling/application/APIReference/API_PutScalingPolicy.html">PutScalingPolicy</a> in the <em>Application Auto Scaling API
                                                Reference</em>.
                                          </p>
                                          
                                          <p>You must specify either the <code class="code">ResourceId</code>, <code class="code">ScalableDimension</code>, and
                                             <code class="code">ServiceNamespace</code> properties, or the <code class="code">ScalingTargetId</code> property, but
                                             not both.
                                          </p>
                                          
                                          <p><em>Required</em>: Conditional
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-applicationautoscaling-scalingpolicy-stepscalingpolicyconfiguration"></a><span class="term"><code class="code">StepScalingPolicyConfiguration</code></span></dt>
                                       <dd>
                                          
                                          <p>A step scaling policy.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-applicationautoscaling-scalingpolicy-stepscalingpolicyconfiguration.html">StepScalingPolicyConfiguration</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-applicationautoscaling-scalingpolicy-targettrackingscalingpolicyconfiguration"></a><span class="term"><code class="code">TargetTrackingScalingPolicyConfiguration</code></span></dt>
                                       <dd>
                                          
                                          <p>A target tracking scaling policy.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-applicationautoscaling-scalingpolicy-targettrackingscalingpolicyconfiguration.html">TargetTrackingScalingPolicyConfiguration</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                    </dl>
                                 </div>
                                 <h2 id="aws-resource-applicationautoscaling-scalingpolicy-return-values">Return Values</h2>
                                 <h3 id="aws-resource-applicationautoscaling-scalingpolicy-return-values-ref">Ref</h3>
                                 <p>When the logical ID of this resource is provided to the <code class="code">Ref</code> intrinsic
                                    function, <code class="code">Ref</code> returns the Application Auto Scaling scaling policy Amazon Resource
                                    Name (ARN). For example:
                                    <code class="code">arn:aws:autoscaling:us-east-2:123456789012:scalingPolicy:12ab3c4d-56789-0ef1-2345-6ghi7jk8lm90:resource/ecs/service/ecsStack-MyECSCluster-AB12CDE3F4GH/ecsStack-MyECSService-AB12CDE3F4GH:policyName/MyStepPolicy</code>.
                                 </p>
                                 <p>For more information about using the <code class="code">Ref</code> function, see <a href="intrinsic-function-reference-ref.html">Ref</a>.
                                    
                                 </p>
                                 <h2 id="aws-resource-applicationautoscaling-scalingpolicy--examples">Examples</h2>
                                 <p>The following examples create scaling policies for a scalable target that is registered
                                    with Application Auto Scaling. For more information, see <a href="https://docs.aws.amazon.com/autoscaling/application/APIReference/API_PutScalingPolicy.html">PutScalingPolicy</a> in the <em>Application Auto Scaling API
                                       Reference</em>.
                                 </p>
                                 <h3 id="aws-resource-applicationautoscaling-scalingpolicy--examples--Target_Tracking_Scaling_Policy_with_a_Predefined_Metric_Specification_for_an_Amazon_DynamoDB_Table">Target Tracking Scaling Policy with a Predefined Metric Specification for an Amazon
                                    DynamoDB Table
                                 </h3>
                                 <p>This example both registers a DynamoDB table (<a href="aws-resource-dynamodb-table.html">AWS::DynamoDB::Table</a>) as a scalable target and creates a scaling policy with
                                    the <code class="code">TargetTrackingScaling</code> policy type. The scaling policy scales the table&apos;s
                                    write capacity throughput to maintain the target utilization at 50 percent based on
                                    the
                                    write capacity utilization metric.
                                 </p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-resource-applicationautoscaling-scalingpolicy--examples--Target_Tracking_Scaling_Policy_with_a_Predefined_Metric_Specification_for_an_Amazon_DynamoDB_Table--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;Resources&quot;:<span>{</span>
    &quot;WriteCapacityScalableTarget&quot;:<span>{</span>
      &quot;Type&quot;:&quot;AWS::ApplicationAutoScaling::ScalableTarget&quot;,
      &quot;Properties&quot;:<span>{</span>
        &quot;MaxCapacity&quot;:15,
        &quot;MinCapacity&quot;:5,
        &quot;RoleARN&quot;:<span>{</span>
          &quot;Fn::Sub&quot;:&quot;arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/dynamodb.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_DynamoDBTable&quot;
        },
        &quot;ServiceNamespace&quot;:&quot;dynamodb&quot;,
        &quot;ScalableDimension&quot;:&quot;dynamodb:table:WriteCapacityUnits&quot;,
        &quot;ResourceId&quot;:<span>{</span>
          &quot;Fn::Join&quot;:[
            &quot;/&quot;,
            [
              &quot;table&quot;,
              <span>{</span>
                &quot;Ref&quot;:&quot;DDBTable&quot;
              }
            ]
          ]
        }
      }
    },
    &quot;WriteScalingPolicy&quot;:<span>{</span>
      &quot;Type&quot;:&quot;AWS::ApplicationAutoScaling::ScalingPolicy&quot;,
      &quot;Properties&quot;:<span>{</span>
        &quot;PolicyName&quot;:&quot;WriteAutoScalingPolicy&quot;,
        &quot;PolicyType&quot;:&quot;TargetTrackingScaling&quot;,
        &quot;ScalingTargetId&quot;:<span>{</span>
          &quot;Ref&quot;:&quot;WriteCapacityScalableTarget&quot;
        },
        &quot;TargetTrackingScalingPolicyConfiguration&quot;:<span>{</span>
          &quot;TargetValue&quot;:50.0,
          &quot;ScaleInCooldown&quot;:60,
          &quot;ScaleOutCooldown&quot;:60,
          &quot;PredefinedMetricSpecification&quot;:<span>{</span>
            &quot;PredefinedMetricType&quot;:&quot;DynamoDBWriteCapacityUtilization&quot;
          }
        }
      }
    }
  }
}</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-resource-applicationautoscaling-scalingpolicy--examples--Target_Tracking_Scaling_Policy_with_a_Predefined_Metric_Specification_for_an_Amazon_DynamoDB_Table--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
Resources:
  WriteCapacityScalableTarget:
    Type: AWS::ApplicationAutoScaling::ScalableTarget
    Properties:
      MaxCapacity: 15
      MinCapacity: 5
      RoleARN: 
        Fn::Sub: &apos;arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/dynamodb.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_DynamoDBTable&apos;
      ServiceNamespace: dynamodb
      ScalableDimension: dynamodb:table:WriteCapacityUnits
      ResourceId: !Join
        - /
        - - table
          - !Ref DDBTable
  WriteScalingPolicy:
    Type: AWS::ApplicationAutoScaling::ScalingPolicy
    Properties:
      PolicyName: WriteAutoScalingPolicy
      PolicyType: TargetTrackingScaling
      ScalingTargetId: !Ref WriteCapacityScalableTarget
      TargetTrackingScalingPolicyConfiguration:
        TargetValue: 50.0
        ScaleInCooldown: 60
        ScaleOutCooldown: 60
        PredefinedMetricSpecification:
          PredefinedMetricType: DynamoDBWriteCapacityUtilization</code></pre></div>
                                 <h3 id="aws-resource-applicationautoscaling-scalingpolicy--examples--Target_Tracking_Scaling_Policies_for_an_ECS_Service">Target Tracking Scaling Policies for an ECS Service</h3>
                                 <p>The following example both registers an ECS service (<a href="aws-resource-ecs-service.html">AWS::ECS::Service</a>) as a scalable target and creates two scaling policies with
                                    the <code class="code">TargetTrackingScaling</code> policy type. The policies are used to scale the ECS
                                    service based on the service&apos;s average CPU and memory usage. 
                                 </p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-resource-applicationautoscaling-scalingpolicy--examples--Target_Tracking_Scaling_Policies_for_an_ECS_Service--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;Resources&quot;:<span>{</span>
    &quot;ECSScalableTarget&quot;:<span>{</span>
      &quot;Type&quot;:&quot;AWS::ApplicationAutoScaling::ScalableTarget&quot;,
      &quot;Properties&quot;:<span>{</span>
        &quot;MaxCapacity&quot;:&quot;2&quot;,
        &quot;MinCapacity&quot;:&quot;1&quot;,
        &quot;RoleARN&quot;:<span>{</span>
          &quot;Fn::Sub&quot;:&quot;arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/ecs.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_ECSService&quot;
        },
        &quot;ServiceNamespace&quot;:&quot;ecs&quot;,
        &quot;ScalableDimension&quot;:&quot;ecs:service:DesiredCount&quot;,
        &quot;ResourceId&quot;:<span>{</span>
          &quot;Fn::Join&quot;:[
            &quot;/&quot;,
            [
              &quot;service&quot;,
              <span>{</span>
                &quot;Ref&quot;:&quot;cluster&quot;
              },
              <span>{</span>
                &quot;Fn::GetAtt&quot;:[
                  &quot;service&quot;,
                  &quot;Name&quot;
                ]
              }
            ]
          ]
        }
      }
    },
    &quot;ServiceScalingPolicyCPU&quot;:<span>{</span>
      &quot;Type&quot;:&quot;AWS::ApplicationAutoScaling::ScalingPolicy&quot;,
      &quot;Properties&quot;:<span>{</span>
        &quot;PolicyName&quot;:<span>{</span>&quot;Fn::Sub&quot;:&quot;$<span>{</span>AWS::StackName}-target-tracking-cpu70&quot;},
        &quot;PolicyType&quot;:&quot;TargetTrackingScaling&quot;,
        &quot;ScalingTargetId&quot;:<span>{</span>
          &quot;Ref&quot;:&quot;ECSScalableTarget&quot;
        },
        &quot;TargetTrackingScalingPolicyConfiguration&quot;:<span>{</span>
          &quot;TargetValue&quot;:70.0,
          &quot;ScaleInCooldown&quot;:180,
          &quot;ScaleOutCooldown&quot;:60,
          &quot;PredefinedMetricSpecification&quot;:<span>{</span>
            &quot;PredefinedMetricType&quot;:&quot;ECSServiceAverageCPUUtilization&quot;
          }
        }
      }
    },
    &quot;ServiceScalingPolicyMem&quot;:<span>{</span>
      &quot;Type&quot;:&quot;AWS::ApplicationAutoScaling::ScalingPolicy&quot;,
      &quot;Properties&quot;:<span>{</span>
        &quot;PolicyName&quot;:<span>{</span>&quot;Fn::Sub&quot;:&quot;$<span>{</span>AWS::StackName}-target-tracking-mem90&quot;},
        &quot;PolicyType&quot;:&quot;TargetTrackingScaling&quot;,
        &quot;ScalingTargetId&quot;:<span>{</span>
          &quot;Ref&quot;:&quot;ECSScalableTarget&quot;
        },
        &quot;TargetTrackingScalingPolicyConfiguration&quot;:<span>{</span>
          &quot;TargetValue&quot;:90.0,
          &quot;ScaleInCooldown&quot;:180,
          &quot;ScaleOutCooldown&quot;:60,
          &quot;PredefinedMetricSpecification&quot;:<span>{</span>
            &quot;PredefinedMetricType&quot;:&quot;ECSServiceAverageMemoryUtilization&quot;
          }
        }
      }
    }
  }
}</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-resource-applicationautoscaling-scalingpolicy--examples--Target_Tracking_Scaling_Policies_for_an_ECS_Service--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
Resources:
  ECSScalableTarget:
    Type: AWS::ApplicationAutoScaling::ScalableTarget
    Properties:
      MaxCapacity: &apos;2&apos;
      MinCapacity: &apos;1&apos;  
      RoleARN: 
        Fn::Sub: &apos;arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/ecs.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_ECSService&apos;
      ServiceNamespace: ecs
      ScalableDimension: &apos;ecs:service:DesiredCount&apos;
      ResourceId: !Join 
        - /
        - - service
          - !Ref cluster
          - !GetAtt service.Name
  ServiceScalingPolicyCPU:
    Type: AWS::ApplicationAutoScaling::ScalingPolicy
    Properties:
      PolicyName: !Sub $<span>{</span>AWS::StackName}-target-tracking-cpu70
      PolicyType: TargetTrackingScaling
      ScalingTargetId:
        Ref: ECSScalableTarget
      TargetTrackingScalingPolicyConfiguration:
        TargetValue: 70.0
        ScaleInCooldown: 180
        ScaleOutCooldown: 60
        PredefinedMetricSpecification:
          PredefinedMetricType: ECSServiceAverageCPUUtilization
  ServiceScalingPolicyMem:
    Type: AWS::ApplicationAutoScaling::ScalingPolicy
    Properties:
      PolicyName: !Sub $<span>{</span>AWS::StackName}-target-tracking-mem90
      PolicyType: TargetTrackingScaling
      ScalingTargetId:
        Ref: ECSScalableTarget
      TargetTrackingScalingPolicyConfiguration:
        TargetValue: 90.0
        ScaleInCooldown: 180
        ScaleOutCooldown: 60
        PredefinedMetricSpecification:
          PredefinedMetricType: ECSServiceAverageMemoryUtilization</code></pre></div>
                                 <h3 id="aws-resource-applicationautoscaling-scalingpolicy--examples--Target_Tracking_Scaling_Policy_for_Scale_Out_Only_for_an_ECS_Service">Target Tracking Scaling Policy for Scale Out Only for an ECS Service</h3>
                                 <p>The following example applies a target tracking scaling policy with the
                                    <code class="code">ALBRequestCountPerTarget</code> metric type to an ECS service called
                                    <code class="code">web-app</code> in the default cluster. The policy is used to add capacity to the
                                    ECS service when the request count per target exceeds the target value. Because the
                                    value
                                    of <code class="code">DisableScaleIn</code> is set to true, the target tracking policy won&apos;t remove
                                    capacity from the scalable target.
                                 </p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-resource-applicationautoscaling-scalingpolicy--examples--Target_Tracking_Scaling_Policy_for_Scale_Out_Only_for_an_ECS_Service--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;Resources&quot;:<span>{</span>
    &quot;ServiceScalingPolicyALB&quot;:<span>{</span>
      &quot;Type&quot;:&quot;AWS::ApplicationAutoScaling::ScalingPolicy&quot;,
      &quot;Properties&quot;:<span>{</span>
        &quot;PolicyName&quot;:&quot;alb-scale-out-target-tracking-scaling-policy&quot;,
        &quot;PolicyType&quot;:&quot;TargetTrackingScaling&quot;,
        &quot;ServiceNamespace&quot;:&quot;ecs&quot;,
        &quot;ScalableDimension&quot;:&quot;ecs:service:DesiredCount&quot;,
        &quot;ResourceId&quot;:&quot;service/default/web-app&quot;,
        &quot;TargetTrackingScalingPolicyConfiguration&quot;:<span>{</span>
          &quot;TargetValue&quot;:1000.0,
          &quot;ScaleInCooldown&quot;:60,
          &quot;ScaleOutCooldown&quot;:60,
          &quot;DisableScaleIn&quot;:true,
          &quot;PredefinedMetricSpecification&quot;:<span>{</span>
            &quot;PredefinedMetricType&quot;:&quot;ALBRequestCountPerTarget&quot;,
            &quot;ResourceLabel&quot;: &quot;app/EC2Co-EcsEl-1TKLTMITMM0EO/f37c06a68c1748aa/targetgroup/EC2Co-Defau-LDNM7Q3ZH1ZN/6d4ea56ca2d6a18d&quot;
          }
        }
      }
    }
  }
}</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-resource-applicationautoscaling-scalingpolicy--examples--Target_Tracking_Scaling_Policy_for_Scale_Out_Only_for_an_ECS_Service--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
Resources:
  ServiceScalingPolicyALB:
    Type: AWS::ApplicationAutoScaling::ScalingPolicy
    Properties:
      PolicyName: alb-scale-out-target-tracking-scaling-policy
      PolicyType: TargetTrackingScaling
      ServiceNamespace: ecs
      ScalableDimension: ecs:service:DesiredCount
      ResourceId: service/default/web-app
      TargetTrackingScalingPolicyConfiguration:
        TargetValue: 1000.0
        ScaleInCooldown: 60
        ScaleOutCooldown: 60
        DisableScaleIn: true
        PredefinedMetricSpecification:
          PredefinedMetricType: ALBRequestCountPerTarget
          ResourceLabel: app/EC2Co-EcsEl-1TKLTMITMM0EO/f37c06a68c1748aa/targetgroup/EC2Co-Defau-LDNM7Q3ZH1ZN/6d4ea56ca2d6a18d</code></pre></div>
                                 <h3 id="aws-resource-applicationautoscaling-scalingpolicy--examples--Step_Scaling_Policy_for_Scale_Out_Only_for_a_Spot_Fleet">Step Scaling Policy for Scale Out Only for a Spot Fleet</h3>
                                 <p>The following example registers a Spot Fleet (<a href="aws-resource-ec2-spotfleet.html">AWS::EC2::SpotFleet</a>) as a scalable target, creates a scheduled action, and
                                    creates a scaling policy. It uses the <a href="intrinsic-function-reference-join.html">Fn::Join</a> and <a href="intrinsic-function-reference-ref.html">Ref</a> intrinsic functions to construct the <code class="code">ResourceId</code> property. 
                                 </p>
                                 <p>It creates a scaling policy with the <code class="code">StepScaling</code> policy type and the
                                    <code class="code">ChangeInCapacity</code> adjustment type. When an associated alarm is triggered,
                                    the policy increases the capacity of the scalable target based on the following step
                                    adjustments (assuming a CloudWatch alarm threshold of 70 percent): 
                                 </p>
                                 <div class="itemizedlist">
                                     
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p>Increase capacity by 1 when the value of the metric is greater than or equal to 70
                                             percent but less than 85 percent 
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>Increase capacity by 2 when the value of the metric is greater than or equal to 85
                                             percent but less than 95 percent 
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>Increase capacity by 3 when the value of the metric is greater than or equal to 95
                                             percent 
                                          </p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-resource-applicationautoscaling-scalingpolicy--examples--Step_Scaling_Policy_for_Scale_Out_Only_for_a_Spot_Fleet--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;Resources&quot;:<span>{</span>
    &quot;SpotFleetScalableTarget&quot;:<span>{</span>
      &quot;Type&quot;:&quot;AWS::ApplicationAutoScaling::ScalableTarget&quot;,
      &quot;Properties&quot;:<span>{</span>
        &quot;MaxCapacity&quot;:2,
        &quot;MinCapacity&quot;:1,
        &quot;RoleARN&quot;:<span>{</span>
          &quot;Fn::Sub&quot;:&quot;arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/ec2.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_EC2SpotFleetRequest&quot;
        },
        &quot;ServiceNamespace&quot;:&quot;ec2&quot;,
        &quot;ScalableDimension&quot;:&quot;ec2:spot-fleet-request:TargetCapacity&quot;,
        &quot;ResourceId&quot;:<span>{</span>
          &quot;Fn::Join&quot;:[
            &quot;/&quot;,
            [
              &quot;spot-fleet-request&quot;,
              <span>{</span>
                &quot;Ref&quot;:&quot;ECSSpotFleet&quot;
              }
            ]
          ]
        },
        &quot;ScheduledActions&quot;:[
          <span>{</span>
            &quot;EndTime&quot;:&quot;2019-12-31T12:00:00.000Z&quot;,
            &quot;ScalableTargetAction&quot;:<span>{</span>
              &quot;MaxCapacity&quot;:&quot;20&quot;,
              &quot;MinCapacity&quot;:&quot;5&quot;
            },
            &quot;ScheduledActionName&quot;:&quot;First&quot;,
            &quot;StartTime&quot;:&quot;2019-12-25T12:00:00.000Z&quot;,
            &quot;Schedule&quot;:&quot;cron(0 18 * * ? *)&quot;
          }
        ]
      }
    },
    &quot;SpotFleetPolicyHigh&quot;:<span>{</span>
      &quot;Type&quot;:&quot;AWS::ApplicationAutoScaling::ScalingPolicy&quot;,
      &quot;Properties&quot;:<span>{</span>
        &quot;PolicyName&quot;:&quot;SpotFleetPolicyHigh&quot;,
        &quot;PolicyType&quot;:&quot;StepScaling&quot;,
        &quot;ScalingTargetId&quot;:<span>{</span>
          &quot;Ref&quot;:&quot;SpotFleetScalableTarget&quot;
        },
        &quot;StepScalingPolicyConfiguration&quot;:<span>{</span>
          &quot;AdjustmentType&quot;:&quot;ChangeInCapacity&quot;,
          &quot;Cooldown&quot;:600,
          &quot;MetricAggregationType&quot;:&quot;Average&quot;,
          &quot;StepAdjustments&quot;:[
            <span>{</span>
              &quot;MetricIntervalLowerBound&quot;:0,
              &quot;MetricIntervalUpperBound&quot;:15,
              &quot;ScalingAdjustment&quot;:1
            },
            <span>{</span>
              &quot;MetricIntervalLowerBound&quot;:15,
              &quot;MetricIntervalUpperBound&quot;:25,
              &quot;ScalingAdjustment&quot;:2
            },
            <span>{</span>
              &quot;MetricIntervalLowerBound&quot;:25,
              &quot;ScalingAdjustment&quot;:3
            }
          ]
        }
      }
    }
  }
}</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-resource-applicationautoscaling-scalingpolicy--examples--Step_Scaling_Policy_for_Scale_Out_Only_for_a_Spot_Fleet--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
Resources:
  SpotFleetScalableTarget:
    Type: AWS::ApplicationAutoScaling::ScalableTarget
    Properties:
      MaxCapacity: 2
      MinCapacity: 1
      RoleARN: 
        Fn::Sub: &apos;arn:aws:iam::$<span>{</span>AWS::AccountId}:role/aws-service-role/ec2.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_EC2SpotFleetRequest&apos;
      ServiceNamespace: ec2
      ScalableDimension: &apos;ec2:spot-fleet-request:TargetCapacity&apos;
      ResourceId: !Join 
        - /
        - - spot-fleet-request
          - !Ref ECSSpotFleet
      ScheduledActions:
        - EndTime: &apos;2019-12-31T12:00:00.000Z&apos;
          ScalableTargetAction:
            MaxCapacity: &apos;20&apos;
            MinCapacity: &apos;5&apos;
          ScheduledActionName: First
          StartTime: &apos;2019-12-25T12:00:00.000Z&apos;
          Schedule: &apos;cron(0 18 * * ? *)&apos;
  SpotFleetPolicyHigh:
    Type: AWS::ApplicationAutoScaling::ScalingPolicy
    Properties:
      PolicyName: SpotFleetPolicyHigh
      PolicyType: StepScaling
      ScalingTargetId:
        Ref: SpotFleetScalableTarget
      StepScalingPolicyConfiguration:
        AdjustmentType: ChangeInCapacity
        Cooldown: 600
        MetricAggregationType: Average
        StepAdjustments:
        - MetricIntervalLowerBound: 0
          MetricIntervalUpperBound: 15
          ScalingAdjustment: 1
        - MetricIntervalLowerBound: 15
          MetricIntervalUpperBound: 25
          ScalingAdjustment: 2
        - MetricIntervalLowerBound: 25
          ScalingAdjustment: 3</code></pre></div>
                                 <h2 id="aws-resource-applicationautoscaling-scalingpolicy--seealso">See Also</h2>
                                 <div class="itemizedlist">
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p><a href="https://docs.aws.amazon.com/autoscaling/application/userguide/what-is-application-auto-scaling.html">Application Auto Scaling User Guide</a>
                                             
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><a href="https://docs.aws.amazon.com/cli/latest/reference/application-autoscaling/put-scaling-policy.html#examples">Examples</a> of Application Auto Scaling scaling policies in the <em> AWS
                                                CLI Command Reference</em></p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning"> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the AWS Documentation, Javascript must be
                                                enabled. Please refer to your browser&apos;s Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div></div>
</body>
</html>