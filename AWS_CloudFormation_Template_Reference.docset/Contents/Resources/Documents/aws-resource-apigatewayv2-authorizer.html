<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="aws-resource-apigatewayv2-authorizer">AWS::ApiGatewayV2::Authorizer</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>The <code class="code">AWS::ApiGatewayV2::Authorizer</code> resource creates an authorizer for a
                                    WebSocket API or an HTTP API. To learn more, see <a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-websocket-api-control-access.html">Controlling and managing access to a WebSocket API in API Gateway</a> and
                                    <a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-access-control.html">Controlling and
                                       managing access to an HTTP API in API Gateway</a> in the <em>API Gateway
                                       Developer Guide</em>.
                                 </p>
                                 <h2 id="aws-resource-apigatewayv2-authorizer-syntax">Syntax</h2>
                                 <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h3 id="aws-resource-apigatewayv2-authorizer-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;Type&quot; : &quot;AWS::ApiGatewayV2::Authorizer&quot;,
  &quot;Properties&quot; : <span>{</span>
      &quot;<a href="#cfn-apigatewayv2-authorizer-apiid">ApiId</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-apigatewayv2-authorizer-authorizercredentialsarn">AuthorizerCredentialsArn</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-apigatewayv2-authorizer-authorizerpayloadformatversion">AuthorizerPayloadFormatVersion</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-apigatewayv2-authorizer-authorizerresultttlinseconds">AuthorizerResultTtlInSeconds</a>&quot; : <code class="replaceable">Integer</code>,
      &quot;<a href="#cfn-apigatewayv2-authorizer-authorizertype">AuthorizerType</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-apigatewayv2-authorizer-authorizeruri">AuthorizerUri</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-apigatewayv2-authorizer-enablesimpleresponses">EnableSimpleResponses</a>&quot; : <code class="replaceable">Boolean</code>,
      &quot;<a href="#cfn-apigatewayv2-authorizer-identitysource">IdentitySource</a>&quot; : <code class="replaceable">[ String, ... ]</code>,
      &quot;<a href="#cfn-apigatewayv2-authorizer-identityvalidationexpression">IdentityValidationExpression</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-apigatewayv2-authorizer-jwtconfiguration">JwtConfiguration</a>&quot; : <code class="replaceable"><a href="./aws-properties-apigatewayv2-authorizer-jwtconfiguration.html">JWTConfiguration</a></code>,
      &quot;<a href="#cfn-apigatewayv2-authorizer-name">Name</a>&quot; : <code class="replaceable">String</code>
    }
}
</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h3 id="aws-resource-apigatewayv2-authorizer-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::ApiGatewayV2::Authorizer
Properties: 
  <a href="#cfn-apigatewayv2-authorizer-apiid">ApiId</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigatewayv2-authorizer-authorizercredentialsarn">AuthorizerCredentialsArn</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigatewayv2-authorizer-authorizerpayloadformatversion">AuthorizerPayloadFormatVersion</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigatewayv2-authorizer-authorizerresultttlinseconds">AuthorizerResultTtlInSeconds</a>: <code class="replaceable">Integer</code>
  <a href="#cfn-apigatewayv2-authorizer-authorizertype">AuthorizerType</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigatewayv2-authorizer-authorizeruri">AuthorizerUri</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigatewayv2-authorizer-enablesimpleresponses">EnableSimpleResponses</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-apigatewayv2-authorizer-identitysource">IdentitySource</a>: <code class="replaceable">
    - String</code>
  <a href="#cfn-apigatewayv2-authorizer-identityvalidationexpression">IdentityValidationExpression</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigatewayv2-authorizer-jwtconfiguration">JwtConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-apigatewayv2-authorizer-jwtconfiguration.html">JWTConfiguration</a></code>
  <a href="#cfn-apigatewayv2-authorizer-name">Name</a>: <code class="replaceable">String</code>
</code></pre></div>
                                 <h2 id="aws-resource-apigatewayv2-authorizer-properties">Properties</h2>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="cfn-apigatewayv2-authorizer-apiid"></a><span class="term"><code class="code">ApiId</code></span></dt>
                                       <dd>
                                          
                                          
                                          <p>The API identifier.</p>
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-apigatewayv2-authorizer-authorizercredentialsarn"></a><span class="term"><code class="code">AuthorizerCredentialsArn</code></span></dt>
                                       <dd>
                                          
                                          
                                          <p>Specifies the required credentials as an IAM role for API Gateway to invoke the authorizer.
                                             To specify an IAM role for API Gateway to assume, use the role&apos;s Amazon Resource Name
                                             (ARN). To use resource-based permissions on the Lambda function, specify null. Supported
                                             only for <code class="code">REQUEST</code> authorizers.
                                          </p>
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-apigatewayv2-authorizer-authorizerpayloadformatversion"></a><span class="term"><code class="code">AuthorizerPayloadFormatVersion</code></span></dt>
                                       <dd>
                                          
                                          <p>Specifies the format of the payload sent to an HTTP API Lambda authorizer. Required
                                             for HTTP API Lambda authorizers. Supported values are <code class="code">1.0</code> and <code class="code">2.0</code>. To learn more, see <a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-lambda-authorizer.html">Working with AWS Lambda authorizers for HTTP APIs</a>.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-apigatewayv2-authorizer-authorizerresultttlinseconds"></a><span class="term"><code class="code">AuthorizerResultTtlInSeconds</code></span></dt>
                                       <dd>
                                          
                                          
                                          <p>The time to live (TTL) for cached authorizer results, in seconds. If it equals 0,
                                             authorization
                                             caching is disabled. If it is greater than 0, API Gateway caches authorizer
                                             responses. The maximum value is 3600, or 1 hour. Supported only for HTTP API Lambda
                                             authorizers.
                                          </p>
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: Integer
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-apigatewayv2-authorizer-authorizertype"></a><span class="term"><code class="code">AuthorizerType</code></span></dt>
                                       <dd>
                                          
                                          
                                          <p>The authorizer type. Specify <code class="code">REQUEST</code> for a Lambda function using incoming request parameters. Specify <code class="code">JWT</code> to use JSON Web Tokens (supported only for HTTP APIs).
                                          </p>
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-apigatewayv2-authorizer-authorizeruri"></a><span class="term"><code class="code">AuthorizerUri</code></span></dt>
                                       <dd>
                                          
                                          
                                          <p>The authorizer&apos;s Uniform Resource Identifier (URI). For <code class="code">REQUEST</code>
                                             authorizers, this must be a well-formed Lambda function URI, for example,
                                             <code class="code">arn:aws:apigateway:us-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:us-west-2:<em><span>{</span>account_id}</em>:function:<em><span>{</span>lambda_function_name}</em>/invocations</code>.
                                             In general, the URI has this form:
                                             <code class="code">arn:aws:apigateway:<em><span>{</span>region}</em>:lambda:path/<em><span>{</span>service_api}</em>
                                                </code>, where <em><span>{</span>region}</em> is the same as the region hosting the
                                             Lambda function, path indicates that the remaining substring in the URI should be
                                             treated as the path to the resource, including the initial <code class="code">/</code>. For
                                             Lambda functions, this is usually of the form
                                             <code class="code">/2015-03-31/functions/[FunctionARN]/invocations</code>.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-apigatewayv2-authorizer-enablesimpleresponses"></a><span class="term"><code class="code">EnableSimpleResponses</code></span></dt>
                                       <dd>
                                          
                                          <p>Specifies whether a Lambda authorizer returns a response in a simple format. By default,
                                             a Lambda authorizer must return an IAM policy. If enabled, the Lambda authorizer can
                                             return a boolean value instead of an IAM policy. Supported only for HTTP APIs. To
                                             learn more, see <a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-lambda-authorizer.html">Working with AWS Lambda authorizers for HTTP APIs</a>.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: Boolean
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-apigatewayv2-authorizer-identitysource"></a><span class="term"><code class="code">IdentitySource</code></span></dt>
                                       <dd>
                                          
                                          
                                          
                                          
                                          <p>The identity source for which authorization is requested.</p>
                                          <p>For a <code class="code">REQUEST</code> authorizer, this is optional. The value is a set of
                                             one or more mapping expressions of the specified request parameters. The
                                             identity source can be headers, query string parameters, stage variables, and
                                             context parameters. For example, if an Auth header and a Name query string
                                             parameter are defined as identity sources, this value is
                                             route.request.header.Auth, route.request.querystring.Name for WebSocket APIs.
                                             For HTTP APIs, use selection expressions prefixed with <code class="code">$</code>, for
                                             example, <code class="code">$request.header.Auth</code>,
                                             <code class="code">$request.querystring.Name</code>. These parameters are used to perform
                                             runtime validation for Lambda-based authorizers by verifying all of the
                                             identity-related request parameters are present in the request, not null, and
                                             non-empty. Only when this is true does the authorizer invoke the authorizer
                                             Lambda function. Otherwise, it returns a 401 Unauthorized response without
                                             calling the Lambda function. For HTTP APIs, identity sources are also used as the
                                             cache key when caching is enabled. To learn more, see <a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-lambda-authorizer.html">Working with AWS Lambda authorizers for HTTP APIs</a>.
                                          </p>
                                          <p>For <code class="code">JWT</code>, a single entry that specifies where to extract the JSON
                                             Web Token (JWT) from inbound requests. Currently only header-based and query
                                             parameter-based selections are supported, for example
                                             <code class="code">$request.header.Authorization</code>.
                                          </p>
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: List of String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-apigatewayv2-authorizer-identityvalidationexpression"></a><span class="term"><code class="code">IdentityValidationExpression</code></span></dt>
                                       <dd>
                                          
                                          
                                          <p>This parameter is not used.</p>
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-apigatewayv2-authorizer-jwtconfiguration"></a><span class="term"><code class="code">JwtConfiguration</code></span></dt>
                                       <dd>
                                          
                                          <p>The <code class="code">JWTConfiguration</code> property specifies the configuration of a JWT
                                             authorizer. Required for the <code class="code">JWT</code> authorizer type. Supported only for
                                             HTTP APIs. 
                                          </p>
                                          
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-apigatewayv2-authorizer-jwtconfiguration.html">JWTConfiguration</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-apigatewayv2-authorizer-name"></a><span class="term"><code class="code">Name</code></span></dt>
                                       <dd>
                                          
                                          
                                          <p>The name of the authorizer.</p>
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                    </dl>
                                 </div>
                                 <h2 id="aws-resource-apigatewayv2-authorizer-return-values">Return values</h2>
                                 <h3 id="aws-resource-apigatewayv2-authorizer-return-values-ref">Ref</h3>
                                 <p>When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the authorizer&apos;s ID, such as
                                    <code class="code">abcde1</code>.
                                 </p>
                                 <p>For more information about using the <code class="code">Ref</code> function, see <a href="intrinsic-function-reference-ref.html">Ref</a>.
                                 </p>
                                 <h2 id="aws-resource-apigatewayv2-authorizer--examples">Examples</h2>
                                 <p></p>
                                 <h3 id="aws-resource-apigatewayv2-authorizer--examples--Authorizer_creation_example">Authorizer creation example</h3>
                                 <p>The following example creates a Lambda <code class="code">authorizer</code>
                                    resource for the <code class="code">MyApi</code> API.
                                 </p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-resource-apigatewayv2-authorizer--examples--Authorizer_creation_example--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    &quot;Authorizer&quot;: <span>{</span>
        &quot;Type&quot;: &quot;AWS::ApiGatewayV2::Authorizer&quot;,
        &quot;Properties&quot;: <span>{</span>
            &quot;Name&quot;: &quot;LambdaAuthorizer&quot;,
            &quot;ApiId&quot;: <span>{</span>
                &quot;Ref&quot;: &quot;MyApi&quot;
            },
            &quot;AuthorizerType&quot;: &quot;REQUEST&quot;,
            &quot;AuthorizerCredentialsArn&quot;: &quot;Arn&quot;,
            &quot;AuthorizerUri&quot;: <span>{</span>
                &quot;Fn::Join&quot;: [
                    &quot;&quot;,
                    [
                        &quot;arn:&quot;,
                        <span>{</span>
                            &quot;Ref&quot;: &quot;AWS::Partition&quot;
                        },
                        &quot;:apigateway:&quot;,
                        <span>{</span>
                            &quot;Ref&quot;: &quot;AWS::Region&quot;
                        },
                        &quot;:lambda:path/2015-03-31/functions/&quot;,
                        &quot;/invocations&quot;
                    ]
                ]
            },
            &quot;AuthorizerResultTtlInSeconds&quot;: 500,
            &quot;IdentitySource&quot;: [
                &quot;route.request.header.Auth&quot;
            ]
        }
    }
}</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-resource-apigatewayv2-authorizer--examples--Authorizer_creation_example--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Authorizer:
  Type: &apos;AWS::ApiGatewayV2::Authorizer&apos;
  Properties:
    Name: LambdaAuthorizer
    ApiId: !Ref MyApi
    AuthorizerType: REQUEST
    AuthorizerCredentialsArn: Arn
    AuthorizerUri: !Join 
      - &apos;&apos;
      - - &apos;arn:&apos;
        - !Ref &apos;AWS::Partition&apos;
        - &apos;:apigateway:&apos;
        - !Ref &apos;AWS::Region&apos;
        - &apos;:lambda:path/2015-03-31/functions/&apos;
        - /invocations
    AuthorizerResultTtlInSeconds: 500
    IdentitySource:
      - route.request.header.Auth</code></pre></div>
                                 <h2 id="aws-resource-apigatewayv2-authorizer--seealso">See also</h2>
                                 <div class="itemizedlist">
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p><a href="https://docs.aws.amazon.com/apigatewayv2/latest/api-reference/apis-apiid-authorizers.html#CreateAuthorizer">CreateAuthorizer</a> in the <em>Amazon API
                                                Gateway Version 2 API Reference</em></p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                 <p></p>
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                                 <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning"> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the AWS Documentation, Javascript must be
                                                enabled. Please refer to your browser&apos;s Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div></div>
</body>
</html>