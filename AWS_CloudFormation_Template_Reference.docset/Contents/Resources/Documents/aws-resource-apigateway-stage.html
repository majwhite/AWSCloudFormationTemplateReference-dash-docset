<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="aws-resource-apigateway-stage">AWS::ApiGateway::Stage</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>The <code class="code">AWS::ApiGateway::Stage</code> resource creates a stage for a deployment.
                                 </p>
                                 <h2 id="aws-resource-apigateway-stage-syntax">Syntax</h2>
                                 <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h3 id="aws-resource-apigateway-stage-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;Type&quot; : &quot;AWS::ApiGateway::Stage&quot;,
  &quot;Properties&quot; : <span>{</span>
      &quot;<a href="#cfn-apigateway-stage-accesslogsetting">AccessLogSetting</a>&quot; : <code class="replaceable"><a href="./aws-properties-apigateway-stage-accesslogsetting.html">AccessLogSetting</a></code>,
      &quot;<a href="#cfn-apigateway-stage-cacheclusterenabled">CacheClusterEnabled</a>&quot; : <code class="replaceable">Boolean</code>,
      &quot;<a href="#cfn-apigateway-stage-cacheclustersize">CacheClusterSize</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-apigateway-stage-canarysetting">CanarySetting</a>&quot; : <code class="replaceable"><a href="./aws-properties-apigateway-stage-canarysetting.html">CanarySetting</a></code>,
      &quot;<a href="#cfn-apigateway-stage-clientcertificateid">ClientCertificateId</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-apigateway-stage-deploymentid">DeploymentId</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-apigateway-stage-description">Description</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-apigateway-stage-documentationversion">DocumentationVersion</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-apigateway-stage-methodsettings">MethodSettings</a>&quot; : <code class="replaceable">[ <a href="./aws-properties-apitgateway-stage-methodsetting.html">MethodSetting</a>, ... ]</code>,
      &quot;<a href="#cfn-apigateway-stage-restapiid">RestApiId</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-apigateway-stage-stagename">StageName</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-apigateway-stage-tags">Tags</a>&quot; : <code class="replaceable">[ <a href="aws-properties-resource-tags.html">Tag</a>, ... ]</code>,
      &quot;<a href="#cfn-apigateway-stage-tracingenabled">TracingEnabled</a>&quot; : <code class="replaceable">Boolean</code>,
      &quot;<a href="#cfn-apigateway-stage-variables">Variables</a>&quot; : <code class="replaceable"><span>{</span><code class="replaceable">Key</code> : <code class="replaceable">Value</code>, ...}</code>
    }
}
</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h3 id="aws-resource-apigateway-stage-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::ApiGateway::Stage
Properties: 
  <a href="#cfn-apigateway-stage-accesslogsetting">AccessLogSetting</a>: <code class="replaceable">
    <a href="./aws-properties-apigateway-stage-accesslogsetting.html">AccessLogSetting</a></code>
  <a href="#cfn-apigateway-stage-cacheclusterenabled">CacheClusterEnabled</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-apigateway-stage-cacheclustersize">CacheClusterSize</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigateway-stage-canarysetting">CanarySetting</a>: <code class="replaceable">
    <a href="./aws-properties-apigateway-stage-canarysetting.html">CanarySetting</a></code>
  <a href="#cfn-apigateway-stage-clientcertificateid">ClientCertificateId</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigateway-stage-deploymentid">DeploymentId</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigateway-stage-description">Description</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigateway-stage-documentationversion">DocumentationVersion</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigateway-stage-methodsettings">MethodSettings</a>: <code class="replaceable">
    - <a href="./aws-properties-apitgateway-stage-methodsetting.html">MethodSetting</a></code>
  <a href="#cfn-apigateway-stage-restapiid">RestApiId</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigateway-stage-stagename">StageName</a>: <code class="replaceable">String</code>
  <a href="#cfn-apigateway-stage-tags">Tags</a>: <code class="replaceable">
    - <a href="aws-properties-resource-tags.html">Tag</a></code>
  <a href="#cfn-apigateway-stage-tracingenabled">TracingEnabled</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-apigateway-stage-variables">Variables</a>: <code class="replaceable">
    <code class="replaceable">Key</code> : <code class="replaceable">Value</code></code>
</code></pre></div>
                                 <h2 id="aws-resource-apigateway-stage-properties">Properties</h2>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="cfn-apigateway-stage-accesslogsetting"></a><span class="term"><code class="code">AccessLogSetting</code></span></dt>
                                       <dd>
                                          
                                          <p>Specifies settings for logging access in this stage.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-apigateway-stage-accesslogsetting.html">AccessLogSetting</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-apigateway-stage-cacheclusterenabled"></a><span class="term"><code class="code">CacheClusterEnabled</code></span></dt>
                                       <dd>
                                          
                                          <p>Indicates whether cache clustering is enabled for the stage.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: Boolean
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-apigateway-stage-cacheclustersize"></a><span class="term"><code class="code">CacheClusterSize</code></span></dt>
                                       <dd>
                                          
                                          <p>The stage&apos;s cache cluster size.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-apigateway-stage-canarysetting"></a><span class="term"><code class="code">CanarySetting</code></span></dt>
                                       <dd>
                                          
                                          <p>Specifies settings for the canary deployment in this stage.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-apigateway-stage-canarysetting.html">CanarySetting</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-apigateway-stage-clientcertificateid"></a><span class="term"><code class="code">ClientCertificateId</code></span></dt>
                                       <dd>
                                          
                                          <p>The ID of the client certificate that API Gateway uses to call your integration endpoints
                                             in the stage.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-apigateway-stage-deploymentid"></a><span class="term"><code class="code">DeploymentId</code></span></dt>
                                       <dd>
                                          
                                          <p>The ID of the deployment that the stage is associated with. This parameter is required
                                             to create a stage.
                                          </p>
                                          
                                          <p><em>Required</em>: Conditional
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-apigateway-stage-description"></a><span class="term"><code class="code">Description</code></span></dt>
                                       <dd>
                                          
                                          <p>A description of the stage.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-apigateway-stage-documentationversion"></a><span class="term"><code class="code">DocumentationVersion</code></span></dt>
                                       <dd>
                                          
                                          <p>The version ID of the API documentation snapshot.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-apigateway-stage-methodsettings"></a><span class="term"><code class="code">MethodSettings</code></span></dt>
                                       <dd>
                                          
                                          <p>Settings for all methods in the stage.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of <a href="./aws-properties-apitgateway-stage-methodsetting.html">MethodSetting</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-apigateway-stage-restapiid"></a><span class="term"><code class="code">RestApiId</code></span></dt>
                                       <dd>
                                          
                                          <p>The ID of the <code class="code">RestApi</code> resource that you&apos;re deploying with this stage.
                                          </p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-apigateway-stage-stagename"></a><span class="term"><code class="code">StageName</code></span></dt>
                                       <dd>
                                          
                                          <p>The name of the stage, which API Gateway uses as the first path segment in the invoked
                                             Uniform Resource Identifier (URI).
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-apigateway-stage-tags"></a><span class="term"><code class="code">Tags</code></span></dt>
                                       <dd>
                                          
                                          <p>An array of arbitrary tags (key-value pairs) to associate with the stage.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of <a href="aws-properties-resource-tags.html">Tag</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-apigateway-stage-tracingenabled"></a><span class="term"><code class="code">TracingEnabled</code></span></dt>
                                       <dd>
                                          
                                          <p>Specifies whether active X-Ray tracing is enabled for this stage.</p>
                                          
                                          <p>For more information, see <a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-xray.html">Trace API Gateway API Execution with AWS X-Ray</a> in the <em>API Gateway Developer Guide</em>.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: Boolean
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-apigateway-stage-variables"></a><span class="term"><code class="code">Variables</code></span></dt>
                                       <dd>
                                          
                                          <p>A map (string-to-string map) that defines the stage variables, where the variable
                                             name is the key and the variable value is the value. Variable names are limited to
                                             alphanumeric characters. Values must match the following regular expression: <code class="code">[A-Za-z0-9-._~:/?#&amp;=,]+</code>.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: Map of String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                    </dl>
                                 </div>
                                 <h2 id="aws-resource-apigateway-stage-return-values">Return values</h2>
                                 <h3 id="aws-resource-apigateway-stage-return-values-ref">Ref</h3>
                                 <p>When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the name of the stage, such as <code class="code">MyTestStage</code>.
                                 </p>
                                 <p>For more information about using the <code class="code">Ref</code> function, see <a href="intrinsic-function-reference-ref.html">Ref</a>.
                                 </p>
                                 <h2 id="aws-resource-apigateway-stage--examples">Examples</h2>
                                 <p></p>
                                 <h3 id="aws-resource-apigateway-stage--examples--Create_stage">Create stage</h3>
                                 <p>The following example creates a stage for the <code class="code">TestDeployment</code> deployment. The stage also specifies method settings for the <code class="code">MyRestApi</code> API.
                                 </p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-resource-apigateway-stage--examples--Create_stage--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    &quot;Resources&quot;: <span>{</span>
        &quot;Prod&quot;: <span>{</span>
            &quot;Type&quot;: &quot;AWS::ApiGateway::Stage&quot;,
            &quot;Properties&quot;: <span>{</span>
                &quot;StageName&quot;: &quot;Prod&quot;,
                &quot;Description&quot;: &quot;Prod Stage&quot;,
                &quot;RestApiId&quot;: <span>{</span>
                    &quot;Ref&quot;: &quot;MyRestApi&quot;
                },
                &quot;DeploymentId&quot;: <span>{</span>
                    &quot;Ref&quot;: &quot;TestDeployment&quot;
                },
                &quot;DocumentationVersion&quot;: <span>{</span>
                    &quot;Ref&quot;: &quot;MyDocumentationVersion&quot;
                },
                &quot;ClientCertificateId&quot;: <span>{</span>
                    &quot;Ref&quot;: &quot;ClientCertificate&quot;
                },
                &quot;Variables&quot;: <span>{</span>
                    &quot;Stack&quot;: &quot;Prod&quot;
                },
                &quot;MethodSettings&quot;: [
                    <span>{</span>
                        &quot;ResourcePath&quot;: &quot;/&quot;,
                        &quot;HttpMethod&quot;: &quot;GET&quot;,
                        &quot;MetricsEnabled&quot;: &quot;true&quot;,
                        &quot;DataTraceEnabled&quot;: &quot;false&quot;
                    },
                    <span>{</span>
                        &quot;ResourcePath&quot;: &quot;/stack&quot;,
                        &quot;HttpMethod&quot;: &quot;POST&quot;,
                        &quot;MetricsEnabled&quot;: &quot;true&quot;,
                        &quot;DataTraceEnabled&quot;: &quot;false&quot;,
                        &quot;ThrottlingBurstLimit&quot;: &quot;999&quot;
                    },
                    <span>{</span>
                        &quot;ResourcePath&quot;: &quot;/stack&quot;,
                        &quot;HttpMethod&quot;: &quot;GET&quot;,
                        &quot;MetricsEnabled&quot;: &quot;true&quot;,
                        &quot;DataTraceEnabled&quot;: &quot;false&quot;,
                        &quot;ThrottlingBurstLimit&quot;: &quot;555&quot;
                    }
                ]
            }
        }
    }
}</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-resource-apigateway-stage--examples--Create_stage--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:
  Prod:
    Type: AWS::ApiGateway::Stage
    Properties:
      StageName: Prod
      Description: Prod Stage
      RestApiId: !Ref MyRestApi
      DeploymentId: !Ref TestDeployment
      DocumentationVersion: !Ref MyDocumentationVersion
      ClientCertificateId: !Ref ClientCertificate
      Variables:
        Stack: Prod
      MethodSettings:
        - ResourcePath: /
          HttpMethod: GET
          MetricsEnabled: &apos;true&apos;
          DataTraceEnabled: &apos;false&apos;
        - ResourcePath: /stack
          HttpMethod: POST
          MetricsEnabled: &apos;true&apos;
          DataTraceEnabled: &apos;false&apos;
          ThrottlingBurstLimit: &apos;999&apos;
        - ResourcePath: /stack
          HttpMethod: GET
          MetricsEnabled: &apos;true&apos;
          DataTraceEnabled: &apos;false&apos;
          ThrottlingBurstLimit: &apos;555&apos;</code></pre></div>
                                 <h2 id="aws-resource-apigateway-stage--seealso">See also</h2>
                                 <div class="itemizedlist">
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p><a href="https://docs.aws.amazon.com/apigateway/api-reference/link-relation/stage-create/">stage:create</a> in the <em>Amazon API Gateway REST API Reference</em></p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                 <p></p>
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                                 <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning"> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the Amazon Web Services Documentation, Javascript must be
                                                enabled. Please refer to your browser&apos;s Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div></div>
</body>
</html>