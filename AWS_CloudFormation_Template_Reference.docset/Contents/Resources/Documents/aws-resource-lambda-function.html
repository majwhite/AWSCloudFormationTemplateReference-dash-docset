<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="aws-resource-lambda-function">AWS::Lambda::Function</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>The <code class="code">AWS::Lambda::Function</code> resource creates a Lambda function. To create a function, you need a
                                    <a href="https://docs.aws.amazon.com/lambda/latest/dg/deployment-package-v2.html">deployment package</a> and an
                                    <a href="https://docs.aws.amazon.com/lambda/latest/dg/intro-permission-model.html#lambda-intro-execution-role">execution role</a>. The deployment package contains your function code. The execution role grants the
                                    function permission to use AWS services, such as Amazon CloudWatch Logs for log streaming
                                    and AWS X-Ray for
                                    request tracing.
                                 </p>
                                 <h2 id="aws-resource-lambda-function-syntax">Syntax</h2>
                                 <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h3 id="aws-resource-lambda-function-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;Type&quot; : &quot;AWS::Lambda::Function&quot;,
  &quot;Properties&quot; : <span>{</span>
      &quot;<a href="#cfn-lambda-function-code">Code</a>&quot; : <code class="replaceable"><a href="./aws-properties-lambda-function-code.html">Code</a></code>,
      &quot;<a href="#cfn-lambda-function-deadletterconfig">DeadLetterConfig</a>&quot; : <code class="replaceable"><a href="./aws-properties-lambda-function-deadletterconfig.html">DeadLetterConfig</a></code>,
      &quot;<a href="#cfn-lambda-function-description">Description</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-lambda-function-environment">Environment</a>&quot; : <code class="replaceable"><a href="./aws-properties-lambda-function-environment.html">Environment</a></code>,
      &quot;<a href="#cfn-lambda-function-filesystemconfigs">FileSystemConfigs</a>&quot; : <code class="replaceable">[ <a href="./aws-properties-lambda-function-filesystemconfig.html">FileSystemConfig</a>, ... ]</code>,
      &quot;<a href="#cfn-lambda-function-functionname">FunctionName</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-lambda-function-handler">Handler</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-lambda-function-kmskeyarn">KmsKeyArn</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-lambda-function-layers">Layers</a>&quot; : <code class="replaceable">[ String, ... ]</code>,
      &quot;<a href="#cfn-lambda-function-memorysize">MemorySize</a>&quot; : <code class="replaceable">Integer</code>,
      &quot;<a href="#cfn-lambda-function-reservedconcurrentexecutions">ReservedConcurrentExecutions</a>&quot; : <code class="replaceable">Integer</code>,
      &quot;<a href="#cfn-lambda-function-role">Role</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-lambda-function-runtime">Runtime</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-lambda-function-tags">Tags</a>&quot; : <code class="replaceable">[ <a href="aws-properties-resource-tags.html">Tag</a>, ... ]</code>,
      &quot;<a href="#cfn-lambda-function-timeout">Timeout</a>&quot; : <code class="replaceable">Integer</code>,
      &quot;<a href="#cfn-lambda-function-tracingconfig">TracingConfig</a>&quot; : <code class="replaceable"><a href="./aws-properties-lambda-function-tracingconfig.html">TracingConfig</a></code>,
      &quot;<a href="#cfn-lambda-function-vpcconfig">VpcConfig</a>&quot; : <code class="replaceable"><a href="./aws-properties-lambda-function-vpcconfig.html">VpcConfig</a></code>
    }
}
</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h3 id="aws-resource-lambda-function-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::Lambda::Function
Properties: 
  <a href="#cfn-lambda-function-code">Code</a>: <code class="replaceable">
    <a href="./aws-properties-lambda-function-code.html">Code</a></code>
  <a href="#cfn-lambda-function-deadletterconfig">DeadLetterConfig</a>: <code class="replaceable">
    <a href="./aws-properties-lambda-function-deadletterconfig.html">DeadLetterConfig</a></code>
  <a href="#cfn-lambda-function-description">Description</a>: <code class="replaceable">String</code>
  <a href="#cfn-lambda-function-environment">Environment</a>: <code class="replaceable">
    <a href="./aws-properties-lambda-function-environment.html">Environment</a></code>
  <a href="#cfn-lambda-function-filesystemconfigs">FileSystemConfigs</a>: <code class="replaceable">
    - <a href="./aws-properties-lambda-function-filesystemconfig.html">FileSystemConfig</a></code>
  <a href="#cfn-lambda-function-functionname">FunctionName</a>: <code class="replaceable">String</code>
  <a href="#cfn-lambda-function-handler">Handler</a>: <code class="replaceable">String</code>
  <a href="#cfn-lambda-function-kmskeyarn">KmsKeyArn</a>: <code class="replaceable">String</code>
  <a href="#cfn-lambda-function-layers">Layers</a>: <code class="replaceable">
    - String</code>
  <a href="#cfn-lambda-function-memorysize">MemorySize</a>: <code class="replaceable">Integer</code>
  <a href="#cfn-lambda-function-reservedconcurrentexecutions">ReservedConcurrentExecutions</a>: <code class="replaceable">Integer</code>
  <a href="#cfn-lambda-function-role">Role</a>: <code class="replaceable">String</code>
  <a href="#cfn-lambda-function-runtime">Runtime</a>: <code class="replaceable">String</code>
  <a href="#cfn-lambda-function-tags">Tags</a>: <code class="replaceable">
    - <a href="aws-properties-resource-tags.html">Tag</a></code>
  <a href="#cfn-lambda-function-timeout">Timeout</a>: <code class="replaceable">Integer</code>
  <a href="#cfn-lambda-function-tracingconfig">TracingConfig</a>: <code class="replaceable">
    <a href="./aws-properties-lambda-function-tracingconfig.html">TracingConfig</a></code>
  <a href="#cfn-lambda-function-vpcconfig">VpcConfig</a>: <code class="replaceable">
    <a href="./aws-properties-lambda-function-vpcconfig.html">VpcConfig</a></code>
</code></pre></div>
                                 <h2 id="aws-resource-lambda-function-properties">Properties</h2>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="cfn-lambda-function-code"></a><span class="term"><code class="code">Code</code></span></dt>
                                       <dd>
                                          
                                          <p>The code for the function.</p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-lambda-function-code.html">Code</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-lambda-function-deadletterconfig"></a><span class="term"><code class="code">DeadLetterConfig</code></span></dt>
                                       <dd>
                                          
                                          <p>A dead letter queue configuration that specifies the queue or topic where Lambda sends
                                             asynchronous events
                                             when they fail processing. For more information, see <a href="https://docs.aws.amazon.com/lambda/latest/dg/invocation-async.html#dlq">Dead Letter Queues</a>.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-lambda-function-deadletterconfig.html">DeadLetterConfig</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-lambda-function-description"></a><span class="term"><code class="code">Description</code></span></dt>
                                       <dd>
                                          
                                          <p>A description of the function.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Minimum</em>: <code class="code">0</code></p>
                                          <p><em>Maximum</em>: <code class="code">256</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-lambda-function-environment"></a><span class="term"><code class="code">Environment</code></span></dt>
                                       <dd>
                                          
                                          <p>Environment variables that are accessible from function code during execution.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-lambda-function-environment.html">Environment</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-lambda-function-filesystemconfigs"></a><span class="term"><code class="code">FileSystemConfigs</code></span></dt>
                                       <dd>
                                          
                                          
                                          <p>Connection settings for an Amazon EFS file system. To connect a function to a file
                                             system, a mount target must be available in every Availability Zone that your function
                                             connects to. If your template contains an <a href="aws-resource-efs-mounttarget.html">AWS::EFS::MountTarget</a> resource, you must also specify a <code class="code">DependsOn</code> attribute to ensure that the mount target is created or updated before the function.
                                          </p>
                                          
                                          <p>For more information about using the <code class="code">DependsOn</code> attribute, see <a href="aws-attribute-dependson.html">DependsOn Attribute</a>.
                                             
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of <a href="./aws-properties-lambda-function-filesystemconfig.html">FileSystemConfig</a></p>
                                          <p><em>Maximum</em>: <code class="code">1</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-lambda-function-functionname"></a><span class="term"><code class="code">FunctionName</code></span></dt>
                                       <dd>
                                          
                                          <p>The name of the Lambda function, up to 64 characters in length. If you don&apos;t specify
                                             a name, AWS
                                             CloudFormation generates one.
                                          </p>
                                          
                                          <p>If you specify a name, you cannot perform updates that require replacement of this
                                             resource. You can perform
                                             updates that require no or some interruption. If you must replace the resource, specify
                                             a new name.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-lambda-function-handler"></a><span class="term"><code class="code">Handler</code></span></dt>
                                       <dd>
                                          
                                          <p>The name of the method within your code that Lambda calls to execute your function.
                                             The format includes the
                                             file name. It can also include namespaces and other qualifiers, depending on the runtime.
                                             For more information,
                                             see <a href="https://docs.aws.amazon.com/lambda/latest/dg/programming-model-v2.html">Programming Model</a>.
                                          </p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Maximum</em>: <code class="code">128</code></p>
                                          <p><em>Pattern</em>: <code class="code">[^\s]+</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-lambda-function-kmskeyarn"></a><span class="term"><code class="code">KmsKeyArn</code></span></dt>
                                       <dd>
                                          
                                          <p>The ARN of the AWS Key Management Service (AWS KMS) key that&apos;s used to encrypt your
                                             function&apos;s environment
                                             variables. If it&apos;s not provided, AWS Lambda uses a default service key.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Pattern</em>: <code class="code">(arn:(aws[a-zA-Z-]*)?:[a-z0-9-.]+:.*)|()</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-lambda-function-layers"></a><span class="term"><code class="code">Layers</code></span></dt>
                                       <dd>
                                          
                                          <p>A list of <a href="https://docs.aws.amazon.com/lambda/latest/dg/configuration-layers.html">function layers</a>
                                             to add to the function&apos;s execution environment. Specify each layer by its ARN, including
                                             the version.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-lambda-function-memorysize"></a><span class="term"><code class="code">MemorySize</code></span></dt>
                                       <dd>
                                          
                                          <p>The amount of memory that your function has access to. Increasing the function&apos;s memory
                                             also increases its CPU
                                             allocation. The default value is 128 MB. The value must be a multiple of 64 MB.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: Integer
                                          </p>
                                          <p><em>Minimum</em>: <code class="code">128</code></p>
                                          <p><em>Maximum</em>: <code class="code">3008</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-lambda-function-reservedconcurrentexecutions"></a><span class="term"><code class="code">ReservedConcurrentExecutions</code></span></dt>
                                       <dd>
                                          
                                          <p>The number of simultaneous executions to reserve for the function.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: Integer
                                          </p>
                                          <p><em>Minimum</em>: <code class="code">0</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-lambda-function-role"></a><span class="term"><code class="code">Role</code></span></dt>
                                       <dd>
                                          
                                          <p>The Amazon Resource Name (ARN) of the function&apos;s execution role.</p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Pattern</em>: <code class="code">arn:(aws[a-zA-Z-]*)?:iam::\d<span>{</span>12}:role/?[a-zA-Z_0-9+=,.@\-_/]+</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-lambda-function-runtime"></a><span class="term"><code class="code">Runtime</code></span></dt>
                                       <dd>
                                          
                                          <p>The identifier of the function&apos;s <a href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-runtimes.html">runtime</a>.
                                          </p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Allowed values</em>: <code class="code">dotnetcore2.1 | dotnetcore3.1 | go1.x | java11 | java8 | java8.al2 | nodejs10.x |
                                                nodejs12.x | provided | provided.al2 | python2.7 | python3.6 | python3.7 | python3.8
                                                | ruby2.5 | ruby2.7</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-lambda-function-tags"></a><span class="term"><code class="code">Tags</code></span></dt>
                                       <dd>
                                          
                                          <p>A list of <a href="https://docs.aws.amazon.com/lambda/latest/dg/tagging.html">tags</a> to apply to the
                                             function.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of <a href="aws-properties-resource-tags.html">Tag</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-lambda-function-timeout"></a><span class="term"><code class="code">Timeout</code></span></dt>
                                       <dd>
                                          
                                          <p>The amount of time that Lambda allows a function to run before stopping it. The default
                                             is 3 seconds. The
                                             maximum allowed value is 900 seconds.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: Integer
                                          </p>
                                          <p><em>Minimum</em>: <code class="code">1</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-lambda-function-tracingconfig"></a><span class="term"><code class="code">TracingConfig</code></span></dt>
                                       <dd>
                                          
                                          <p>Set <code class="code">Mode</code> to <code class="code">Active</code> to sample and trace a subset of incoming requests with AWS
                                             X-Ray.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-lambda-function-tracingconfig.html">TracingConfig</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-lambda-function-vpcconfig"></a><span class="term"><code class="code">VpcConfig</code></span></dt>
                                       <dd>
                                          
                                          <p>For network connectivity to AWS resources in a VPC, specify a list of security groups
                                             and subnets in the
                                             VPC.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-lambda-function-vpcconfig.html">VpcConfig</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                    </dl>
                                 </div>
                                 <h2 id="aws-resource-lambda-function-return-values">Return values</h2>
                                 <h3 id="aws-resource-lambda-function-return-values-ref">Ref</h3>
                                 <p>
                                    When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the resource name.
                                 </p>
                                 <p>For more information about using the <code class="code">Ref</code> function, see <a href="intrinsic-function-reference-ref.html">Ref</a>.
                                 </p>
                                 <h3 id="aws-resource-lambda-function-return-values-fn--getatt">Fn::GetAtt</h3>
                                 <p>The <code class="code">Fn::GetAtt</code> intrinsic function returns a value for a specified attribute of this type. The following
                                    are the available attributes and sample return values.
                                 </p> 
                                 
                                 <p>For more information about using the <code class="code">Fn::GetAtt</code> intrinsic function, see <a href="intrinsic-function-reference-getatt.html">Fn::GetAtt</a>.
                                 </p>
                                 <h4 id="aws-resource-lambda-function-return-values-fn--getatt-fn--getatt"></h4>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="Arn-fn::getatt"></a><span class="term"><code class="code">Arn</code></span></dt>
                                       <dd>
                                          
                                          <p>The Amazon Resource Name (ARN) of the function.</p>
                                          
                                       </dd>
                                    </dl>
                                 </div>
                                 <h2 id="aws-resource-lambda-function--examples">Examples</h2>
                                 <h3 id="aws-resource-lambda-function--examples--Function">Function</h3>
                                 <p>Create a Node.js function.</p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-resource-lambda-function--examples--Function--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">&quot;AMIIDLookup&quot;: <span>{</span>
    &quot;Type&quot;: &quot;AWS::Lambda::Function&quot;,
    &quot;Properties&quot;: <span>{</span>
        &quot;Handler&quot;: &quot;index.handler&quot;,
        &quot;Role&quot;: <span>{</span>
            &quot;Fn::GetAtt&quot;: [
                &quot;LambdaExecutionRole&quot;,
                &quot;Arn&quot;
            ]
        },
        &quot;Code&quot;: <span>{</span>
            &quot;S3Bucket&quot;: &quot;lambda-functions&quot;,
            &quot;S3Key&quot;: &quot;amilookup.zip&quot;
        },
        &quot;Runtime&quot;: &quot;nodejs12.x&quot;,
        &quot;Timeout&quot;: 25,
        &quot;TracingConfig&quot;: <span>{</span>
            &quot;Mode&quot;: &quot;Active&quot;
        }
    }
}</code></pre></div>
                                 <h3 id="aws-resource-lambda-function--examples--Inline_Function">Inline Function</h3>
                                 <p>Inline Node.js function that uses the cfn-response library.</p>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-resource-lambda-function--examples--Inline_Function--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: &apos;2010-09-09&apos;
Description: Lambda function with cfn-response.
Resources:
  primer:
    Type: AWS::Lambda::Function
    Properties:
      Runtime: nodejs12.x
      Role: arn:aws:iam::123456789012:role/lambda-role
      Handler: index.handler
      Code:
        ZipFile: |
          var aws = require(&apos;aws-sdk&apos;)
          var response = require(&apos;cfn-response&apos;)
          exports.handler = function(event, context) <span>{</span>
              console.log(&quot;REQUEST RECEIVED:\n&quot; + JSON.stringify(event))
              // For Delete requests, immediately send a SUCCESS response.
              if (event.RequestType == &quot;Delete&quot;) <span>{</span>
                  response.send(event, context, &quot;SUCCESS&quot;)
                  return
              }
              var responseStatus = &quot;FAILED&quot;
              var responseData = <span>{</span>}
              var functionName = event.ResourceProperties.FunctionName
              var lambda = new aws.Lambda()
              lambda.invoke(<span>{</span> FunctionName: functionName }, function(err, invokeResult) <span>{</span>
                  if (err) <span>{</span>
                      responseData = <span>{</span>Error: &quot;Invoke call failed&quot;}
                      console.log(responseData.Error + &quot;:\n&quot;, err)
                  }
                  else responseStatus = &quot;SUCCESS&quot;
                  response.send(event, context, responseStatus, responseData)
              })
          }
      Description: Invoke a function during stack creation.
      TracingConfig:
        Mode: Active</code></pre></div>
                                 <h3 id="aws-resource-lambda-function--examples--VPC_Function">VPC Function</h3>
                                 <p>Function connected to a VPC.</p>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-resource-lambda-function--examples--VPC_Function--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: &apos;2010-09-09&apos;
Description: VPC function.
Resources:
  Function: 
    Type: AWS::Lambda::Function
    Properties: 
      Handler: index.handler
      Role: arn:aws:iam::123456789012:role/lambda-role
      Code: 
        S3Bucket: my-bucket
        S3Key: function.zip
      Runtime: nodejs12.x
      Timeout: 5
      TracingConfig:
        Mode: Active
      VpcConfig: 
        SecurityGroupIds: 
          - sg-085912345678492fb
        SubnetIds: 
          - subnet-071f712345678e7c8
          - subnet-07fd123456788a036</code></pre></div>
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning"> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the AWS Documentation, Javascript must be
                                                enabled. Please refer to your browser&apos;s Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div></div>
</body>
</html>