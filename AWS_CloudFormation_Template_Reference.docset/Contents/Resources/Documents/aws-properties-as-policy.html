<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="aws-properties-as-policy">AWS::AutoScaling::ScalingPolicy</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>The AWS::AutoScaling::ScalingPolicy resource specifies an Amazon EC2 Auto Scaling
                                    scaling
                                    policy so that the Auto Scaling group can change the number of instances available
                                    for your
                                    application in response to changing demand.
                                 </p>
                                 <p>For more information about using scaling policies to scale your Auto Scaling group
                                    automatically, see <a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/as-scale-based-on-demand.html">Dynamic scaling</a> in the
                                    <em>Amazon EC2 Auto Scaling User Guide</em>. 
                                 </p>
                                 <h2 id="aws-properties-as-policy-syntax">Syntax</h2>
                                 <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h3 id="aws-properties-as-policy-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;Type&quot; : &quot;AWS::AutoScaling::ScalingPolicy&quot;,
  &quot;Properties&quot; : <span>{</span>
      &quot;<a href="#cfn-as-scalingpolicy-adjustmenttype">AdjustmentType</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-as-scalingpolicy-autoscalinggroupname">AutoScalingGroupName</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-as-scalingpolicy-cooldown">Cooldown</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-as-scalingpolicy-estimatedinstancewarmup">EstimatedInstanceWarmup</a>&quot; : <code class="replaceable">Integer</code>,
      &quot;<a href="#cfn-as-scalingpolicy-metricaggregationtype">MetricAggregationType</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-as-scalingpolicy-minadjustmentmagnitude">MinAdjustmentMagnitude</a>&quot; : <code class="replaceable">Integer</code>,
      &quot;<a href="#cfn-as-scalingpolicy-policytype">PolicyType</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-as-scalingpolicy-scalingadjustment">ScalingAdjustment</a>&quot; : <code class="replaceable">Integer</code>,
      &quot;<a href="#cfn-as-scalingpolicy-stepadjustments">StepAdjustments</a>&quot; : <code class="replaceable">[ <a href="./aws-properties-autoscaling-scalingpolicy-stepadjustments.html">StepAdjustment</a>, ... ]</code>,
      &quot;<a href="#cfn-autoscaling-scalingpolicy-targettrackingconfiguration">TargetTrackingConfiguration</a>&quot; : <code class="replaceable"><a href="./aws-properties-autoscaling-scalingpolicy-targettrackingconfiguration.html">TargetTrackingConfiguration</a></code>
    }
}
</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h3 id="aws-properties-as-policy-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::AutoScaling::ScalingPolicy
Properties: 
  <a href="#cfn-as-scalingpolicy-adjustmenttype">AdjustmentType</a>: <code class="replaceable">String</code>
  <a href="#cfn-as-scalingpolicy-autoscalinggroupname">AutoScalingGroupName</a>: <code class="replaceable">String</code>
  <a href="#cfn-as-scalingpolicy-cooldown">Cooldown</a>: <code class="replaceable">String</code>
  <a href="#cfn-as-scalingpolicy-estimatedinstancewarmup">EstimatedInstanceWarmup</a>: <code class="replaceable">Integer</code>
  <a href="#cfn-as-scalingpolicy-metricaggregationtype">MetricAggregationType</a>: <code class="replaceable">String</code>
  <a href="#cfn-as-scalingpolicy-minadjustmentmagnitude">MinAdjustmentMagnitude</a>: <code class="replaceable">Integer</code>
  <a href="#cfn-as-scalingpolicy-policytype">PolicyType</a>: <code class="replaceable">String</code>
  <a href="#cfn-as-scalingpolicy-scalingadjustment">ScalingAdjustment</a>: <code class="replaceable">Integer</code>
  <a href="#cfn-as-scalingpolicy-stepadjustments">StepAdjustments</a>: <code class="replaceable">
    - <a href="./aws-properties-autoscaling-scalingpolicy-stepadjustments.html">StepAdjustment</a></code>
  <a href="#cfn-autoscaling-scalingpolicy-targettrackingconfiguration">TargetTrackingConfiguration</a>: <code class="replaceable">
    <a href="./aws-properties-autoscaling-scalingpolicy-targettrackingconfiguration.html">TargetTrackingConfiguration</a></code>
</code></pre></div>
                                 <h2 id="aws-properties-as-policy-properties">Properties</h2>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="cfn-as-scalingpolicy-adjustmenttype"></a><span class="term"><code class="code">AdjustmentType</code></span></dt>
                                       <dd>
                                          
                                          <p>Specifies how the scaling adjustment is interpreted. The valid values are
                                             <code class="code">ChangeInCapacity</code>, <code class="code">ExactCapacity</code>, and
                                             <code class="code">PercentChangeInCapacity</code>. 
                                          </p>
                                          
                                          <p>Required if the policy type is <code class="code">StepScaling</code> or <code class="code">SimpleScaling</code>. For
                                             more information, see <a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/as-scaling-simple-step.html#as-scaling-adjustment">Scaling
                                                adjustment types</a> in the <em>Amazon EC2 Auto Scaling User
                                                Guide</em>.
                                          </p>
                                          
                                          <p><em>Required</em>: Conditional
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-as-scalingpolicy-autoscalinggroupname"></a><span class="term"><code class="code">AutoScalingGroupName</code></span></dt>
                                       <dd>
                                          
                                          <p>The name or Amazon Resource Name (ARN) of the Auto Scaling group that you want to
                                             attach
                                             the policy to. 
                                          </p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-as-scalingpolicy-cooldown"></a><span class="term"><code class="code">Cooldown</code></span></dt>
                                       <dd>
                                          
                                          <p>The duration of the policy&apos;s cooldown period, in seconds. When a cooldown period is
                                             specified here, it overrides the default cooldown period defined for the Auto Scaling
                                             group.
                                          </p>
                                          
                                          <p>Valid only if the policy type is <code class="code">SimpleScaling</code>. For more information, see
                                             <a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/Cooldown.html">Scaling cooldowns
                                                for Amazon EC2 Auto Scaling</a> in the <em>Amazon EC2 Auto Scaling User
                                                Guide</em>.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-as-scalingpolicy-estimatedinstancewarmup"></a><span class="term"><code class="code">EstimatedInstanceWarmup</code></span></dt>
                                       <dd>
                                          
                                          <p>The estimated time, in seconds, until a newly launched instance can contribute to
                                             the
                                             CloudWatch metrics. If not provided, the default is to use the value from the default
                                             cooldown
                                             period for the Auto Scaling group. 
                                          </p>
                                          
                                          <p>Valid only if the policy type is <code class="code">TargetTrackingScaling</code> or
                                             <code class="code">StepScaling</code>.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: Integer
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-as-scalingpolicy-metricaggregationtype"></a><span class="term"><code class="code">MetricAggregationType</code></span></dt>
                                       <dd>
                                          
                                          <p>The aggregation type for the CloudWatch metrics. The valid values are
                                             <code class="code">Minimum</code>, <code class="code">Maximum</code>, and <code class="code">Average</code>. If the aggregation type
                                             is null, the value is treated as <code class="code">Average</code>. 
                                          </p>
                                          
                                          <p>Valid only if the policy type is <code class="code">StepScaling</code>. 
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-as-scalingpolicy-minadjustmentmagnitude"></a><span class="term"><code class="code">MinAdjustmentMagnitude</code></span></dt>
                                       <dd>
                                          
                                          <p>The minimum value to scale by when the adjustment type is
                                             <code class="code">PercentChangeInCapacity</code>. For example, suppose that you create a step scaling
                                             policy to scale out an Auto Scaling group by 25 percent and you specify a
                                             <code class="code">MinAdjustmentMagnitude</code> of 2. If the group has 4 instances and the scaling
                                             policy is performed, 25 percent of 4 is 1. However, because you specified a
                                             <code class="code">MinAdjustmentMagnitude</code> of 2, Amazon EC2 Auto Scaling scales out the group by 2
                                             instances. 
                                          </p>
                                          
                                          <p>Valid only if the policy type is <code class="code">StepScaling</code> or <code class="code">SimpleScaling</code>.
                                             For more information, see <a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/as-scaling-simple-step.html#as-scaling-adjustment">Scaling
                                                adjustment types</a> in the <em>Amazon EC2 Auto Scaling User
                                                Guide</em>.
                                          </p>
                                          
                                          <div class="awsdocs-note">
                                             <div class="awsdocs-note-title">
                                                <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                             <div class="awsdocs-note-text">
                                                <p>Some Auto Scaling groups use instance weights. In this case, set the
                                                   <code class="code">MinAdjustmentMagnitude</code> to a value that is at least as large as your largest
                                                   instance weight.
                                                </p>
                                             </div>
                                          </div>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: Integer
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-as-scalingpolicy-policytype"></a><span class="term"><code class="code">PolicyType</code></span></dt>
                                       <dd>
                                          
                                          <p>One of the following policy types: </p>
                                          
                                          <div class="itemizedlist">
                                              
                                              
                                              
                                             
                                             <ul class="itemizedlist" type="disc">
                                                <li class="listitem">
                                                   
                                                   <p>
                                                      <code class="code">TargetTrackingScaling</code>
                                                      
                                                   </p>
                                                   
                                                </li>
                                                <li class="listitem">
                                                   
                                                   <p>
                                                      <code class="code">StepScaling</code>
                                                      
                                                   </p>
                                                   
                                                </li>
                                                <li class="listitem">
                                                   
                                                   <p>
                                                      <code class="code">SimpleScaling</code> (default)
                                                   </p>
                                                   
                                                </li>
                                             </ul>
                                          </div>
                                          
                                          <p>For more information, see <a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/as-scaling-target-tracking.html">Target Tracking
                                                Scaling Policies</a> and <a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/as-scaling-simple-step.html">Step and Simple Scaling
                                                Policies</a> in the <em>Amazon EC2 Auto Scaling User Guide</em>.
                                          </p>
                                          
                                          <p><em>Required</em>: Conditional
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-as-scalingpolicy-scalingadjustment"></a><span class="term"><code class="code">ScalingAdjustment</code></span></dt>
                                       <dd>
                                          
                                          <p>The amount by which to scale, based on the specified adjustment type. A positive value
                                             adds to the current capacity while a negative number removes from the current capacity.
                                             For
                                             exact capacity, you must specify a positive value. 
                                          </p>
                                          
                                          <p>Required if the policy type is <code class="code">SimpleScaling</code>. (Not used with any other policy
                                             type.) 
                                          </p>
                                          
                                          <p><em>Required</em>: Conditional
                                          </p>
                                          <p><em>Type</em>: Integer
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-as-scalingpolicy-stepadjustments"></a><span class="term"><code class="code">StepAdjustments</code></span></dt>
                                       <dd>
                                          
                                          <p>A set of adjustments that enable you to scale based on the size of the alarm breach.
                                             
                                          </p>
                                          
                                          <p>Required if the policy type is <code class="code">StepScaling</code>. (Not used with any other policy
                                             type.) 
                                          </p>
                                          
                                          <p><em>Required</em>: Conditional
                                          </p>
                                          <p><em>Type</em>: List of <a href="./aws-properties-autoscaling-scalingpolicy-stepadjustments.html">StepAdjustment</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-autoscaling-scalingpolicy-targettrackingconfiguration"></a><span class="term"><code class="code">TargetTrackingConfiguration</code></span></dt>
                                       <dd>
                                          
                                          <p>A target tracking scaling policy. Includes support for predefined or customized
                                             metrics.
                                          </p>
                                          
                                          <p>The following predefined metrics are available:</p>
                                          
                                          <div class="itemizedlist">
                                              
                                              
                                              
                                              
                                             
                                             <ul class="itemizedlist" type="disc">
                                                <li class="listitem">
                                                   
                                                   <p><code class="code">ASGAverageCPUUtilization</code></p>
                                                   
                                                </li>
                                                <li class="listitem">
                                                   
                                                   <p><code class="code">ASGAverageNetworkIn</code></p>
                                                   
                                                </li>
                                                <li class="listitem">
                                                   
                                                   <p><code class="code">ASGAverageNetworkOut</code></p>
                                                   
                                                </li>
                                                <li class="listitem">
                                                   
                                                   <p><code class="code">ALBRequestCountPerTarget</code>
                                                      
                                                   </p>
                                                   
                                                </li>
                                             </ul>
                                          </div>
                                          
                                          <p>If you specify <code class="code">ALBRequestCountPerTarget</code> for the metric, you must specify the
                                             <code class="code">ResourceLabel</code> property with the
                                             <code class="code">PredefinedMetricSpecification</code>.
                                          </p>
                                          
                                          <p><em>Required</em>: Conditional
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-autoscaling-scalingpolicy-targettrackingconfiguration.html">TargetTrackingConfiguration</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                    </dl>
                                 </div>
                                 <h2 id="aws-properties-as-policy-return-values">Return values</h2>
                                 <h3 id="aws-properties-as-policy-return-values-ref">Ref</h3>
                                 <p>When you specify an <code class="code">AWS::AutoScaling::ScalingPolicy</code> type as an argument to
                                    the <code class="code">Ref</code> function, AWS CloudFormation returns the policy Amazon Resource Name
                                    (ARN). For example:
                                    <code class="code">arn:aws:autoscaling:us-east-2:123456789012:scalingPolicy:ab12c4d5-a1b2-a1b2-a1b2-ab12c4d56789:autoScalingGroupName/myStack-AutoScalingGroup-AB12C4D5E6:policyName/myStack-myScalingPolicy-AB12C4D5E6</code>.
                                 </p>
                                 <p>For more information about using the <code class="code">Ref</code> function, see <a href="intrinsic-function-reference-ref.html">Ref</a>.
                                    
                                 </p>
                                 <h2 id="aws-properties-as-policy--examples">Examples</h2>
                                 <p>The following examples specify scaling policies for an Auto Scaling group.</p>
                                 <p>For more template snippets, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-autoscaling.html">Auto scaling template
                                       snippets</a>.
                                 </p>
                                 <h3 id="aws-properties-as-policy--examples--Target_tracking_scaling_policy">Target tracking scaling policy</h3>
                                 <p>The following example creates an Auto Scaling group with two target tracking scaling
                                    policies based on the <code class="code">ASGAverageCPUUtilization</code> and
                                    <code class="code">ALBRequestCountPerTarget</code> metrics. The properties of each of these policies
                                    include a <code class="code">TargetValue</code> property that references a <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html">parameter</a> value from the same template.
                                 </p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-properties-as-policy--examples--Target_tracking_scaling_policy--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;AWSTemplateFormatVersion&quot;:&quot;2010-09-09&quot;,
  &quot;Parameters&quot;:<span>{</span>
    &quot;AMI&quot;:<span>{</span>
      &quot;Type&quot;:&quot;String&quot;
    },
    &quot;Subnets&quot;:<span>{</span>
      &quot;Type&quot;:&quot;CommaDelimitedList&quot;
    },
    &quot;VPC&quot;:<span>{</span>
      &quot;Type&quot;:&quot;String&quot;
    },
    &quot;CPUPolicyTargetValue&quot;:<span>{</span>
      &quot;Type&quot;:&quot;String&quot;
    },
    &quot;ALBRequestCountTargetValue&quot;:<span>{</span>
      &quot;Type&quot;:&quot;String&quot;
    }
  },
  &quot;Resources&quot;:<span>{</span>
    &quot;myLoadBalancer&quot;:<span>{</span>
      &quot;Type&quot;:&quot;AWS::ElasticLoadBalancingV2::LoadBalancer&quot;,
      &quot;Properties&quot;:<span>{</span>
        &quot;Subnets&quot;:<span>{</span>
          &quot;Ref&quot;:&quot;Subnets&quot;
        }
      }
    },
    &quot;myLoadBalancerListener&quot;:<span>{</span>
      &quot;Type&quot;:&quot;AWS::ElasticLoadBalancingV2::Listener&quot;,
      &quot;Properties&quot;:<span>{</span>
        &quot;DefaultActions&quot;:[
          <span>{</span>
            &quot;TargetGroupArn&quot;:<span>{</span>
              &quot;Ref&quot;:&quot;myTargetGroup&quot;
            },
            &quot;Type&quot;:&quot;forward&quot;
          }
        ],
        &quot;LoadBalancerArn&quot;:<span>{</span>
          &quot;Ref&quot;:&quot;myLoadBalancer&quot;
        },
        &quot;Port&quot;:80,
        &quot;Protocol&quot;:&quot;HTTP&quot;
      }
    },
    &quot;myTargetGroup&quot;:<span>{</span>
      &quot;Type&quot;:&quot;AWS::ElasticLoadBalancingV2::TargetGroup&quot;,
      &quot;Properties&quot;:<span>{</span>
        &quot;Name&quot;:&quot;myTargetGroup&quot;,
        &quot;Port&quot;:80,
        &quot;Protocol&quot;:&quot;HTTP&quot;,
        &quot;VpcId&quot;:<span>{</span>
          &quot;Ref&quot;:&quot;VPC&quot;
        }
      }
    },
    &quot;myLaunchConfig&quot;:<span>{</span>
      &quot;Type&quot;:&quot;AWS::AutoScaling::LaunchConfiguration&quot;,
      &quot;Properties&quot;:<span>{</span>
        &quot;ImageId&quot;:<span>{</span>
          &quot;Ref&quot;:&quot;AMI&quot;
        },
        &quot;InstanceType&quot;:&quot;t2.large&quot;
      }
    },
    &quot;myASG&quot;:<span>{</span>
      &quot;Type&quot;:&quot;AWS::AutoScaling::AutoScalingGroup&quot;,
      &quot;Properties&quot;:<span>{</span>
        &quot;MaxSize&quot;:&quot;2&quot;,
        &quot;MinSize&quot;:&quot;1&quot;,
        &quot;VPCZoneIdentifier&quot;:<span>{</span>
          &quot;Ref&quot;:&quot;Subnets&quot;
        },
        &quot;LaunchConfigurationName&quot;:<span>{</span>
          &quot;Ref&quot;:&quot;myLaunchConfig&quot;
        },
        &quot;TargetGroupARNs&quot;:[
          <span>{</span>
            &quot;Ref&quot;:&quot;myTargetGroup&quot;
          }
        ]
      }
    },
    &quot;myCPUPolicy&quot;:<span>{</span>
      &quot;Type&quot;:&quot;AWS::AutoScaling::ScalingPolicy&quot;,
      &quot;Properties&quot;:<span>{</span>
        &quot;AutoScalingGroupName&quot;:<span>{</span>
          &quot;Ref&quot;:&quot;myASG&quot;
        },
        &quot;PolicyType&quot;:&quot;TargetTrackingScaling&quot;,
        &quot;TargetTrackingConfiguration&quot;:<span>{</span>
          &quot;PredefinedMetricSpecification&quot;:<span>{</span>
            &quot;PredefinedMetricType&quot;:&quot;ASGAverageCPUUtilization&quot;
          },
          &quot;TargetValue&quot;:<span>{</span>
            &quot;Ref&quot;:&quot;CPUPolicyTargetValue&quot;
          }
        }
      }
    },
    &quot;myALBRequestCountPolicy&quot;:<span>{</span>
      &quot;Type&quot;:&quot;AWS::AutoScaling::ScalingPolicy&quot;,
      &quot;Properties&quot;:<span>{</span>
        &quot;AutoScalingGroupName&quot;:<span>{</span>
          &quot;Ref&quot;:&quot;myASG&quot;
        },
        &quot;PolicyType&quot;:&quot;TargetTrackingScaling&quot;,
        &quot;TargetTrackingConfiguration&quot;:<span>{</span>
          &quot;PredefinedMetricSpecification&quot;:<span>{</span>
            &quot;PredefinedMetricType&quot;:&quot;ALBRequestCountPerTarget&quot;,
            &quot;ResourceLabel&quot;:<span>{</span>
              &quot;Fn::Join&quot;:[
                &quot;/&quot;,
                [
                  <span>{</span>
                    &quot;Fn::GetAtt&quot;:[
                      &quot;myLoadBalancer&quot;,
                      &quot;LoadBalancerFullName&quot;
                    ]
                  },
                  <span>{</span>
                    &quot;Fn::GetAtt&quot;:[
                      &quot;myTargetGroup&quot;,
                      &quot;TargetGroupFullName&quot;
                    ]
                  }
                ]
              ]
            }
          },
          &quot;TargetValue&quot;:<span>{</span>
            &quot;Ref&quot;:&quot;ALBRequestCountTargetValue&quot;
          }
        }
      }
    }
  }
}</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-properties-as-policy--examples--Target_tracking_scaling_policy--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: 2010-09-09
Parameters:
  AMI:
    Type: String
  Subnets:
    Type: CommaDelimitedList
  VPC:
    Type: String
  CPUPolicyTargetValue:
    Type: String
  ALBRequestCountTargetValue:
    Type: String
Resources:
  myLoadBalancer:
    Type: AWS::ElasticLoadBalancingV2::LoadBalancer
    Properties:
      Subnets: !Ref Subnets
  myLoadBalancerListener:
    Type: &quot;AWS::ElasticLoadBalancingV2::Listener&quot;
    Properties:
      DefaultActions:
        - TargetGroupArn: !Ref myTargetGroup
          Type: forward
      LoadBalancerArn: !Ref myLoadBalancer
      Port: 80
      Protocol: HTTP
  myTargetGroup:
    Type: &quot;AWS::ElasticLoadBalancingV2::TargetGroup&quot;
    Properties:
      Name: myTargetGroup
      Port: 80
      Protocol: HTTP
      VpcId: !Ref VPC
  myLaunchConfig:
    Type: AWS::AutoScaling::LaunchConfiguration
    Properties:
      ImageId: !Ref AMI
      InstanceType: t2.large
  myASG:
    Type: AWS::AutoScaling::AutoScalingGroup
    Properties:
      MaxSize: &apos;2&apos;
      MinSize: &apos;1&apos;
      VPCZoneIdentifier: !Ref Subnets
      LaunchConfigurationName: !Ref myLaunchConfig
      TargetGroupARNs:
        - !Ref myTargetGroup
  myCPUPolicy:
    Type: AWS::AutoScaling::ScalingPolicy
    Properties:
      AutoScalingGroupName: !Ref myASG
      PolicyType: TargetTrackingScaling
      TargetTrackingConfiguration:
        PredefinedMetricSpecification:
          PredefinedMetricType: ASGAverageCPUUtilization
        TargetValue: !Ref CPUPolicyTargetValue
  myALBRequestCountPolicy:
    Type: AWS::AutoScaling::ScalingPolicy
    Properties:
      AutoScalingGroupName: !Ref myASG
      PolicyType: TargetTrackingScaling
      TargetTrackingConfiguration:
        PredefinedMetricSpecification:
          PredefinedMetricType: ALBRequestCountPerTarget
          ResourceLabel: !Join 
            - &apos;/&apos; 
            - - !GetAtt myLoadBalancer.LoadBalancerFullName
              - !GetAtt myTargetGroup.TargetGroupFullName
        TargetValue: !Ref ALBRequestCountTargetValue</code></pre></div>
                                 <h3 id="aws-properties-as-policy--examples--Step_scaling_policy">Step scaling policy</h3>
                                 <p>The following example creates a scaling policy with the <code class="code">StepScaling</code>
                                    policy type and the <code class="code">ChangeInCapacity</code> adjustment type. You must also create a
                                    CloudWatch alarm that monitors a CloudWatch metric for your Auto Scaling group. You
                                    can associate a CloudWatch alarm with only one scaling policy. 
                                 </p>
                                 <p>When the associated alarm is triggered, the policy increases the capacity of the Auto
                                    Scaling group based on the following step adjustments (assuming a CloudWatch alarm
                                    threshold of 70 percent): 
                                 </p>
                                 <div class="itemizedlist">
                                     
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p>Increase capacity by 1 when the value of the metric is greater than or equal to 70
                                             percent but less than 85 percent 
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>Increase capacity by 2 when the value of the metric is greater than or equal to 85
                                             percent but less than 95 percent 
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>Increase capacity by 3 when the value of the metric is greater than or equal to 95
                                             percent 
                                          </p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-properties-as-policy--examples--Step_scaling_policy--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;Resources&quot;:<span>{</span>
    &quot;ASGScalingPolicyHigh&quot;:<span>{</span>
      &quot;Type&quot;:&quot;AWS::AutoScaling::ScalingPolicy&quot;,
      &quot;Properties&quot;:<span>{</span>
        &quot;AdjustmentType&quot;:&quot;ChangeInCapacity&quot;,
        &quot;AutoScalingGroupName&quot;:<span>{</span>
          &quot;Ref&quot;:&quot;myASG&quot;
        },
        &quot;PolicyType&quot;:&quot;StepScaling&quot;,
        &quot;MetricAggregationType&quot;:&quot;Average&quot;,
        &quot;EstimatedInstanceWarmup&quot;:60,
        &quot;StepAdjustments&quot;:[
          <span>{</span>
            &quot;MetricIntervalLowerBound&quot;:0,
            &quot;MetricIntervalUpperBound&quot;:15,
            &quot;ScalingAdjustment&quot;:1
          },
          <span>{</span>
            &quot;MetricIntervalLowerBound&quot;:15,
            &quot;MetricIntervalUpperBound&quot;:25,
            &quot;ScalingAdjustment&quot;:2
          },
          <span>{</span>
            &quot;MetricIntervalLowerBound&quot;:25,
            &quot;ScalingAdjustment&quot;:3
          }
        ]
      }
    }
  }
}</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-properties-as-policy--examples--Step_scaling_policy--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
Resources:
  ASGScalingPolicyHigh: 
    Type: AWS::AutoScaling::ScalingPolicy
    Properties: 
      AdjustmentType: &quot;ChangeInCapacity&quot;
      AutoScalingGroupName: 
        Ref: &quot;myASG&quot;
      PolicyType: &quot;StepScaling&quot;
      MetricAggregationType: &quot;Average&quot;
      EstimatedInstanceWarmup: 60
      StepAdjustments: 
        - MetricIntervalLowerBound: 0
          MetricIntervalUpperBound: 15
          ScalingAdjustment: 1
        - MetricIntervalLowerBound: 15
          MetricIntervalUpperBound: 25
          ScalingAdjustment: 2
        - MetricIntervalLowerBound: 25
          ScalingAdjustment: 3
      </code></pre></div>
                                 <h3 id="aws-properties-as-policy--examples--Simple_scaling_policy">Simple scaling policy</h3>
                                 <p>The following example creates a scaling policy with the <code class="code">SimpleScaling</code>
                                    policy type and the <code class="code">ChangeInCapacity</code> adjustment type. The policy increases
                                    capacity by one when it is triggered. You must also create a CloudWatch alarm that
                                    monitors a CloudWatch metric for your Auto Scaling group. You can associate a
                                    CloudWatch alarm with only one scaling policy. 
                                 </p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-properties-as-policy--examples--Simple_scaling_policy--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;Resources&quot;:<span>{</span>
    &quot;ASGScalingPolicyHigh&quot;:<span>{</span>
      &quot;Type&quot;:&quot;AWS::AutoScaling::ScalingPolicy&quot;,
      &quot;Properties&quot;:<span>{</span>
        &quot;AdjustmentType&quot;:&quot;ChangeInCapacity&quot;,
        &quot;PolicyType&quot;:&quot;SimpleScaling&quot;,
        &quot;Cooldown&quot;:&quot;300&quot;,
        &quot;AutoScalingGroupName&quot;:<span>{</span>
          &quot;Ref&quot;:&quot;myASG&quot;
        },
        &quot;ScalingAdjustment&quot;:1
      }
    }
  }
}</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-properties-as-policy--examples--Simple_scaling_policy--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
Resources:
  ASGScalingPolicyHigh: 
    Type: AWS::AutoScaling::ScalingPolicy
    Properties: 
      AdjustmentType: &quot;ChangeInCapacity&quot;
      PolicyType: &quot;SimpleScaling&quot;
      Cooldown: &quot;300&quot;
      AutoScalingGroupName: 
        Ref: &quot;myASG&quot;
      ScalingAdjustment: 1</code></pre></div>
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                                 <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning"> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the AWS Documentation, Javascript must be
                                                enabled. Please refer to your browser&apos;s Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div></div>
</body>
</html>