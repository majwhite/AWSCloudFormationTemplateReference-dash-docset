<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="aws-properties-autoscaling-autoscalinggroup-instancesdistribution">AWS::AutoScaling::AutoScalingGroup InstancesDistribution</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>
                                    <code class="code">InstancesDistribution</code> is a subproperty of <a href="aws-properties-autoscaling-autoscalinggroup-mixedinstancespolicy.html">MixedInstancesPolicy</a> that describes an instances distribution for an Auto Scaling
                                    group. The instances distribution specifies the distribution of On-Demand Instances
                                    and Spot
                                    Instances, the maximum price to pay for Spot Instances, and how the Auto Scaling group
                                    allocates instance types to fulfill On-Demand and Spot capacity. 
                                 </p>
                                 <p>For more information, see <a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/asg-purchase-options.html">Auto Scaling groups with multiple
                                       instance types and purchase options</a> in the <em>Amazon EC2 Auto Scaling User
                                       Guide</em>.
                                 </p>
                                 <h2 id="aws-properties-autoscaling-autoscalinggroup-instancesdistribution-syntax">Syntax</h2>
                                 <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h3 id="aws-properties-autoscaling-autoscalinggroup-instancesdistribution-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;<a href="#cfn-autoscaling-autoscalinggroup-instancesdistribution-ondemandallocationstrategy">OnDemandAllocationStrategy</a>&quot; : <code class="replaceable">String</code>,
  &quot;<a href="#cfn-autoscaling-autoscalinggroup-instancesdistribution-ondemandbasecapacity">OnDemandBaseCapacity</a>&quot; : <code class="replaceable">Integer</code>,
  &quot;<a href="#cfn-autoscaling-autoscalinggroup-instancesdistribution-ondemandpercentageabovebasecapacity">OnDemandPercentageAboveBaseCapacity</a>&quot; : <code class="replaceable">Integer</code>,
  &quot;<a href="#cfn-autoscaling-autoscalinggroup-instancesdistribution-spotallocationstrategy">SpotAllocationStrategy</a>&quot; : <code class="replaceable">String</code>,
  &quot;<a href="#cfn-autoscaling-autoscalinggroup-instancesdistribution-spotinstancepools">SpotInstancePools</a>&quot; : <code class="replaceable">Integer</code>,
  &quot;<a href="#cfn-autoscaling-autoscalinggroup-instancesdistribution-spotmaxprice">SpotMaxPrice</a>&quot; : <code class="replaceable">String</code>
}
</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h3 id="aws-properties-autoscaling-autoscalinggroup-instancesdistribution-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">  <a href="#cfn-autoscaling-autoscalinggroup-instancesdistribution-ondemandallocationstrategy">OnDemandAllocationStrategy</a>: <code class="replaceable">String</code>
  <a href="#cfn-autoscaling-autoscalinggroup-instancesdistribution-ondemandbasecapacity">OnDemandBaseCapacity</a>: <code class="replaceable">Integer</code>
  <a href="#cfn-autoscaling-autoscalinggroup-instancesdistribution-ondemandpercentageabovebasecapacity">OnDemandPercentageAboveBaseCapacity</a>: <code class="replaceable">Integer</code>
  <a href="#cfn-autoscaling-autoscalinggroup-instancesdistribution-spotallocationstrategy">SpotAllocationStrategy</a>: <code class="replaceable">String</code>
  <a href="#cfn-autoscaling-autoscalinggroup-instancesdistribution-spotinstancepools">SpotInstancePools</a>: <code class="replaceable">Integer</code>
  <a href="#cfn-autoscaling-autoscalinggroup-instancesdistribution-spotmaxprice">SpotMaxPrice</a>: <code class="replaceable">String</code>
</code></pre></div>
                                 <h2 id="aws-properties-autoscaling-autoscalinggroup-instancesdistribution-properties">Properties</h2>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="cfn-autoscaling-autoscalinggroup-instancesdistribution-ondemandallocationstrategy"></a><span class="term"><code class="code">OnDemandAllocationStrategy</code></span></dt>
                                       <dd>
                                          
                                          <p>Indicates how to allocate instance types to fulfill On-Demand capacity. </p>
                                          
                                          <p>The only valid value is <code class="code">prioritized</code>, which is also the default value. This
                                             strategy uses the order of instance type overrides for <a href="aws-properties-autoscaling-autoscalinggroup-launchtemplate.html">LaunchTemplate</a> to define the launch priority of each instance type. The first
                                             instance type in the array is prioritized higher than the last. If all your On-Demand
                                             capacity
                                             cannot be fulfilled using your highest priority instance, then the Auto Scaling groups
                                             launches the remaining capacity using the second priority instance type, and so on.
                                             
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-autoscaling-autoscalinggroup-instancesdistribution-ondemandbasecapacity"></a><span class="term"><code class="code">OnDemandBaseCapacity</code></span></dt>
                                       <dd>
                                          
                                          <p>The minimum amount of the Auto Scaling group&apos;s capacity that must be fulfilled by
                                             On-Demand Instances. This base portion is provisioned first as your group scales.
                                          </p>
                                          
                                          <p>The default value is <code class="code">0</code>. If you leave this property set to <code class="code">0</code>,
                                             On-Demand Instances are launched as a percentage of the Auto Scaling group&apos;s desired
                                             capacity,
                                             per the <code class="code">OnDemandPercentageAboveBaseCapacity</code> setting.
                                          </p>
                                          
                                          <div class="awsdocs-note">
                                             <div class="awsdocs-note-title">
                                                <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                             <div class="awsdocs-note-text">
                                                <p>An update to this property means a gradual replacement of instances to maintain the
                                                   specified number of On-Demand Instances for your base capacity. When replacing instances,
                                                   Amazon EC2 Auto Scaling launches new instances before terminating the old ones. 
                                                </p>
                                             </div>
                                          </div>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: Integer
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-some-interrupt">Some interruptions</a></p>
                                       </dd>
                                       <dt><a id="cfn-autoscaling-autoscalinggroup-instancesdistribution-ondemandpercentageabovebasecapacity"></a><span class="term"><code class="code">OnDemandPercentageAboveBaseCapacity</code></span></dt>
                                       <dd>
                                          
                                          <p>Controls the percentages of On-Demand Instances and Spot Instances for your additional
                                             capacity beyond <code class="code">OnDemandBaseCapacity</code>.
                                          </p>
                                          
                                          <p>The range is 0&#x2013;100. The default value is <code class="code">100</code>. If you leave this property set
                                             to <code class="code">100</code>, the percentages are 100% for On-Demand Instances and 0% for Spot
                                             Instances. 
                                          </p>
                                          
                                          <div class="awsdocs-note">
                                             <div class="awsdocs-note-title">
                                                <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                             <div class="awsdocs-note-text">
                                                <p>An update to this property means a gradual replacement of instances to maintain the
                                                   percentage of On-Demand Instances for your additional capacity above the base capacity.
                                                   When
                                                   replacing instances, Amazon EC2 Auto Scaling launches new instances before terminating
                                                   the
                                                   old ones. 
                                                </p>
                                             </div>
                                          </div>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: Integer
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-some-interrupt">Some interruptions</a></p>
                                       </dd>
                                       <dt><a id="cfn-autoscaling-autoscalinggroup-instancesdistribution-spotallocationstrategy"></a><span class="term"><code class="code">SpotAllocationStrategy</code></span></dt>
                                       <dd>
                                          
                                          <p>Indicates how to allocate Spot capacity across Spot pools.</p>
                                          
                                          <p>If the allocation strategy is <code class="code">lowest-price</code>, the Auto Scaling group launches
                                             instances using the Spot pools with the lowest price, and evenly allocates your instances
                                             across the number of Spot pools that you specify. If the allocation strategy is
                                             <code class="code">capacity-optimized</code>, the Auto Scaling group launches instances using Spot pools
                                             that are optimally chosen based on the available Spot capacity. 
                                          </p>
                                          
                                          <p>The default is <code class="code">lowest-price</code>.
                                          </p>
                                          
                                          <p>Valid values: <code class="code">lowest-price</code> | <code class="code">capacity-optimized</code>
                                             
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-autoscaling-autoscalinggroup-instancesdistribution-spotinstancepools"></a><span class="term"><code class="code">SpotInstancePools</code></span></dt>
                                       <dd>
                                          
                                          <p>The number of Spot pools to use to allocate your Spot capacity. The Spot pools are
                                             determined from the different instance types in the Overrides array of <a href="aws-properties-autoscaling-autoscalinggroup-launchtemplate.html">LaunchTemplate</a>. The range is 1&#x2013;20. The default value is 2. 
                                          </p>
                                          
                                          <p>Valid only when the Spot allocation strategy is <code class="code">lowest-price</code>. 
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: Integer
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-autoscaling-autoscalinggroup-instancesdistribution-spotmaxprice"></a><span class="term"><code class="code">SpotMaxPrice</code></span></dt>
                                       <dd>
                                          
                                          <p>The maximum price per unit hour that you are willing to pay for a Spot Instance. If
                                             you
                                             leave the value of this property blank (which is the default), the maximum Spot price
                                             is set
                                             at the On-Demand price. 
                                          </p>
                                          
                                          <p>Valid Range: Minimum value of 0.001</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                    </dl>
                                 </div>
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning"> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the AWS Documentation, Javascript must be
                                                enabled. Please refer to your browser&apos;s Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div></div>
</body>
</html>