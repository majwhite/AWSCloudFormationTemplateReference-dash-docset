<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="aws-resource-eks-fargateprofile">AWS::EKS::FargateProfile</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>Creates an AWS Fargate profile for your Amazon EKS cluster. You must have at least
                                    one Fargate
                                    profile in a cluster to be able to run pods on Fargate.
                                 </p>
                                 <p>The Fargate profile allows an administrator to declare which pods run on Fargate and
                                    specify
                                    which pods run on which Fargate profile. This declaration is done through the profile&#x2019;s
                                    selectors. Each profile can have up to five selectors that contain a namespace and
                                    labels. A namespace is required for every selector. The label field consists of multiple
                                    optional key-value pairs. Pods that match the selectors are scheduled on Fargate.
                                    If a
                                    to-be-scheduled pod matches any of the selectors in the Fargate profile, then that
                                    pod is
                                    run on Fargate.
                                 </p>
                                 <p>When you create a Fargate profile, you must specify a pod execution role to use with
                                    the
                                    pods that are scheduled with the profile. This role is added to the cluster&apos;s Kubernetes
                                    <a href="https://kubernetes.io/docs/admin/authorization/rbac/" target="_blank"><span>Role Based Access
                                          Control</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> (RBAC) for authorization so that the <code class="code">kubelet</code> that is
                                    running on the Fargate infrastructure can register with your Amazon EKS cluster so
                                    that it can
                                    appear in your cluster as a node. The pod execution role also provides IAM permissions
                                    to the Fargate infrastructure to allow read access to Amazon ECR image repositories.
                                    For more
                                    information, see <a href="https://docs.aws.amazon.com/eks/latest/userguide/pod-execution-role.html">Pod Execution Role</a> in the <em>Amazon EKS User Guide</em>.
                                 </p>
                                 <p>Fargate profiles are immutable. However, you can create a new updated profile to replace
                                    an existing profile and then delete the original after the updated profile has finished
                                    creating.
                                 </p>
                                 <p>If any Fargate profiles in a cluster are in the <code class="code">DELETING</code> status, you must
                                    wait for that Fargate profile to finish deleting before you can create any other profiles
                                    in that cluster.
                                 </p>
                                 <p>For more information, see <a href="https://docs.aws.amazon.com/eks/latest/userguide/fargate-profile.html">AWS Fargate Profile</a> in the <em>Amazon EKS User Guide</em>.
                                 </p>
                                 <h2 id="aws-resource-eks-fargateprofile-syntax">Syntax</h2>
                                 <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h3 id="aws-resource-eks-fargateprofile-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;Type&quot; : &quot;AWS::EKS::FargateProfile&quot;,
  &quot;Properties&quot; : <span>{</span>
      &quot;<a href="#cfn-eks-fargateprofile-clustername">ClusterName</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-eks-fargateprofile-fargateprofilename">FargateProfileName</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-eks-fargateprofile-podexecutionrolearn">PodExecutionRoleArn</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-eks-fargateprofile-selectors">Selectors</a>&quot; : <code class="replaceable">[ <a href="./aws-properties-eks-fargateprofile-selector.html">Selector</a>, ... ]</code>,
      &quot;<a href="#cfn-eks-fargateprofile-subnets">Subnets</a>&quot; : <code class="replaceable">[ String, ... ]</code>,
      &quot;<a href="#cfn-eks-fargateprofile-tags">Tags</a>&quot; : <code class="replaceable">[ <a href="aws-properties-resource-tags.html">Tag</a>, ... ]</code>
    }
}
</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h3 id="aws-resource-eks-fargateprofile-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::EKS::FargateProfile
Properties: 
  <a href="#cfn-eks-fargateprofile-clustername">ClusterName</a>: <code class="replaceable">String</code>
  <a href="#cfn-eks-fargateprofile-fargateprofilename">FargateProfileName</a>: <code class="replaceable">String</code>
  <a href="#cfn-eks-fargateprofile-podexecutionrolearn">PodExecutionRoleArn</a>: <code class="replaceable">String</code>
  <a href="#cfn-eks-fargateprofile-selectors">Selectors</a>: <code class="replaceable">
    - <a href="./aws-properties-eks-fargateprofile-selector.html">Selector</a></code>
  <a href="#cfn-eks-fargateprofile-subnets">Subnets</a>: <code class="replaceable">
    - String</code>
  <a href="#cfn-eks-fargateprofile-tags">Tags</a>: <code class="replaceable">
    - <a href="aws-properties-resource-tags.html">Tag</a></code>
</code></pre></div>
                                 <h2 id="aws-resource-eks-fargateprofile-properties">Properties</h2>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="cfn-eks-fargateprofile-clustername"></a><span class="term"><code class="code">ClusterName</code></span></dt>
                                       <dd>
                                          
                                          <p>The name of the Amazon EKS cluster to apply the Fargate profile to.</p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-eks-fargateprofile-fargateprofilename"></a><span class="term"><code class="code">FargateProfileName</code></span></dt>
                                       <dd>
                                          
                                          <p>The name of the Fargate profile.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-eks-fargateprofile-podexecutionrolearn"></a><span class="term"><code class="code">PodExecutionRoleArn</code></span></dt>
                                       <dd>
                                          
                                          <p>The Amazon Resource Name (ARN) of the pod execution role to use for pods that match
                                             the selectors in
                                             the Fargate profile. The pod execution role allows Fargate infrastructure to register
                                             with
                                             your cluster as a node, and it provides read access to Amazon ECR image repositories.
                                             For
                                             more information, see <a href="https://docs.aws.amazon.com/eks/latest/userguide/pod-execution-role.html">Pod Execution Role</a> in the
                                             <em>Amazon EKS User Guide</em>.
                                          </p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-eks-fargateprofile-selectors"></a><span class="term"><code class="code">Selectors</code></span></dt>
                                       <dd>
                                          
                                          <p>The selectors to match for pods to use this Fargate profile. Each selector must have
                                             an
                                             associated namespace. Optionally, you can also specify labels for a namespace. You
                                             may
                                             specify up to five selectors in a Fargate profile.
                                          </p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: List of <a href="./aws-properties-eks-fargateprofile-selector.html">Selector</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-eks-fargateprofile-subnets"></a><span class="term"><code class="code">Subnets</code></span></dt>
                                       <dd>
                                          
                                          <p>The IDs of subnets to launch your pods into. At this time, pods running on Fargate
                                             are
                                             not assigned public IP addresses, so only private subnets (with no direct route to
                                             an
                                             Internet Gateway) are accepted for this parameter.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-eks-fargateprofile-tags"></a><span class="term"><code class="code">Tags</code></span></dt>
                                       <dd>
                                          
                                          <p>The metadata to apply to the Fargate profile to assist with categorization and
                                             organization. Each tag consists of a key and an optional value, both of which you
                                             define. Fargate profile tags do not propagate to any other resources associated with
                                             the
                                             Fargate profile, such as the pods that are scheduled with it.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of <a href="aws-properties-resource-tags.html">Tag</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                    </dl>
                                 </div>
                                 <h2 id="aws-resource-eks-fargateprofile-return-values">Return values</h2>
                                 <h3 id="aws-resource-eks-fargateprofile-return-values-ref">Ref</h3>
                                 <p>When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code> function, <code class="code">Ref</code> returns the resource name. For example:
                                 </p>
                                 <p>
                                    <code class="code"><span>{</span> &quot;Ref&quot;: &quot;myFargateProfile&quot; }</code>
                                    
                                 </p>
                                 <p>For the Fargate profile<code class="code">myFargateProfile</code>, Ref returns the physical
                                    resource ID of the Fargate profile. For example,
                                    <code class="code">&lt;cluster_name&gt;/&lt;Fargate_profile_name&gt;</code>.
                                 </p>
                                 <p>For more information about using the <code class="code">Ref</code> function, see <a href="intrinsic-function-reference-ref.html">Ref</a>.
                                 </p>
                                 <h3 id="aws-resource-eks-fargateprofile-return-values-fn--getatt">Fn::GetAtt</h3>
                                 <p>The <code class="code">Fn::GetAtt</code> intrinsic function returns a value for a specified attribute of this type. The following
                                    are the available attributes and sample return values.
                                 </p> 
                                 
                                 <p>For more information about using the <code class="code">Fn::GetAtt</code> intrinsic function, see <a href="intrinsic-function-reference-getatt.html">Fn::GetAtt</a>.
                                 </p>
                                 <h4 id="aws-resource-eks-fargateprofile-return-values-fn--getatt-fn--getatt"></h4>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="Arn-fn::getatt"></a><span class="term"><code class="code">Arn</code></span></dt>
                                       <dd>
                                          
                                          <p>The ARN of the cluster, such as
                                             <code class="code">arn:aws:eks:us-west-2:666666666666:fargateprofile/myCluster/myFargateProfile/1cb1a11a-1dc1-1d11-cf11-1111f11fa111</code>.
                                          </p>
                                          
                                       </dd>
                                    </dl>
                                 </div>
                                 <h2 id="aws-resource-eks-fargateprofile--seealso">See also</h2>
                                 <div class="itemizedlist">
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p>
                                             <a href="https://docs.aws.amazon.com/eks/latest/userguide/fargate-profile.html">AWS Fargate profile</a> in the <em>Amazon EKS User Guide
                                                </em>.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>
                                             <a href="https://docs.aws.amazon.com/eks/latest/APIReference/API_CreateFargateProfile.html">CreateFargateProfile</a> in the <em>Amazon EKS API Reference
                                                </em>.
                                          </p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning"> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the AWS Documentation, Javascript must be
                                                enabled. Please refer to your browser&apos;s Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div></div>
</body>
</html>