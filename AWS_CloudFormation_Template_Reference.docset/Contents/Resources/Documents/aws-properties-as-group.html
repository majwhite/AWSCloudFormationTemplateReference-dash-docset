<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="aws-properties-as-group">AWS::AutoScaling::AutoScalingGroup</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>Defines an Amazon EC2 Auto Scaling group with the specified name and attributes. </p>
                                 <p>To configure Amazon EC2 instances launched as part of the group, you can specify a
                                    launch
                                    template or a launch configuration. We recommend that you use a launch template to
                                    make sure
                                    that you can use the latest features of Amazon EC2, such as T2 Unlimited instances.
                                    For more
                                    information, see <a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/create-launch-template.html">Creating a Launch Template for
                                       an Auto Scaling Group</a>.
                                 </p>
                                 <div class="awsdocs-note">
                                    <div class="awsdocs-note-title">
                                       <awsui-icon name="status-warning" variant="error"></awsui-icon><span>Important</span></div>
                                    <div class="awsdocs-note-text">
                                       <p>You can add an <a href="aws-attribute-updatepolicy.html">UpdatePolicy
                                             attribute</a> to your Auto Scaling group to perform rolling updates (or replace the
                                          group) when a change has been made to the group. You can find sample update policies
                                          for
                                          rolling updates in the <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-as-group.html#aws-properties-as-group--examples">Examples</a> section.
                                       </p>
                                    </div>
                                 </div>
                                 <p>For more information, see <a href="https://docs.aws.amazon.com/autoscaling/ec2/APIReference/API_CreateAutoScalingGroup.html">CreateAutoScalingGroup</a> and <a href="https://docs.aws.amazon.com/autoscaling/ec2/APIReference/API_UpdateAutoScalingGroup.html">UpdateAutoScalingGroup</a> in the <em>Amazon EC2 Auto Scaling API
                                       Reference</em>. For more information about Amazon EC2 Auto Scaling, see the <a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/what-is-amazon-ec2-auto-scaling.html">Amazon EC2 Auto Scaling User Guide</a>. 
                                 </p>
                                 <h2 id="aws-properties-as-group-syntax">Syntax</h2>
                                 <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h3 id="aws-properties-as-group-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;Type&quot; : &quot;AWS::AutoScaling::AutoScalingGroup&quot;,
  &quot;Properties&quot; : <span>{</span>
      &quot;<a href="#cfn-autoscaling-autoscalinggroup-autoscalinggroupname">AutoScalingGroupName</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-as-group-availabilityzones">AvailabilityZones</a>&quot; : <code class="replaceable">[ String, ... ]</code>,
      &quot;<a href="#cfn-as-group-cooldown">Cooldown</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-as-group-desiredcapacity">DesiredCapacity</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-as-group-healthcheckgraceperiod">HealthCheckGracePeriod</a>&quot; : <code class="replaceable">Integer</code>,
      &quot;<a href="#cfn-as-group-healthchecktype">HealthCheckType</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-as-group-instanceid">InstanceId</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-as-group-launchconfigurationname">LaunchConfigurationName</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-as-group-launchtemplate">LaunchTemplate</a>&quot; : <code class="replaceable"><a href="./aws-properties-autoscaling-autoscalinggroup-launchtemplatespecification.html">LaunchTemplateSpecification</a></code>,
      &quot;<a href="#cfn-autoscaling-autoscalinggroup-lifecyclehookspecificationlist">LifecycleHookSpecificationList</a>&quot; : <code class="replaceable">[ <a href="./aws-properties-autoscaling-autoscalinggroup-lifecyclehookspecification.html">LifecycleHookSpecification</a>, ... ]</code>,
      &quot;<a href="#cfn-as-group-loadbalancernames">LoadBalancerNames</a>&quot; : <code class="replaceable">[ String, ... ]</code>,
      &quot;<a href="#cfn-as-group-maxinstancelifetime">MaxInstanceLifetime</a>&quot; : <code class="replaceable">Integer</code>,
      &quot;<a href="#cfn-as-group-maxsize">MaxSize</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-as-group-metricscollection">MetricsCollection</a>&quot; : <code class="replaceable">[ <a href="./aws-properties-as-metricscollection.html">MetricsCollection</a>, ... ]</code>,
      &quot;<a href="#cfn-as-group-minsize">MinSize</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-as-group-mixedinstancespolicy">MixedInstancesPolicy</a>&quot; : <code class="replaceable"><a href="./aws-properties-autoscaling-autoscalinggroup-mixedinstancespolicy.html">MixedInstancesPolicy</a></code>,
      &quot;<a href="#cfn-as-group-notificationconfigurations">NotificationConfigurations</a>&quot; : <code class="replaceable">[ <a href="./aws-properties-as-notificationconfigurations.html">NotificationConfiguration</a>, ... ]</code>,
      &quot;<a href="#cfn-as-group-placementgroup">PlacementGroup</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-autoscaling-autoscalinggroup-servicelinkedrolearn">ServiceLinkedRoleARN</a>&quot; : <code class="replaceable">String</code>,
      &quot;<a href="#cfn-as-group-tags">Tags</a>&quot; : <code class="replaceable">[ <a href="./aws-properties-as-tags.html">TagProperty</a>, ... ]</code>,
      &quot;<a href="#cfn-as-group-targetgrouparns">TargetGroupARNs</a>&quot; : <code class="replaceable">[ String, ... ]</code>,
      &quot;<a href="#cfn-as-group-termpolicy">TerminationPolicies</a>&quot; : <code class="replaceable">[ String, ... ]</code>,
      &quot;<a href="#cfn-as-group-vpczoneidentifier">VPCZoneIdentifier</a>&quot; : <code class="replaceable">[ String, ... ]</code>
    }
}
</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h3 id="aws-properties-as-group-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::AutoScaling::AutoScalingGroup
Properties: 
  <a href="#cfn-autoscaling-autoscalinggroup-autoscalinggroupname">AutoScalingGroupName</a>: <code class="replaceable">String</code>
  <a href="#cfn-as-group-availabilityzones">AvailabilityZones</a>: <code class="replaceable">
    - String</code>
  <a href="#cfn-as-group-cooldown">Cooldown</a>: <code class="replaceable">String</code>
  <a href="#cfn-as-group-desiredcapacity">DesiredCapacity</a>: <code class="replaceable">String</code>
  <a href="#cfn-as-group-healthcheckgraceperiod">HealthCheckGracePeriod</a>: <code class="replaceable">Integer</code>
  <a href="#cfn-as-group-healthchecktype">HealthCheckType</a>: <code class="replaceable">String</code>
  <a href="#cfn-as-group-instanceid">InstanceId</a>: <code class="replaceable">String</code>
  <a href="#cfn-as-group-launchconfigurationname">LaunchConfigurationName</a>: <code class="replaceable">String</code>
  <a href="#cfn-as-group-launchtemplate">LaunchTemplate</a>: <code class="replaceable">
    <a href="./aws-properties-autoscaling-autoscalinggroup-launchtemplatespecification.html">LaunchTemplateSpecification</a></code>
  <a href="#cfn-autoscaling-autoscalinggroup-lifecyclehookspecificationlist">LifecycleHookSpecificationList</a>: <code class="replaceable">
    - <a href="./aws-properties-autoscaling-autoscalinggroup-lifecyclehookspecification.html">LifecycleHookSpecification</a></code>
  <a href="#cfn-as-group-loadbalancernames">LoadBalancerNames</a>: <code class="replaceable">
    - String</code>
  <a href="#cfn-as-group-maxinstancelifetime">MaxInstanceLifetime</a>: <code class="replaceable">Integer</code>
  <a href="#cfn-as-group-maxsize">MaxSize</a>: <code class="replaceable">String</code>
  <a href="#cfn-as-group-metricscollection">MetricsCollection</a>: <code class="replaceable">
    - <a href="./aws-properties-as-metricscollection.html">MetricsCollection</a></code>
  <a href="#cfn-as-group-minsize">MinSize</a>: <code class="replaceable">String</code>
  <a href="#cfn-as-group-mixedinstancespolicy">MixedInstancesPolicy</a>: <code class="replaceable">
    <a href="./aws-properties-autoscaling-autoscalinggroup-mixedinstancespolicy.html">MixedInstancesPolicy</a></code>
  <a href="#cfn-as-group-notificationconfigurations">NotificationConfigurations</a>: <code class="replaceable">
    - <a href="./aws-properties-as-notificationconfigurations.html">NotificationConfiguration</a></code>
  <a href="#cfn-as-group-placementgroup">PlacementGroup</a>: <code class="replaceable">String</code>
  <a href="#cfn-autoscaling-autoscalinggroup-servicelinkedrolearn">ServiceLinkedRoleARN</a>: <code class="replaceable">String</code>
  <a href="#cfn-as-group-tags">Tags</a>: <code class="replaceable">
    - <a href="./aws-properties-as-tags.html">TagProperty</a></code>
  <a href="#cfn-as-group-targetgrouparns">TargetGroupARNs</a>: <code class="replaceable">
    - String</code>
  <a href="#cfn-as-group-termpolicy">TerminationPolicies</a>: <code class="replaceable">
    - String</code>
  <a href="#cfn-as-group-vpczoneidentifier">VPCZoneIdentifier</a>: <code class="replaceable">
    - String</code>
</code></pre></div>
                                 <h2 id="aws-properties-as-group-properties">Properties</h2>
                                 <div class="variablelist">
                                    <dl>
                                       <dt><a id="cfn-autoscaling-autoscalinggroup-autoscalinggroupname"></a><span class="term"><code class="code">AutoScalingGroupName</code></span></dt>
                                       <dd>
                                          
                                          <p>The name of the Auto Scaling group. This name must be unique per Region per
                                             account.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Minimum</em>: <code class="code">1</code></p>
                                          <p><em>Maximum</em>: <code class="code">255</code></p>
                                          <p><em>Pattern</em>: <code class="code">[\u0020-\uD7FF\uE000-\uFFFD\uD800\uDC00-\uDBFF\uDFFF\r\n\t]*</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-as-group-availabilityzones"></a><span class="term"><code class="code">AvailabilityZones</code></span></dt>
                                       <dd>
                                          
                                          <p>A list of Availability Zones for the group. You must specify one of the following
                                             properties: <code class="code">VPCZoneIdentifier</code> or <code class="code">AvailabilityZones</code>. 
                                          </p>
                                          
                                          <p>If your account supports EC2-Classic and VPC, this property is required to create
                                             an Auto
                                             Scaling group that launches instances into EC2-Classic.
                                          </p>
                                          
                                          <p><em>Required</em>: Conditional
                                          </p>
                                          <p><em>Type</em>: List of String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-as-group-cooldown"></a><span class="term"><code class="code">Cooldown</code></span></dt>
                                       <dd>
                                          
                                          <p>The amount of time, in seconds, after a scaling activity completes before another
                                             scaling
                                             activity can start. The default value is <code class="code">300</code>. 
                                          </p>
                                          
                                          <p>Used only when a scaling-specific cooldown is not specified and not supported for
                                             target
                                             tracking scaling policies, step scaling policies, or scheduled scaling. For more information,
                                             see <a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/Cooldown.html">Scaling
                                                Cooldowns</a> in the <em>Amazon EC2 Auto Scaling User Guide</em>.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-as-group-desiredcapacity"></a><span class="term"><code class="code">DesiredCapacity</code></span></dt>
                                       <dd>
                                          
                                          <p>The desired capacity is the initial capacity of the Auto Scaling group at the time
                                             of its
                                             creation and the capacity it attempts to maintain. It can scale beyond this capacity
                                             if you
                                             configure automatic scaling.
                                          </p>
                                          
                                          <p>The number must be greater than or equal to the minimum size of the group and less
                                             than or
                                             equal to the maximum size of the group. If you do not specify a desired capacity,
                                             the default
                                             is the minimum size of the group.
                                          </p>
                                          
                                          <p>CloudFormation marks the Auto Scaling group as successful (by setting its status to
                                             CREATE_COMPLETE) when the desired capacity is reached. However, if <code class="code">SpotPrice</code> is
                                             set in the <a href="aws-properties-as-launchconfig.html">launch
                                                configuration</a>, then desired capacity is not used as a criteria for success, because
                                             whether your request is fulfilled depends on Spot Instance capacity and your maximum
                                             price. If
                                             the current Spot price is less than your specified maximum price, Amazon EC2 Auto
                                             Scaling uses
                                             <code class="code">DesiredCapacity</code> as the target capacity for the group. 
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-as-group-healthcheckgraceperiod"></a><span class="term"><code class="code">HealthCheckGracePeriod</code></span></dt>
                                       <dd>
                                          
                                          <p>The amount of time, in seconds, that Amazon EC2 Auto Scaling waits before checking
                                             the
                                             health status of an EC2 instance that has come into service. The default value is
                                             <code class="code">0</code>.
                                          </p>
                                          
                                          <p>For more information, see <a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/healthcheck.html">Health Checks for Auto Scaling
                                                Instances</a> in the <em>Amazon EC2 Auto Scaling User Guide</em>. 
                                          </p>
                                          
                                          <p>If you are adding an <code class="code">ELB</code> health check, you must specify this property.
                                          </p>
                                          
                                          <p><em>Required</em>: Conditional
                                          </p>
                                          <p><em>Type</em>: Integer
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-as-group-healthchecktype"></a><span class="term"><code class="code">HealthCheckType</code></span></dt>
                                       <dd>
                                          
                                          <p>The service to use for the health checks. The valid values are <code class="code">EC2</code> (default)
                                             and <code class="code">ELB</code>. If you configure an Auto Scaling group to use ELB health checks, it
                                             considers the instance unhealthy if it fails either the EC2 status checks or the load
                                             balancer
                                             health checks.
                                          </p>
                                          
                                          <p>For more information, see <a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/healthcheck.html">Health Checks for Auto Scaling
                                                Instances</a> in the <em>Amazon EC2 Auto Scaling User Guide</em>. 
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Minimum</em>: <code class="code">1</code></p>
                                          <p><em>Maximum</em>: <code class="code">32</code></p>
                                          <p><em>Pattern</em>: <code class="code">[\u0020-\uD7FF\uE000-\uFFFD\uD800\uDC00-\uDBFF\uDFFF\r\n\t]*</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-as-group-instanceid"></a><span class="term"><code class="code">InstanceId</code></span></dt>
                                       <dd>
                                          
                                          <p>The ID of the instance used to create a launch configuration for the group. </p>
                                          
                                          <p>When you specify an ID of an instance, Amazon EC2 Auto Scaling creates a new launch
                                             configuration and associates it with the Auto Scaling group. The new launch configuration
                                             derives all its properties from the instance, with the exception of
                                             <code class="code">BlockDeviceMapping</code> and <code class="code">AssociatePublicIpAddress</code>. 
                                          </p>
                                          
                                          <p>For more information, see <a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/create-asg-from-instance.html">Create an Auto Scaling Group
                                                Using an EC2 Instance</a> in the <em>Amazon EC2 Auto Scaling User
                                                Guide</em>. 
                                          </p>
                                          
                                          <p>You must specify one of the following properties: <code class="code">LaunchConfigurationName</code>,
                                             <code class="code">LaunchTemplate</code>, <code class="code">InstanceId</code>, or
                                             <code class="code">MixedInstancesPolicy</code>.
                                          </p>
                                          
                                          <p><em>Required</em>: Conditional
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                       </dd>
                                       <dt><a id="cfn-as-group-launchconfigurationname"></a><span class="term"><code class="code">LaunchConfigurationName</code></span></dt>
                                       <dd>
                                          
                                          <p>The name of the <a href="aws-properties-as-launchconfig.html">launch
                                                configuration</a> to use to launch instances.
                                          </p>
                                          
                                          <p>You must specify one of the following properties: <code class="code">LaunchConfigurationName</code>,
                                             <code class="code">LaunchTemplate</code>, <code class="code">InstanceId</code>, or
                                             <code class="code">MixedInstancesPolicy</code>.
                                          </p>
                                          
                                          <div class="awsdocs-note">
                                             <div class="awsdocs-note-title">
                                                <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                             <div class="awsdocs-note-text">
                                                <p>When you update <code class="code">LaunchConfigurationName</code>, existing Amazon EC2 instances
                                                   continue to run with the configuration that they were originally launched with. To
                                                   update
                                                   existing instances, specify an <a href="aws-attribute-updatepolicy.html">UpdatePolicy
                                                      attribute</a> for the Auto Scaling group. 
                                                </p>
                                             </div>
                                          </div>
                                          
                                          <p><em>Required</em>: Conditional
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Minimum</em>: <code class="code">1</code></p>
                                          <p><em>Maximum</em>: <code class="code">255</code></p>
                                          <p><em>Pattern</em>: <code class="code">[\u0020-\uD7FF\uE000-\uFFFD\uD800\uDC00-\uDBFF\uDFFF\r\n\t]*</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-as-group-launchtemplate"></a><span class="term"><code class="code">LaunchTemplate</code></span></dt>
                                       <dd>
                                          
                                          <p>The <a href="aws-resource-ec2-launchtemplate.html">EC2 launch
                                                template</a> to use to launch instances.
                                          </p>
                                          
                                          <p>You must specify one of the following properties: <code class="code">LaunchConfigurationName</code>,
                                             <code class="code">LaunchTemplate</code>, <code class="code">InstanceId</code>, or
                                             <code class="code">MixedInstancesPolicy</code>.
                                          </p>
                                          
                                          <div class="awsdocs-note">
                                             <div class="awsdocs-note-title">
                                                <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                             <div class="awsdocs-note-text">
                                                <p>When you update <code class="code">LaunchTemplate</code>, existing Amazon EC2 instances continue to
                                                   run with the configuration that they were originally launched with. To update existing
                                                   instances, specify an <a href="aws-attribute-updatepolicy.html">UpdatePolicy
                                                      attribute</a> for the Auto Scaling group.
                                                </p>
                                             </div>
                                          </div>
                                          
                                          <p><em>Required</em>: Conditional
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-autoscaling-autoscalinggroup-launchtemplatespecification.html">LaunchTemplateSpecification</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-autoscaling-autoscalinggroup-lifecyclehookspecificationlist"></a><span class="term"><code class="code">LifecycleHookSpecificationList</code></span></dt>
                                       <dd>
                                          
                                          <p>The lifecycle hooks for the group, which specify actions to perform when Amazon EC2
                                             Auto
                                             Scaling launches or terminates instances.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of <a href="./aws-properties-autoscaling-autoscalinggroup-lifecyclehookspecification.html">LifecycleHookSpecification</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-as-group-loadbalancernames"></a><span class="term"><code class="code">LoadBalancerNames</code></span></dt>
                                       <dd>
                                          
                                          <p>A list of Classic Load Balancers associated with this Auto Scaling group. For Application
                                             Load Balancers and Network Load Balancers, specify a list of target groups using the
                                             <code class="code">TargetGroupARNs</code> property instead. 
                                          </p>
                                          
                                          <p>For more information, see <a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/autoscaling-load-balancer.html">Using a Load Balancer with an
                                                Auto Scaling Group</a> in the <em>Amazon EC2 Auto Scaling User Guide</em>.
                                             
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-as-group-maxinstancelifetime"></a><span class="term"><code class="code">MaxInstanceLifetime</code></span></dt>
                                       <dd>
                                          
                                          <p>The maximum amount of time, in seconds, that an instance can be in service.</p>
                                          
                                          <p>Valid Range: Minimum value of 0.</p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: Integer
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-as-group-maxsize"></a><span class="term"><code class="code">MaxSize</code></span></dt>
                                       <dd>
                                          
                                          <p>The maximum size of the Auto Scaling group.</p>
                                          
                                          <div class="awsdocs-note">
                                             <div class="awsdocs-note-title">
                                                <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                             <div class="awsdocs-note-text">
                                                <p>With a mixed instances policy that uses instance weighting, Amazon EC2 Auto Scaling
                                                   may
                                                   need to go above <code class="code">MaxSize</code> to meet your capacity requirements. In this event,
                                                   Amazon EC2 Auto Scaling will never go above <code class="code">MaxSize</code> by more than your maximum
                                                   instance weight (weights that define how many capacity units each instance contributes
                                                   to
                                                   the capacity of the group).
                                                </p>
                                             </div>
                                          </div>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-as-group-metricscollection"></a><span class="term"><code class="code">MetricsCollection</code></span></dt>
                                       <dd>
                                          
                                          <p>Enables the monitoring of group metrics of an Auto Scaling group. By default, these
                                             metrics are disabled. 
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-as-metricscollection.html">List</a> of <a href="./aws-properties-as-metricscollection.html">MetricsCollection</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-as-group-minsize"></a><span class="term"><code class="code">MinSize</code></span></dt>
                                       <dd>
                                          
                                          <p>The minimum size of the Auto Scaling group.</p>
                                          
                                          <p><em>Required</em>: Yes
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-as-group-mixedinstancespolicy"></a><span class="term"><code class="code">MixedInstancesPolicy</code></span></dt>
                                       <dd>
                                          
                                          <p>An embedded object that specifies a mixed instances policy.</p>
                                          
                                          <p>The policy includes properties that not only define the distribution of On-Demand
                                             Instances and Spot Instances, the maximum price to pay for Spot Instances, and how
                                             the Auto
                                             Scaling group allocates instance types to fulfill On-Demand and Spot capacity, but
                                             also the
                                             properties that specify the instance configuration information&#x2014;the launch template
                                             and
                                             instance types.
                                          </p>
                                          
                                          <p>For more information, see <a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/asg-purchase-options.html">Auto Scaling Groups with Multiple
                                                Instance Types and Purchase Options</a> in the <em>Amazon EC2 Auto Scaling User
                                                Guide</em>.
                                          </p>
                                          
                                          <p>You must specify one of the following properties: <code class="code">LaunchConfigurationName</code>,
                                             <code class="code">LaunchTemplate</code>, <code class="code">InstanceId</code>, or
                                             <code class="code">MixedInstancesPolicy</code>.
                                          </p>
                                          
                                          <p><em>Required</em>: Conditional
                                          </p>
                                          <p><em>Type</em>: <a href="./aws-properties-autoscaling-autoscalinggroup-mixedinstancespolicy.html">MixedInstancesPolicy</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-as-group-notificationconfigurations"></a><span class="term"><code class="code">NotificationConfigurations</code></span></dt>
                                       <dd>
                                          
                                          <p>Configures an Auto Scaling group to send notifications when specified events take
                                             place.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of <a href="./aws-properties-as-notificationconfigurations.html">NotificationConfiguration</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-as-group-placementgroup"></a><span class="term"><code class="code">PlacementGroup</code></span></dt>
                                       <dd>
                                          
                                          <p>The name of an existing cluster placement group into which you want to launch your
                                             instances. A placement group is a logical grouping of instances within a single Availability
                                             Zone. You cannot specify multiple Availability Zones and a placement group. 
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Minimum</em>: <code class="code">1</code></p>
                                          <p><em>Maximum</em>: <code class="code">255</code></p>
                                          <p><em>Pattern</em>: <code class="code">[\u0020-\uD7FF\uE000-\uFFFD\uD800\uDC00-\uDBFF\uDFFF\r\n\t]*</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-autoscaling-autoscalinggroup-servicelinkedrolearn"></a><span class="term"><code class="code">ServiceLinkedRoleARN</code></span></dt>
                                       <dd>
                                          
                                          <p>The Amazon Resource Name (ARN) of the service-linked role that the Auto Scaling group
                                             uses
                                             to call other AWS services on your behalf. By default, Amazon EC2 Auto Scaling uses
                                             a
                                             service-linked role named AWSServiceRoleForAutoScaling, which it creates if it does
                                             not exist.
                                             
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: String
                                          </p>
                                          <p><em>Minimum</em>: <code class="code">1</code></p>
                                          <p><em>Maximum</em>: <code class="code">1600</code></p>
                                          <p><em>Pattern</em>: <code class="code">[\u0020-\uD7FF\uE000-\uFFFD\uD800\uDC00-\uDBFF\uDFFF\r\n\t]*</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-as-group-tags"></a><span class="term"><code class="code">Tags</code></span></dt>
                                       <dd>
                                          
                                          <p>One or more tags. You can tag your Auto Scaling group and propagate the tags to the
                                             Amazon EC2
                                             instances it launches.
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of <a href="./aws-properties-as-tags.html">TagProperty</a></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-as-group-targetgrouparns"></a><span class="term"><code class="code">TargetGroupARNs</code></span></dt>
                                       <dd>
                                          
                                          <p>A list of Amazon Resource Names (ARN) of target groups to associate with the Auto
                                             Scaling
                                             group. Instances are registered as targets in a target group, and traffic is routed
                                             to the
                                             target group. 
                                          </p>
                                          
                                          <p>For more information, see <a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/autoscaling-load-balancer.html">Using a Load Balancer with an
                                                Auto Scaling Group</a> in the <em>Amazon EC2 Auto Scaling User Guide</em>.
                                             
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-as-group-termpolicy"></a><span class="term"><code class="code">TerminationPolicies</code></span></dt>
                                       <dd>
                                          
                                          <p>A policy or a list of policies that are used to select the instances to terminate.
                                             The
                                             policies are executed in the order that you list them. The termination policies supported
                                             by
                                             Amazon EC2 Auto Scaling: <code class="code">OldestInstance</code>, <code class="code">OldestLaunchConfiguration</code>,
                                             <code class="code">NewestInstance</code>, <code class="code">ClosestToNextInstanceHour</code>, <code class="code">Default</code>,
                                             <code class="code">OldestLaunchTemplate</code>, and <code class="code">AllocationStrategy</code>. 
                                          </p>
                                          
                                          <p>For more information, see <a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/as-instance-termination.html">Controlling Which Auto Scaling
                                                Instances Terminate During Scale In</a> in the <em>Amazon EC2 Auto Scaling User
                                                Guide</em>. 
                                          </p>
                                          
                                          <p><em>Required</em>: No
                                          </p>
                                          <p><em>Type</em>: List of String
                                          </p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                       </dd>
                                       <dt><a id="cfn-as-group-vpczoneidentifier"></a><span class="term"><code class="code">VPCZoneIdentifier</code></span></dt>
                                       <dd>
                                          
                                          <p>A list of subnet IDs for a virtual private cloud (VPC). If you specify
                                             <code class="code">VPCZoneIdentifier</code> with <code class="code">AvailabilityZones</code>, the subnets that you
                                             specify for this property must reside in those Availability Zones. 
                                          </p>
                                          
                                          <p>If your account supports EC2-Classic and VPC, this property is required to create
                                             an Auto
                                             Scaling group that launches instances into a VPC. 
                                          </p>
                                          
                                          <p>If this resource has a public IP address and is also in a VPC that is defined in the
                                             same
                                             stack template, you must use the <a href="aws-attribute-dependson.html">DependsOn
                                                attribute</a> to declare a dependency on the <a href="aws-resource-ec2-vpc-gateway-attachment.html">VPC-gateway attachment</a>.
                                          </p>
                                          
                                          <div class="awsdocs-note">
                                             <div class="awsdocs-note-title">
                                                <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                             <div class="awsdocs-note-text">
                                                <p>When you update <code class="code">VPCZoneIdentifier</code>, this retains the same Auto Scaling group
                                                   and replaces old instances with new ones, according to the specified subnets. You
                                                   can
                                                   specify how AWS CloudFormation handles these updates by using an <a href="aws-attribute-updatepolicy.html">UpdatePolicy
                                                      attribute</a>.
                                                </p>
                                             </div>
                                          </div>
                                          
                                          <p><em>Required</em>: Conditional
                                          </p>
                                          <p><em>Type</em>: List of String
                                          </p>
                                          <p><em>Minimum</em>: <code class="code">1</code></p>
                                          <p><em>Maximum</em>: <code class="code">2047</code></p>
                                          <p><em>Pattern</em>: <code class="code">[\u0020-\uD7FF\uE000-\uFFFD\uD800\uDC00-\uDBFF\uDFFF\r\n\t]*</code></p>
                                          <p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-some-interrupt">Some interruptions</a></p>
                                       </dd>
                                    </dl>
                                 </div>
                                 <h2 id="aws-properties-as-group-return-values">Return Values</h2>
                                 <h3 id="aws-properties-as-group-return-values-ref">Ref</h3>
                                 <p>When the logical ID of this resource is provided to the <code class="code">Ref</code> intrinsic
                                    function, <code class="code">Ref</code> returns the resource name. For example:
                                    <code class="code">mystack-myasgroup-NT5EUXTNTXXD</code>.
                                 </p>
                                 <p>For more information about using the <code class="code">Ref</code> function, see <a href="intrinsic-function-reference-ref.html">Ref</a>.
                                    
                                 </p>
                                 <h2 id="aws-properties-as-group--examples">Examples</h2>
                                 <p>The following examples create or make changes to an Auto Scaling group. To view more
                                    examples, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-autoscaling.html">Auto Scaling Template
                                       Snippets</a>.
                                 </p>
                                 <h3 id="aws-properties-as-group--examples--Auto_Scaling_Group_with_Load_Balancer_and_Multiple_Properties">Auto Scaling Group with Load Balancer and Multiple Properties</h3>
                                 <p>The following example attaches an Elastic Load Balancing load balancer to an Auto
                                    Scaling group named <code class="code">myASG</code>. It enables two group metrics using the
                                    <code class="code">MetricsCollection</code> property and creates tags using the <code class="code">Tags</code>
                                    property. The first tag, <code class="code">Environment</code>=<code class="code">Production</code>, is assigned to
                                    the Auto Scaling group and to any EC2 instances launched as part of the Auto Scaling
                                    group. The second tag, <code class="code">Purpose</code>=<code class="code">WebServerGroup</code>, is assigned only
                                    to the Auto Scaling group itself. 
                                 </p>
                                 <p>It also specifies the launch configuration that the Auto Scaling group uses to launch
                                    EC2 instances. The <code class="code">AvailabilityZones</code> property specifies the Availability
                                    Zones where the Auto Scaling group&apos;s instances will be created. The <a href="intrinsic-function-reference-getavailabilityzones.html">Fn::GetAZs</a> function call <span>{</span> &quot;Fn::GetAZs&quot; : &quot;&quot; } specifies all Availability Zones
                                    for the region in which the stack is created. Amazon EC2 Auto Scaling can scale the
                                    number
                                    of instances in the group at a minimum of 1 instance and a maximum of 4 based on the
                                    values for <code class="code">MinSize</code> and <code class="code">MaxSize</code>.
                                 </p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-properties-as-group--examples--Auto_Scaling_Group_with_Load_Balancer_and_Multiple_Properties--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;myASG&quot;:<span>{</span>
    &quot;Type&quot;:&quot;AWS::AutoScaling::AutoScalingGroup&quot;,
    &quot;Properties&quot;:<span>{</span>
      &quot;AvailabilityZones&quot;:<span>{</span>
        &quot;Fn::GetAZs&quot;:&quot;&quot;
      },
      &quot;LaunchConfigurationName&quot;:<span>{</span>
        &quot;Ref&quot;:&quot;myLaunchConfig&quot;
      },
      &quot;MinSize&quot;:&quot;1&quot;,
      &quot;MaxSize&quot;:&quot;4&quot;,
      &quot;LoadBalancerNames&quot;:[
        <span>{</span>
          &quot;Ref&quot;:&quot;myLoadBalancer&quot;
        }
      ],
      &quot;MetricsCollection&quot;:[
        <span>{</span>
          &quot;Granularity&quot;:&quot;1Minute&quot;,
          &quot;Metrics&quot;:[
            &quot;GroupMinSize&quot;,
            &quot;GroupMaxSize&quot;
          ]
        }
      ],
      &quot;Tags&quot;:[
        <span>{</span>
          &quot;Key&quot;:&quot;Environment&quot;,
          &quot;Value&quot;:&quot;Production&quot;,
          &quot;PropagateAtLaunch&quot;:&quot;true&quot;
        },
        <span>{</span>
          &quot;Key&quot;:&quot;Purpose&quot;,
          &quot;Value&quot;:&quot;WebServerGroup&quot;,
          &quot;PropagateAtLaunch&quot;:&quot;false&quot;
        }
      ]
    }
  }
}</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-properties-as-group--examples--Auto_Scaling_Group_with_Load_Balancer_and_Multiple_Properties--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
myASG: 
  Type: AWS::AutoScaling::AutoScalingGroup
  Properties: 
    AvailabilityZones: 
      Fn::GetAZs: &quot;&quot;
    LaunchConfigurationName: 
      Ref: &quot;myLaunchConfig&quot;
    MinSize: &quot;1&quot;
    MaxSize: &quot;4&quot;
    LoadBalancerNames: 
      - Ref: &quot;myLoadBalancer&quot;
    MetricsCollection: 
      - Granularity: &quot;1Minute&quot;
        Metrics: 
          - &quot;GroupMinSize&quot;
          - &quot;GroupMaxSize&quot;
    Tags:
      - Key: Environment
        Value: Production
        PropagateAtLaunch: &quot;true&quot;
      - Key: Purpose
        Value: WebServerGroup
        PropagateAtLaunch: &quot;false&quot;</code></pre></div>
                                 <h3 id="aws-properties-as-group--examples--Rolling_Updates_with_Batch_Update_Policy">Rolling Updates with Batch Update Policy</h3>
                                 <p>The following example specifies an <a href="aws-attribute-updatepolicy.html">UpdatePolicy
                                       attribute</a> for an Auto Scaling group and configures it to use the
                                    <code class="code">AutoScalingRollingUpdate</code> policy with attributes that define the update
                                    policy settings. 
                                 </p>
                                 <p>The sample update policy instructs CloudFormation to perform a rolling update. The
                                    rolling update makes changes to the Auto Scaling group in small batches (for this
                                    example,
                                    instance by instance) based on the <code class="code">MaxBatchSize</code> and a pause time between
                                    batches of updates based on the <code class="code">PauseTime</code>. The
                                    <code class="code">MinInstancesInService</code> specifies the minimum number of instances that must
                                    be in service within the Auto Scaling group while CloudFormation updates old instances.
                                    
                                 </p>
                                 <p>While the stack update is in progress, the following Auto Scaling processes are
                                    suspended: <code class="code">HealthCheck</code>, <code class="code">ReplaceUnhealthy</code>,
                                    <code class="code">AZRebalance</code>, <code class="code">AlarmNotification</code>, and
                                    <code class="code">ScheduledActions</code>. Note: Do not suspend the <code class="code">Launch</code>,
                                    <code class="code">Terminate</code>, or <code class="code">AddToLoadBalancer</code> (if the Auto Scaling group is
                                    being used with Elastic Load Balancing) process types because it can prevent the rolling
                                    update from functioning properly. 
                                 </p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-properties-as-group--examples--Rolling_Updates_with_Batch_Update_Policy--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;myASG&quot;:<span>{</span>
    &quot;UpdatePolicy&quot;:<span>{</span>
      &quot;AutoScalingRollingUpdate&quot;:<span>{</span>
        &quot;MinInstancesInService&quot;:&quot;1&quot;,
        &quot;MaxBatchSize&quot;:&quot;1&quot;,
        &quot;PauseTime&quot;:&quot;PT12M5S&quot;,
        &quot;SuspendProcesses&quot;:[
          &quot;HealthCheck&quot;,
          &quot;ReplaceUnhealthy&quot;,
          &quot;AZRebalance&quot;,
          &quot;AlarmNotification&quot;,
          &quot;ScheduledActions&quot;
        ]
      }
    },
    &quot;Type&quot;:&quot;AWS::AutoScaling::AutoScalingGroup&quot;,
    &quot;Properties&quot;:<span>{</span>
      &quot;AvailabilityZones&quot;:<span>{</span>
        &quot;Fn::GetAZs&quot;:<span>{</span>
          &quot;Ref&quot;:&quot;AWS::Region&quot;
        }
      },
      &quot;LaunchConfigurationName&quot;:<span>{</span>
        &quot;Ref&quot;:&quot;myLaunchConfig&quot;
      },
      &quot;MaxSize&quot;:&quot;3&quot;,
      &quot;MinSize&quot;:&quot;1&quot;
    }
  }
}</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-properties-as-group--examples--Rolling_Updates_with_Batch_Update_Policy--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
myASG: 
  UpdatePolicy: 
    AutoScalingRollingUpdate: 
      MinInstancesInService: &quot;1&quot;
      MaxBatchSize: &quot;1&quot;
      PauseTime: &quot;PT12M5S&quot;
      SuspendProcesses:
        - HealthCheck
        - ReplaceUnhealthy
        - AZRebalance
        - AlarmNotification
        - ScheduledActions
  Type: AWS::AutoScaling::AutoScalingGroup
  Properties: 
    AvailabilityZones: 
      Fn::GetAZs: 
        Ref: &quot;AWS::Region&quot;
    LaunchConfigurationName: 
      Ref: &quot;myLaunchConfig&quot;
    MaxSize: &quot;3&quot;
    MinSize: &quot;1&quot;</code></pre></div>
                                 <h3 id="aws-properties-as-group--examples--Batch_Update_Policy_with_Wait_Condition">Batch Update Policy with Wait Condition</h3>
                                 <p>The following example demonstrates a batch update policy that instructs CloudFormation
                                    to wait for new instances to signal the Auto Scaling group before the group proceeds
                                    to
                                    update the next batch of instances. In the <a href="aws-attribute-updatepolicy.html">UpdatePolicy
                                       attribute</a>, the <code class="code">WaitOnResourceSignals</code> attribute is set to
                                    <code class="code">true</code>. CloudFormation must receive a signal from each new instance within
                                    the specified <code class="code">PauseTime</code> before continuing the update. To signal the Auto
                                    Scaling group, a <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-signal.html">cfn-signal</a> helper
                                    script (not shown) is run on each instance. 
                                 </p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-properties-as-group--examples--Batch_Update_Policy_with_Wait_Condition--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;myASG&quot;:<span>{</span>
    &quot;UpdatePolicy&quot;:<span>{</span>
      &quot;AutoScalingRollingUpdate&quot;:<span>{</span>
        &quot;MinInstancesInService&quot;:&quot;1&quot;,
        &quot;MaxBatchSize&quot;:&quot;1&quot;,
        &quot;PauseTime&quot;:&quot;PT15M&quot;,
        &quot;WaitOnResourceSignals&quot;:&quot;true&quot;,
        &quot;SuspendProcesses&quot;:[
          &quot;HealthCheck&quot;,
          &quot;ReplaceUnhealthy&quot;,
          &quot;AZRebalance&quot;,
          &quot;AlarmNotification&quot;,
          &quot;ScheduledActions&quot;
        ]
      }
    },
    &quot;Type&quot;:&quot;AWS::AutoScaling::AutoScalingGroup&quot;,
    &quot;Properties&quot;:<span>{</span>
      &quot;AvailabilityZones&quot;:<span>{</span>
        &quot;Fn::GetAZs&quot;:<span>{</span>
          &quot;Ref&quot;:&quot;AWS::Region&quot;
        }
      },
      &quot;LaunchConfigurationName&quot;:<span>{</span>
        &quot;Ref&quot;:&quot;myLaunchConfig&quot;
      },
      &quot;MaxSize&quot;:&quot;3&quot;,
      &quot;MinSize&quot;:&quot;1&quot;
    }
  }
}</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-properties-as-group--examples--Batch_Update_Policy_with_Wait_Condition--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">---
myASG: 
  UpdatePolicy: 
    AutoScalingRollingUpdate: 
      MinInstancesInService: &quot;1&quot;
      MaxBatchSize: &quot;1&quot;
      PauseTime: &quot;PT15M&quot;
      WaitOnResourceSignals: &quot;true&quot;
      SuspendProcesses:
        - HealthCheck
        - ReplaceUnhealthy
        - AZRebalance
        - AlarmNotification
        - ScheduledActions
  Type: AWS::AutoScaling::AutoScalingGroup
  Properties: 
    AvailabilityZones: 
      Fn::GetAZs: 
        Ref: &quot;AWS::Region&quot;
    LaunchConfigurationName: 
      Ref: &quot;myLaunchConfig&quot;
    MaxSize: &quot;3&quot;
    MinSize: &quot;1&quot;</code></pre></div>
                                 <h3 id="aws-properties-as-group--examples--Auto_Scaling_Group_and_Launch_Template">Auto Scaling Group and Launch Template</h3>
                                 <p>The following example creates an Auto Scaling group and a launch template (<a href="aws-resource-ec2-launchtemplate.html">AWS::EC2::LaunchTemplate</a>) that the Auto Scaling group uses to launch EC2
                                    instances. It uses the <a href="intrinsic-function-reference-sub.html">Fn::Sub</a> intrinsic function to customize the name of the launch template to
                                    include the stack name.
                                 </p>
                                 <p>The launch template provisions T2 instances in unlimited mode using the
                                    <code class="code">CPUCredits</code> property. By referencing a <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/parameters-section-structure.html">parameter</a> value for <code class="code">ImageId</code>, the AMI is specified when launching
                                    the stack. A block device mapping specifies an EBS volume to attach to each instance,
                                    in
                                    addition to attaching the volumes specified by the AMI. Because <code class="code">Monitoring</code> is
                                    enabled, EC2 metric data will be available at 1-minute intervals (known as detailed
                                    monitoring) through CloudWatch. 
                                 </p>
                                 <p>The example stack creates an Auto Scaling group with a minimum size of 1 and a maximum
                                    size of 6. The initial size of the group is 2 based on the value for
                                    <code class="code">DesiredCapacity</code>. The <code class="code">VPCZoneIdentifier</code> property specifies the
                                    subnets where the instances will be created. Each instance has 300 seconds to warm
                                    up
                                    before receiving its first health check. 
                                 </p>
                                 <div id="JSON" name="JSON" class="section langfilter">
                                    <h4 id="aws-properties-as-group--examples--Auto_Scaling_Group_and_Launch_Template--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  &quot;AWSTemplateFormatVersion&quot;:&quot;2010-09-09&quot;,
  &quot;Parameters&quot;:<span>{</span>
    &quot;myImageId&quot;:<span>{</span>
      &quot;Type&quot;:&quot;AWS::EC2::Image::Id&quot;
    }
  },
  &quot;Resources&quot;:<span>{</span>
    &quot;myLaunchTemplate&quot;:<span>{</span>
      &quot;Type&quot;:&quot;AWS::EC2::LaunchTemplate&quot;,
      &quot;Properties&quot;:<span>{</span>
        &quot;LaunchTemplateName&quot;:<span>{</span>&quot;Fn::Sub&quot;:&quot;$<span>{</span>AWS::StackName}-launch-template&quot;},
        &quot;LaunchTemplateData&quot;:<span>{</span>
          &quot;BlockDeviceMappings&quot;:[<span>{</span>
            &quot;Ebs&quot;:<span>{</span>&quot;VolumeSize&quot;:8},
            &quot;DeviceName&quot;:&quot;/dev/sdf&quot;}],
          &quot;CreditSpecification&quot;:<span>{</span>
            &quot;CpuCredits&quot;:&quot;unlimited&quot;
          },
          &quot;ImageId&quot;:<span>{</span>&quot;Ref&quot;:&quot;myImageId&quot;},
          &quot;KeyName&quot;:&quot;my-key-pair-useast2&quot;,
          &quot;InstanceType&quot;:&quot;t2.micro&quot;,
          &quot;Monitoring&quot;:<span>{</span>&quot;Enabled&quot;:true},
          &quot;SecurityGroupIds&quot;:[&quot;sg-7c227019&quot;, &quot;sg-903004f8&quot;]
        }
      }
    },
    &quot;myASG&quot;:<span>{</span>
      &quot;Type&quot;:&quot;AWS::AutoScaling::AutoScalingGroup&quot;,
      &quot;Properties&quot;:<span>{</span>
        &quot;AutoScalingGroupName&quot;:&quot;myASG&quot;,
        &quot;MinSize&quot;:1,
        &quot;MaxSize&quot;:6,
        &quot;DesiredCapacity&quot;:2,
        &quot;HealthCheckGracePeriod&quot;:300,
        &quot;LaunchTemplate&quot;:<span>{</span>
          &quot;LaunchTemplateId&quot;:<span>{</span>
            &quot;Ref&quot;:&quot;myLaunchTemplate&quot;
          },
          &quot;Version&quot;:<span>{</span>
            &quot;Fn::GetAtt&quot;:[
              &quot;myLaunchTemplate&quot;,
              &quot;LatestVersionNumber&quot;
            ]
          }
        },
        &quot;VPCZoneIdentifier&quot;:[&quot;subnet-5ea0c127&quot;, &quot;subnet-6194ea3b&quot;, &quot;subnet-c934b782&quot;]
      }
    }
  }
}</code></pre></div>
                                 <div id="YAML" name="YAML" class="section langfilter">
                                    <h4 id="aws-properties-as-group--examples--Auto_Scaling_Group_and_Launch_Template--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">AWSTemplateFormatVersion: &apos;2010-09-09&apos;
Parameters:
  myImageId:
    Type: AWS::EC2::Image::Id
Resources:
  myLaunchTemplate:
    Type: AWS::EC2::LaunchTemplate
    Properties: 
      LaunchTemplateName: !Sub $<span>{</span>AWS::StackName}-launch-template
      LaunchTemplateData: 
        BlockDeviceMappings: 
          - Ebs:
              VolumeSize: 8
            DeviceName: /dev/sdf
        CreditSpecification: 
          CpuCredits: Unlimited
        ImageId: !Ref myImageId
        InstanceType: t2.micro
        KeyName: my-key-pair-useast2
        Monitoring: 
          Enabled: true
        SecurityGroupIds: 
          - sg-7c227019
          - sg-903004f8
  myASG:
    Type: AWS::AutoScaling::AutoScalingGroup
    Properties:
      AutoScalingGroupName: myASG
      MinSize: &quot;1&quot;
      MaxSize: &quot;6&quot;
      DesiredCapacity: &quot;2&quot;
      HealthCheckGracePeriod: 300
      LaunchTemplate:
        LaunchTemplateId: !Ref myLaunchTemplate
        Version: !GetAtt myLaunchTemplate.LatestVersionNumber
      VPCZoneIdentifier:
        - subnet-5ea0c127
        - subnet-6194ea3b
        - subnet-c934b782</code></pre></div>
                                 <h2 id="aws-properties-as-group--seealso">See Also</h2>
                                 <div class="itemizedlist">
                                     
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p><a href="aws-attribute-updatepolicy.html">UpdatePolicy
                                                Attribute</a></p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks.html">AWS
                                                CloudFormation Stacks Updates</a></p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/as-suspend-resume-processes.html">Suspending and
                                                Resuming Scaling Processes</a> in the <em>Amazon EC2 Auto Scaling User
                                                Guide</em></p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning"> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the AWS Documentation, Javascript must be
                                                enabled. Please refer to your browser&apos;s Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div></div>
</body>
</html>